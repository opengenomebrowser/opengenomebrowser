(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var MSA=_interopRequireWildcard(_index);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}__webpack_require__(143);var msa=MSA.default;for(var key in MSA){if(MSA.hasOwnProperty(key)){msa[key]=MSA[key]}}if(!!window){window.msa=msa}module.exports=msa},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.version=exports.io=exports.$=exports.boneView=exports.view=exports.selcol=exports.selection=exports.utils=exports.menu=exports.model=exports.msa=undefined;var _Selection=__webpack_require__(2);Object.defineProperty(exports,"selection",{enumerable:true,get:function get(){return _interopRequireDefault(_Selection).default}});var _SelectionCol=__webpack_require__(13);Object.defineProperty(exports,"selcol",{enumerable:true,get:function get(){return _interopRequireDefault(_SelectionCol).default}});var _backboneViewj=__webpack_require__(14);Object.defineProperty(exports,"view",{enumerable:true,get:function get(){return _interopRequireDefault(_backboneViewj).default}});var _backboneChilds=__webpack_require__(16);Object.defineProperty(exports,"boneView",{enumerable:true,get:function get(){return _interopRequireDefault(_backboneChilds).default}});var _jbone=__webpack_require__(15);Object.defineProperty(exports,"$",{enumerable:true,get:function get(){return _interopRequireDefault(_jbone).default}});var _msa=__webpack_require__(17);var _msa2=_interopRequireDefault(_msa);var _msaSeqtools=__webpack_require__(129);var _model2=__webpack_require__(128);var _model=_interopRequireWildcard(_model2);var _menu2=__webpack_require__(130);var _menu=_interopRequireWildcard(_menu2);var _utils2=__webpack_require__(122);var _utils=_interopRequireWildcard(_utils2);var _bio=__webpack_require__(67);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MSAWrapper=function MSAWrapper(){var msa=function msa(args){return _msa2.default.apply(this,args)};msa.prototype=_msa2.default.prototype;return new msa(arguments)};exports.default=MSAWrapper;exports.msa=_msa2.default;exports.model=_model;exports.menu=_menu;exports.utils=_utils;var io={xhr:__webpack_require__(70),fasta:_bio.fasta,clustal:_bio.clustal,gff:_bio.gff,originalFastaMetaParser:_msaSeqtools.getMeta};exports.io=io;var VERSION="imported";if(true){VERSION="0.0.0"}var version=exports.version=VERSION},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.columnsel=exports.rowsel=exports.possel=exports.sel=undefined;var _lodash=__webpack_require__(3);var Model=__webpack_require__(6).Model;var Selection=Model.extend({defaults:{type:"super"}});var RowSelection=Selection.extend({defaults:(0,_lodash.extend)({},Selection.prototype.defaults,{type:"row",seqId:""}),inRow:function inRow(seqId){return seqId===this.get("seqId")},inColumn:function inColumn(rowPos){return true},getLength:function getLength(){return 1}});var ColumnSelection=Selection.extend({defaults:(0,_lodash.extend)({},Selection.prototype.defaults,{type:"column",xStart:-1,xEnd:-1}),inRow:function inRow(){return true},inColumn:function inColumn(rowPos){return xStart<=rowPos&&rowPos<=xEnd},getLength:function getLength(){return xEnd-xStart}});var PosSelection=RowSelection.extend((0,_lodash.extend)({},(0,_lodash.pick)(ColumnSelection,"inColumn"),(0,_lodash.pick)(ColumnSelection,"getLength"),{defaults:(0,_lodash.extend)({},ColumnSelection.prototype.defaults,RowSelection.prototype.defaults,{type:"pos"})}));exports.sel=Selection;exports.possel=PosSelection;exports.rowsel=RowSelection;exports.columnsel=ColumnSelection},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(global,module){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(){var undefined;var VERSION="4.17.21";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",INVALID_TEMPL_VAR_ERROR_TEXT="Invalid `variable` option passed into `_.template`";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=17976931348623157e292,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrimStart=/^\s+/;var reWhitespace=/\s/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global;var freeSelf=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=(false?"undefined":_typeof(exports))=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&(false?"undefined":_typeof(module))=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function trimmedEndIndex(string){var index=string.length;while(index--&&reWhitespace.test(string.charAt(index))){}return index}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,_Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:undefined,symIterator=_Symbol?_Symbol.iterator:undefined,symToStringTag=_Symbol?_Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=_Symbol?_Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})}else if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))})}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if((typeof value==="undefined"?"undefined":_typeof(value))=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){stack||(stack=new Stack);if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){if(iteratees.length){iteratees=arrayMap(iteratees,function(iteratee){if(isArray(iteratee)){return function(value){return baseGet(value,iteratee.length===1?iteratee[0]:iteratee)}}return iteratee})}else{iteratees=[identity]}var index=-1;iteratees=arrayMap(iteratees,baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key==="__proto__"||key==="constructor"||key==="prototype"){return object}if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=array==null?0:array.length;if(high===0){return 0}value=iteratee(value);var valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function predicate(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var arrStacked=stack.get(array);var othStacked=stack.get(other);if(arrStacked&&othStacked){return arrStacked==other&&othStacked==array}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var objStacked=stack.get(object);var othStacked=stack.get(other);if(objStacked&&othStacked){return objStacked==other&&othStacked==object}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function getTag(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value==="undefined"?"undefined":_typeof(value);length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index==="undefined"?"undefined":_typeof(index);if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value==="undefined"?"undefined":_typeof(value);if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value==="undefined"?"undefined":_typeof(value);return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}if(key=="__proto__"){return}return object[key]}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function interceptor(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function memoized(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value==="undefined"?"undefined":_typeof(value);return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&(typeof value==="undefined"?"undefined":_typeof(value))=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return(typeof value==="undefined"?"undefined":_typeof(value))=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key]}}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}else if(reForbiddenIdentifierChars.test(variable)){throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT)}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return baseTrim(string)}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.slice(0,trimmedEndIndex(string)+1)}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function interceptor(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";if(!hasOwnProperty.call(realNames,key)){realNames[key]=[]}realNames[key].push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if("function"=="function"&&_typeof(__webpack_require__(5))=="object"&&__webpack_require__(5)){root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(undefined)}).call(exports,function(){return this}(),__webpack_require__(4)(module))},function(module,exports){"use strict";module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];module.children=[];module.webpackPolyfill=1}return module}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(exports,{})},function(module,exports,__webpack_require__){"use strict";module.exports.Model=__webpack_require__(7);module.exports.Collection=__webpack_require__(12);module.exports.Events=__webpack_require__(8);module.exports.extend=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var Events=__webpack_require__(8);var extend=__webpack_require__(10);var _=__webpack_require__(11);var Model=function Model(attributes,options){var attrs=attributes||{};options||(options={});this.cid=_.uniqueId("c");this.attributes={};if(options.collection)this.collection=options.collection;if(options.parse)attrs=this.parse(attrs,options)||{};attrs=_.defaults({},attrs,_.result(this,"defaults"));this.set(attrs,options);this.changed={};this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function initialize(){},toJSON:function toJSON(options){return _.clone(this.attributes)},sync:function sync(){return Backbone.sync.apply(this,arguments)},get:function get(attr){return this.attributes[attr]},escape:function escape(attr){return _.escape(this.get(attr))},has:function has(attr){return this.get(attr)!=null},set:function set(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(key==null)return this;if((typeof key==="undefined"?"undefined":_typeof(key))==="object"){attrs=key;options=val}else{(attrs={})[key]=val}options||(options={});if(!this._validate(attrs,options))return false;unset=options.unset;silent=options.silent;changes=[];changing=this._changing;this._changing=true;if(!changing){this._previousAttributes=_.clone(this.attributes);this.changed={}}current=this.attributes,prev=this._previousAttributes;if(this.idAttribute in attrs)this.id=attrs[this.idAttribute];for(attr in attrs){val=attrs[attr];if(!_.isEqual(current[attr],val))changes.push(attr);if(!_.isEqual(prev[attr],val)){this.changed[attr]=val}else{delete this.changed[attr]}unset?delete current[attr]:current[attr]=val}if(!silent){if(changes.length)this._pending=options;for(var i=0,length=changes.length;i<length;i++){this.trigger("change:"+changes[i],this,current[changes[i]],options)}}if(changing)return this;if(!silent){while(this._pending){options=this._pending;this._pending=false;this.trigger("change",this,options)}}this._pending=false;this._changing=false;return this},unset:function unset(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:true}))},clear:function clear(options){var attrs={};for(var key in this.attributes){attrs[key]=void 0}return this.set(attrs,_.extend({},options,{unset:true}))},hasChanged:function hasChanged(attr){if(attr==null)return!_.isEmpty(this.changed);return _.has(this.changed,attr)},changedAttributes:function changedAttributes(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):false;var val,changed=false;var old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff){if(_.isEqual(old[attr],val=diff[attr]))continue;(changed||(changed={}))[attr]=val}return changed},previous:function previous(attr){if(attr==null||!this._previousAttributes)return null;return this._previousAttributes[attr]},previousAttributes:function previousAttributes(){return _.clone(this._previousAttributes)},fetch:function fetch(options){options=options?_.clone(options):{};if(options.parse===void 0)options.parse=true;var model=this;var success=options.success;options.success=function(resp){if(!model.set(model.parse(resp,options),options))return false;if(success)success(model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);return this.sync("read",this,options)},save:function save(key,val,options){var attrs,method,xhr,attributes=this.attributes;if(key==null||(typeof key==="undefined"?"undefined":_typeof(key))==="object"){attrs=key;options=val}else{(attrs={})[key]=val}options=_.extend({validate:true},options);if(attrs&&!options.wait){if(!this.set(attrs,options))return false}else{if(!this._validate(attrs,options))return false}if(attrs&&options.wait){this.attributes=_.extend({},attributes,attrs)}if(options.parse===void 0)options.parse=true;var model=this;var success=options.success;options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);if(options.wait)serverAttrs=_.extend(attrs||{},serverAttrs);if(_.isObject(serverAttrs)&&!model.set(serverAttrs,options)){return false}if(success)success(model,resp,options);model.trigger("sync",model,resp,options)};wrapError(this,options);method=this.isNew()?"create":options.patch?"patch":"update";if(method==="patch"&&!options.attrs)options.attrs=attrs;xhr=this.sync(method,this,options);if(attrs&&options.wait)this.attributes=attributes;return xhr},destroy:function destroy(options){options=options?_.clone(options):{};var model=this;var success=options.success;var destroy=function destroy(){model.stopListening();model.trigger("destroy",model,model.collection,options)};options.success=function(resp){if(options.wait||model.isNew())destroy();if(success)success(model,resp,options);if(!model.isNew())model.trigger("sync",model,resp,options)};if(this.isNew()){options.success();return false}wrapError(this,options);var xhr=this.sync("delete",this,options);if(!options.wait)destroy();return xhr},url:function url(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();if(this.isNew())return base;return base.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function parse(resp,options){return resp},clone:function clone(){return new this.constructor(this.attributes)},isNew:function isNew(){return!this.has(this.idAttribute)},isValid:function isValid(options){return this._validate({},_.extend(options||{},{validate:true}))},_validate:function _validate(attrs,options){if(!options.validate||!this.validate)return true;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;if(!error)return true;this.trigger("invalid",this,error,_.extend(options,{validationError:error}));return false}});var modelMethods=["keys","values","pairs","invert","pick","omit","chain","isEmpty"];_.each(modelMethods,function(method){if(!_[method])return;Model.prototype[method]=function(){var args=slice.call(arguments);args.unshift(this.attributes);return _[method].apply(_,args)}});Model.extend=extend;module.exports=Model},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(9)},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(){var root=this,nativeForEach=Array.prototype.forEach,hasOwnProperty=Object.prototype.hasOwnProperty,slice=Array.prototype.slice,idCounter=0;function miniscore(){return{keys:Object.keys||function(obj){if((typeof obj==="undefined"?"undefined":_typeof(obj))!=="object"&&typeof obj!=="function"||obj===null){throw new TypeError("keys() called on a non-object")}var key,keys=[];for(key in obj){if(obj.hasOwnProperty(key)){keys[keys.length]=key}}return keys},uniqueId:function uniqueId(prefix){var id=++idCounter+"";return prefix?prefix+id:id},has:function has(obj,key){return hasOwnProperty.call(obj,key)},each:function each(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){iterator.call(context,obj[i],i,obj)}}else{for(var key in obj){if(this.has(obj,key)){iterator.call(context,obj[key],key,obj)}}}},once:function once(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;memo=func.apply(this,arguments);func=null;return memo}}}}var _=miniscore(),Events;Events={on:function on(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);events.push({callback:callback,context:context,ctx:context||this});return this},once:function once(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this;var once=_.once(function(){self.off(name,once);callback.apply(this,arguments)});once._callback=callback;return this.on(name,once,context)},off:function off(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context){this._events={};return this}names=name?[name]:_.keys(this._events);for(i=0,l=names.length;i<l;i++){name=names[i];if(events=this._events[name]){this._events[name]=retain=[];if(callback||context){for(j=0,k=events.length;j<k;j++){ev=events[j];if(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context){retain.push(ev)}}}if(!retain.length)delete this._events[name]}}return this},trigger:function trigger(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name];var allEvents=this._events.all;if(events)triggerEvents(events,args);if(allEvents)triggerEvents(allEvents,arguments);return this},stopListening:function stopListening(obj,name,callback){var listeners=this._listeners;if(!listeners)return this;var deleteListener=!name&&!callback;if((typeof name==="undefined"?"undefined":_typeof(name))==="object")callback=this;if(obj)(listeners={})[obj._listenerId]=obj;for(var id in listeners){listeners[id].off(name,callback,this);if(deleteListener)delete this._listeners[id]}return this}};var eventSplitter=/\s+/;var eventsApi=function eventsApi(obj,action,name,rest){if(!name)return true;if((typeof name==="undefined"?"undefined":_typeof(name))==="object"){for(var key in name){obj[action].apply(obj,[key,name[key]].concat(rest))}return false}if(eventSplitter.test(name)){var names=name.split(eventSplitter);for(var i=0,l=names.length;i<l;i++){obj[action].apply(obj,[names[i]].concat(rest))}return false}return true};var triggerEvents=function triggerEvents(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:while(++i<l){(ev=events[i]).callback.call(ev.ctx)}return;case 1:while(++i<l){(ev=events[i]).callback.call(ev.ctx,a1)}return;case 2:while(++i<l){(ev=events[i]).callback.call(ev.ctx,a1,a2)}return;case 3:while(++i<l){(ev=events[i]).callback.call(ev.ctx,a1,a2,a3)}return;default:while(++i<l){(ev=events[i]).callback.apply(ev.ctx,args)}}};var listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeners=this._listeners||(this._listeners={});var id=obj._listenerId||(obj._listenerId=_.uniqueId("l"));listeners[id]=obj;if((typeof name==="undefined"?"undefined":_typeof(name))==="object")callback=this;obj[implementation](name,callback,this);return this}});Events.bind=Events.on;Events.unbind=Events.off;Events.mixin=function(proto){var exports=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];_.each(exports,function(name){proto[name]=this[name]},this);return proto};if(true){if(typeof module!=="undefined"&&module.exports){exports=module.exports=Events}exports.BackboneEvents=Events}else if(typeof define==="function"&&_typeof(define.amd)=="object"){define(function(){return Events})}else{root.BackboneEvents=Events}})(undefined)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(definition){if((false?"undefined":_typeof(exports))==="object"){module.exports=definition()}else if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{window.BackboneExtend=definition()}})(function(){"use strict";var _={has:function has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)},extend:function extend(obj){for(var i=1;i<arguments.length;++i){var source=arguments[i];if(source){for(var prop in source){obj[prop]=source[prop]}}}return obj}};var extend=function extend(protoProps,staticProps){var parent=this;var child;if(protoProps&&_.has(protoProps,"constructor")){child=protoProps.constructor}else{child=function child(){return parent.apply(this,arguments)}}_.extend(child,parent,staticProps);var Surrogate=function Surrogate(){this.constructor=child};Surrogate.prototype=parent.prototype;child.prototype=new Surrogate;if(protoProps)_.extend(child.prototype,protoProps);child.__super__=parent.prototype;return child};return extend})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(global,factory){(false?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?module.exports=factory():true?!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):(global=typeof globalThis!=="undefined"?globalThis:global||self,function(){var current=global._;var exports=global._=factory();exports.noConflict=function(){global._=current;return exports}}())})(undefined,function(){var VERSION="1.13.3";var root=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self.self===self&&self||(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global.global===global&&global||Function("return this")()||{};var ArrayProto=Array.prototype,ObjProto=Object.prototype;var SymbolProto=typeof Symbol!=="undefined"?Symbol.prototype:null;var push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var supportsArrayBuffer=typeof ArrayBuffer!=="undefined",supportsDataView=typeof DataView!=="undefined";var nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView;var _isNaN=isNaN,_isFinite=isFinite;var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(func,startIndex){startIndex=startIndex==null?func.length-1:+startIndex;return function(){var length=Math.max(arguments.length-startIndex,0),rest=Array(length),index=0;for(;index<length;index++){rest[index]=arguments[index+startIndex]}switch(startIndex){case 0:return func.call(this,rest);case 1:return func.call(this,arguments[0],rest);case 2:return func.call(this,arguments[0],arguments[1],rest)}var args=Array(startIndex+1);for(index=0;index<startIndex;index++){args[index]=arguments[index]}args[startIndex]=rest;return func.apply(this,args)}}function isObject(obj){var type=typeof obj==="undefined"?"undefined":_typeof(obj);return type==="function"||type==="object"&&!!obj}function isNull(obj){return obj===null}function isUndefined(obj){return obj===void 0}function isBoolean(obj){return obj===true||obj===false||toString.call(obj)==="[object Boolean]"}function isElement(obj){return!!(obj&&obj.nodeType===1)}function tagTester(name){var tag="[object "+name+"]";return function(obj){return toString.call(obj)===tag}}var isString=tagTester("String");var isNumber=tagTester("Number");var isDate=tagTester("Date");var isRegExp=tagTester("RegExp");var isError=tagTester("Error");var isSymbol=tagTester("Symbol");var isArrayBuffer=tagTester("ArrayBuffer");var isFunction=tagTester("Function");var nodelist=root.document&&root.document.childNodes;if(typeof/./!="function"&&(typeof Int8Array==="undefined"?"undefined":_typeof(Int8Array))!="object"&&typeof nodelist!="function"){isFunction=function isFunction(obj){return typeof obj=="function"||false}}var isFunction$1=isFunction;var hasObjectTag=tagTester("Object");var hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11=typeof Map!=="undefined"&&hasObjectTag(new Map);var isDataView=tagTester("DataView");function ie10IsDataView(obj){return obj!=null&&isFunction$1(obj.getInt8)&&isArrayBuffer(obj.buffer)}var isDataView$1=hasStringTagBug?ie10IsDataView:isDataView;var isArray=nativeIsArray||tagTester("Array");function has$1(obj,key){return obj!=null&&hasOwnProperty.call(obj,key)}var isArguments=tagTester("Arguments");(function(){if(!isArguments(arguments)){isArguments=function isArguments(obj){return has$1(obj,"callee")}}})();var isArguments$1=isArguments;function isFinite$1(obj){return!isSymbol(obj)&&_isFinite(obj)&&!isNaN(parseFloat(obj))}function isNaN$1(obj){return isNumber(obj)&&_isNaN(obj)}function constant(value){return function(){return value}}function createSizePropertyCheck(getSizeProperty){return function(collection){var sizeProperty=getSizeProperty(collection);return typeof sizeProperty=="number"&&sizeProperty>=0&&sizeProperty<=MAX_ARRAY_INDEX}}function shallowProperty(key){return function(obj){return obj==null?void 0:obj[key]}}var getByteLength=shallowProperty("byteLength");var isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(obj){return nativeIsView?nativeIsView(obj)&&!isDataView$1(obj):isBufferLike(obj)&&typedArrayPattern.test(toString.call(obj))}var isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(false);var getLength=shallowProperty("length");function emulatedSet(keys){var hash={};for(var l=keys.length,i=0;i<l;++i){hash[keys[i]]=true}return{contains:function contains(key){return hash[key]===true},push:function push(key){hash[key]=true;return keys.push(key)}}}function collectNonEnumProps(obj,keys){keys=emulatedSet(keys);var nonEnumIdx=nonEnumerableProps.length;var constructor=obj.constructor;var proto=isFunction$1(constructor)&&constructor.prototype||ObjProto;var prop="constructor";if(has$1(obj,prop)&&!keys.contains(prop))keys.push(prop);while(nonEnumIdx--){prop=nonEnumerableProps[nonEnumIdx];if(prop in obj&&obj[prop]!==proto[prop]&&!keys.contains(prop)){keys.push(prop)}}}function keys(obj){if(!isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj){if(has$1(obj,key))keys.push(key)}if(hasEnumBug)collectNonEnumProps(obj,keys);return keys}function isEmpty(obj){if(obj==null)return true;var length=getLength(obj);if(typeof length=="number"&&(isArray(obj)||isString(obj)||isArguments$1(obj)))return length===0;return getLength(keys(obj))===0}function isMatch(object,attrs){var _keys=keys(attrs),length=_keys.length;if(object==null)return!length;var obj=Object(object);for(var i=0;i<length;i++){var key=_keys[i];if(attrs[key]!==obj[key]||!(key in obj))return false}return true}function _$1(obj){if(obj instanceof _$1)return obj;if(!(this instanceof _$1))return new _$1(obj);this._wrapped=obj}_$1.VERSION=VERSION;_$1.prototype.value=function(){return this._wrapped};_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value;_$1.prototype.toString=function(){return String(this._wrapped)};function toBufferView(bufferSource){return new Uint8Array(bufferSource.buffer||bufferSource,bufferSource.byteOffset||0,getByteLength(bufferSource))}var tagDataView="[object DataView]";function eq(a,b,aStack,bStack){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return false;if(a!==a)return b!==b;var type=typeof a==="undefined"?"undefined":_typeof(a);if(type!=="function"&&type!=="object"&&(typeof b==="undefined"?"undefined":_typeof(b))!="object")return false;return deepEq(a,b,aStack,bStack)}function deepEq(a,b,aStack,bStack){if(a instanceof _$1)a=a._wrapped;if(b instanceof _$1)b=b._wrapped;var className=toString.call(a);if(className!==toString.call(b))return false;if(hasStringTagBug&&className=="[object Object]"&&isDataView$1(a)){if(!isDataView$1(b))return false;className=tagDataView}switch(className){case"[object RegExp]":case"[object String]":return""+a===""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b;case"[object Symbol]":return SymbolProto.valueOf.call(a)===SymbolProto.valueOf.call(b);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(a),toBufferView(b),aStack,bStack)}var areArrays=className==="[object Array]";if(!areArrays&&isTypedArray$1(a)){var byteLength=getByteLength(a);if(byteLength!==getByteLength(b))return false;if(a.buffer===b.buffer&&a.byteOffset===b.byteOffset)return true;areArrays=true}if(!areArrays){if((typeof a==="undefined"?"undefined":_typeof(a))!="object"||(typeof b==="undefined"?"undefined":_typeof(b))!="object")return false;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(isFunction$1(aCtor)&&aCtor instanceof aCtor&&isFunction$1(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b){return false}}aStack=aStack||[];bStack=bStack||[];var length=aStack.length;while(length--){if(aStack[length]===a)return bStack[length]===b}aStack.push(a);bStack.push(b);if(areArrays){length=a.length;if(length!==b.length)return false;while(length--){if(!eq(a[length],b[length],aStack,bStack))return false}}else{var _keys=keys(a),key;length=_keys.length;if(keys(b).length!==length)return false;while(length--){key=_keys[length];if(!(has$1(b,key)&&eq(a[key],b[key],aStack,bStack)))return false}}aStack.pop();bStack.pop();return true}function isEqual(a,b){return eq(a,b)}function allKeys(obj){if(!isObject(obj))return[];var keys=[];for(var key in obj){keys.push(key)}if(hasEnumBug)collectNonEnumProps(obj,keys);return keys}function ie11fingerprint(methods){var length=getLength(methods);return function(obj){if(obj==null)return false;var keys=allKeys(obj);if(getLength(keys))return false;for(var i=0;i<length;i++){if(!isFunction$1(obj[methods[i]]))return false}return methods!==weakMapMethods||!isFunction$1(obj[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"];var mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);var isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map");var isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap");var isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set");var isWeakSet=tagTester("WeakSet");function values(obj){var _keys=keys(obj);var length=_keys.length;var values=Array(length);for(var i=0;i<length;i++){values[i]=obj[_keys[i]]}return values}function pairs(obj){var _keys=keys(obj);var length=_keys.length;var pairs=Array(length);for(var i=0;i<length;i++){pairs[i]=[_keys[i],obj[_keys[i]]]}return pairs}function invert(obj){var result={};var _keys=keys(obj);for(var i=0,length=_keys.length;i<length;i++){result[obj[_keys[i]]]=_keys[i]}return result}function functions(obj){var names=[];for(var key in obj){if(isFunction$1(obj[key]))names.push(key)}return names.sort()}function createAssigner(keysFunc,defaults){return function(obj){var length=arguments.length;if(defaults)obj=Object(obj);if(length<2||obj==null)return obj;for(var index=1;index<length;index++){var source=arguments[index],keys=keysFunc(source),l=keys.length;for(var i=0;i<l;i++){var key=keys[i];if(!defaults||obj[key]===void 0)obj[key]=source[key]}}return obj}}var extend=createAssigner(allKeys);var extendOwn=createAssigner(keys);var defaults=createAssigner(allKeys,true);function ctor(){return function(){}}function baseCreate(prototype){if(!isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);var Ctor=ctor();Ctor.prototype=prototype;var result=new Ctor;Ctor.prototype=null;return result}function create(prototype,props){var result=baseCreate(prototype);if(props)extendOwn(result,props);return result}function clone(obj){if(!isObject(obj))return obj;return isArray(obj)?obj.slice():extend({},obj)}function tap(obj,interceptor){interceptor(obj);return obj}function toPath$1(path){return isArray(path)?path:[path]}_$1.toPath=toPath$1;function toPath(path){return _$1.toPath(path)}function deepGet(obj,path){var length=path.length;for(var i=0;i<length;i++){if(obj==null)return void 0;obj=obj[path[i]]}return length?obj:void 0}function get(object,path,defaultValue){var value=deepGet(object,toPath(path));return isUndefined(value)?defaultValue:value}function has(obj,path){path=toPath(path);var length=path.length;for(var i=0;i<length;i++){var key=path[i];if(!has$1(obj,key))return false;obj=obj[key]}return!!length}function identity(value){return value}function matcher(attrs){attrs=extendOwn({},attrs);return function(obj){return isMatch(obj,attrs)}}function property(path){path=toPath(path);return function(obj){return deepGet(obj,path)}}function optimizeCb(func,context,argCount){if(context===void 0)return func;switch(argCount==null?3:argCount){case 1:return function(value){return func.call(context,value)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}}function baseIteratee(value,context,argCount){if(value==null)return identity;if(isFunction$1(value))return optimizeCb(value,context,argCount);if(isObject(value)&&!isArray(value))return matcher(value);return property(value)}function iteratee(value,context){return baseIteratee(value,context,Infinity)}_$1.iteratee=iteratee;function cb(value,context,argCount){if(_$1.iteratee!==iteratee)return _$1.iteratee(value,context);return baseIteratee(value,context,argCount)}function mapObject(obj,iteratee,context){iteratee=cb(iteratee,context);var _keys=keys(obj),length=_keys.length,results={};for(var index=0;index<length;index++){var currentKey=_keys[index];results[currentKey]=iteratee(obj[currentKey],currentKey,obj)}return results}function noop(){}function propertyOf(obj){if(obj==null)return noop;return function(path){return get(obj,path)}}function times(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++){accum[i]=iteratee(i)}return accum}function random(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))}var now=Date.now||function(){return(new Date).getTime()};function createEscaper(map){var escaper=function escaper(match){return map[match]};var source="(?:"+keys(map).join("|")+")";var testRegexp=RegExp(source);var replaceRegexp=RegExp(source,"g");return function(string){string=string==null?"":""+string;return testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var _escape=createEscaper(escapeMap);var unescapeMap=invert(escapeMap);var _unescape=createEscaper(unescapeMap);var templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(match){return"\\"+escapes[match]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(text,settings,oldSettings){if(!settings&&oldSettings)settings=oldSettings;settings=defaults({},settings,_$1.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escapeRegExp,escapeChar);index=offset+match.length;if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}else if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}else if(evaluate){source+="';\n"+evaluate+"\n__p+='"}return match});source+="';\n";var argument=settings.variable;if(argument){if(!bareIdentifier.test(argument))throw new Error("variable is not a bare identifier: "+argument)}else{source="with(obj||{}){\n"+source+"}\n";argument="obj"}source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";var render;try{render=new Function(argument,"_",source)}catch(e){e.source=source;throw e}var template=function template(data){return render.call(this,data,_$1)};template.source="function("+argument+"){\n"+source+"}";return template}function result(obj,path,fallback){path=toPath(path);var length=path.length;if(!length){return isFunction$1(fallback)?fallback.call(obj):fallback}for(var i=0;i<length;i++){var prop=obj==null?void 0:obj[path[i]];if(prop===void 0){prop=fallback;i=length}obj=isFunction$1(prop)?prop.call(obj):prop}return obj}var idCounter=0;function uniqueId(prefix){var id=++idCounter+"";return prefix?prefix+id:id}function chain(obj){var instance=_$1(obj);instance._chain=true;return instance}function executeBound(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype);var result=sourceFunc.apply(self,args);if(isObject(result))return result;return self}var partial=restArguments(function(func,boundArgs){var placeholder=partial.placeholder;var bound=function bound(){var position=0,length=boundArgs.length;var args=Array(length);for(var i=0;i<length;i++){args[i]=boundArgs[i]===placeholder?arguments[position++]:boundArgs[i]}while(position<arguments.length){args.push(arguments[position++])}return executeBound(func,bound,this,this,args)};return bound});partial.placeholder=_$1;var bind=restArguments(function(func,context,args){if(!isFunction$1(func))throw new TypeError("Bind must be called on a function");var bound=restArguments(function(callArgs){return executeBound(func,bound,context,this,args.concat(callArgs))});return bound});var isArrayLike=createSizePropertyCheck(getLength);function flatten$1(input,depth,strict,output){output=output||[];if(!depth&&depth!==0){depth=Infinity}else if(depth<=0){return output.concat(input)}var idx=output.length;for(var i=0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(isArray(value)||isArguments$1(value))){if(depth>1){flatten$1(value,depth-1,strict,output);idx=output.length}else{var j=0,len=value.length;while(j<len){output[idx++]=value[j++]}}}else if(!strict){output[idx++]=value}}return output}var bindAll=restArguments(function(obj,keys){keys=flatten$1(keys,false,false);var index=keys.length;if(index<1)throw new Error("bindAll must be passed function names");while(index--){var key=keys[index];obj[key]=bind(obj[key],obj)}return obj});function memoize(func,hasher){var memoize=function memoize(key){var cache=memoize.cache;var address=""+(hasher?hasher.apply(this,arguments):key);if(!has$1(cache,address))cache[address]=func.apply(this,arguments);return cache[address]};memoize.cache={};return memoize}var delay=restArguments(function(func,wait,args){return setTimeout(function(){return func.apply(null,args)},wait)});var defer=partial(delay,_$1,1);function throttle(func,wait,options){var timeout,context,args,result;var previous=0;if(!options)options={};var later=function later(){previous=options.leading===false?0:now();timeout=null;result=func.apply(context,args);if(!timeout)context=args=null};var throttled=function throttled(){var _now=now();if(!previous&&options.leading===false)previous=_now;var remaining=wait-(_now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=_now;result=func.apply(context,args);if(!timeout)context=args=null}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result};throttled.cancel=function(){clearTimeout(timeout);previous=0;timeout=context=args=null};return throttled}function debounce(func,wait,immediate){var timeout,previous,args,result,context;var later=function later(){var passed=now()-previous;if(wait>passed){timeout=setTimeout(later,wait-passed)}else{timeout=null;if(!immediate)result=func.apply(context,args);if(!timeout)args=context=null}};var debounced=restArguments(function(_args){context=this;args=_args;previous=now();if(!timeout){timeout=setTimeout(later,wait);if(immediate)result=func.apply(context,args)}return result});debounced.cancel=function(){clearTimeout(timeout);timeout=args=context=null};return debounced}function wrap(func,wrapper){return partial(wrapper,func)}function negate(predicate){return function(){return!predicate.apply(this,arguments)}}function compose(){var args=arguments;var start=args.length-1;return function(){var i=start;var result=args[start].apply(this,arguments);while(i--){result=args[i].call(this,result)}return result}}function after(times,func){return function(){if(--times<1){return func.apply(this,arguments)}}}function before(times,func){var memo;return function(){if(--times>0){memo=func.apply(this,arguments)}if(times<=1)func=null;return memo}}var once=partial(before,2);function findKey(obj,predicate,context){predicate=cb(predicate,context);var _keys=keys(obj),key;for(var i=0,length=_keys.length;i<length;i++){key=_keys[i];if(predicate(obj[key],key,obj))return key}}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);var length=getLength(array);var index=dir>0?0:length-1;for(;index>=0&&index<length;index+=dir){if(predicate(array[index],index,array))return index}return-1}}var findIndex=createPredicateIndexFinder(1);var findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);var value=iteratee(obj);var low=0,high=getLength(array);while(low<high){var mid=Math.floor((low+high)/2);if(iteratee(array[mid])<value)low=mid+1;else high=mid}return low}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if(typeof idx=="number"){if(dir>0){i=idx>=0?idx:Math.max(idx+length,i)}else{length=idx>=0?Math.min(idx+1,length):idx+length+1}}else if(sortedIndex&&idx&&length){idx=sortedIndex(array,item);return array[idx]===item?idx:-1}if(item!==item){idx=predicateFind(slice.call(array,i,length),isNaN$1);return idx>=0?idx+i:-1}for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir){if(array[idx]===item)return idx}return-1}}var indexOf=createIndexFinder(1,findIndex,sortedIndex);var lastIndexOf=createIndexFinder(-1,findLastIndex);function find(obj,predicate,context){var keyFinder=isArrayLike(obj)?findIndex:findKey;var key=keyFinder(obj,predicate,context);if(key!==void 0&&key!==-1)return obj[key]}function findWhere(obj,attrs){return find(obj,matcher(attrs))}function each(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj)){for(i=0,length=obj.length;i<length;i++){iteratee(obj[i],i,obj)}}else{var _keys=keys(obj);for(i=0,length=_keys.length;i<length;i++){iteratee(obj[_keys[i]],_keys[i],obj)}}return obj}function map(obj,iteratee,context){iteratee=cb(iteratee,context);var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,results=Array(length);for(var index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results}function createReduce(dir){var reducer=function reducer(obj,iteratee,memo,initial){var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length,index=dir>0?0:length-1;if(!initial){memo=obj[_keys?_keys[index]:index];index+=dir}for(;index>=0&&index<length;index+=dir){var currentKey=_keys?_keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo};return function(obj,iteratee,memo,context){var initial=arguments.length>=3;return reducer(obj,optimizeCb(iteratee,context,4),memo,initial)}}var reduce=createReduce(1);var reduceRight=createReduce(-1);function filter(obj,predicate,context){var results=[];predicate=cb(predicate,context);each(obj,function(value,index,list){if(predicate(value,index,list))results.push(value)});return results}function reject(obj,predicate,context){return filter(obj,negate(cb(predicate)),context)}function every(obj,predicate,context){predicate=cb(predicate,context);var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length;for(var index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return false}return true}function some(obj,predicate,context){predicate=cb(predicate,context);var _keys=!isArrayLike(obj)&&keys(obj),length=(_keys||obj).length;for(var index=0;index<length;index++){var currentKey=_keys?_keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return true}return false}function contains(obj,item,fromIndex,guard){if(!isArrayLike(obj))obj=values(obj);if(typeof fromIndex!="number"||guard)fromIndex=0;return indexOf(obj,item,fromIndex)>=0}var invoke=restArguments(function(obj,path,args){var contextPath,func;if(isFunction$1(path)){func=path}else{path=toPath(path);contextPath=path.slice(0,-1);path=path[path.length-1]}return map(obj,function(context){var method=func;if(!method){if(contextPath&&contextPath.length){context=deepGet(context,contextPath)}if(context==null)return void 0;method=context[path]}return method==null?method:method.apply(context,args)})});function pluck(obj,key){return map(obj,property(key))}function where(obj,attrs){return filter(obj,matcher(attrs))}function max(obj,iteratee,context){var result=-Infinity,lastComputed=-Infinity,value,computed;if(iteratee==null||typeof iteratee=="number"&&_typeof(obj[0])!="object"&&obj!=null){obj=isArrayLike(obj)?obj:values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value!=null&&value>result){result=value}}}else{iteratee=cb(iteratee,context);each(obj,function(v,index,list){computed=iteratee(v,index,list);if(computed>lastComputed||computed===-Infinity&&result===-Infinity){result=v;lastComputed=computed}})}return result}function min(obj,iteratee,context){var result=Infinity,lastComputed=Infinity,value,computed;if(iteratee==null||typeof iteratee=="number"&&_typeof(obj[0])!="object"&&obj!=null){obj=isArrayLike(obj)?obj:values(obj);for(var i=0,length=obj.length;i<length;i++){value=obj[i];if(value!=null&&value<result){result=value}}}else{iteratee=cb(iteratee,context);each(obj,function(v,index,list){computed=iteratee(v,index,list);if(computed<lastComputed||computed===Infinity&&result===Infinity){result=v;lastComputed=computed}})}return result}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(obj){if(!obj)return[];if(isArray(obj))return slice.call(obj);if(isString(obj)){return obj.match(reStrSymbol)}if(isArrayLike(obj))return map(obj,identity);return values(obj)}function sample(obj,n,guard){if(n==null||guard){if(!isArrayLike(obj))obj=values(obj);return obj[random(obj.length-1)]}var sample=toArray(obj);var length=getLength(sample);n=Math.max(Math.min(n,length),0);var last=length-1;for(var index=0;index<n;index++){var rand=random(index,last);var temp=sample[index];sample[index]=sample[rand];sample[rand]=temp}return sample.slice(0,n)}function shuffle(obj){return sample(obj,Infinity)}function sortBy(obj,iteratee,context){var index=0;iteratee=cb(iteratee,context);return pluck(map(obj,function(value,key,list){return{value:value,index:index++,criteria:iteratee(value,key,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index-right.index}),"value")}function group(behavior,partition){return function(obj,iteratee,context){var result=partition?[[],[]]:{};iteratee=cb(iteratee,context);each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)});return result}}var groupBy=group(function(result,value,key){if(has$1(result,key))result[key].push(value);else result[key]=[value]});var indexBy=group(function(result,value,key){result[key]=value});var countBy=group(function(result,value,key){if(has$1(result,key))result[key]++;else result[key]=1});var partition=group(function(result,value,pass){result[pass?0:1].push(value)},true);function size(obj){if(obj==null)return 0;return isArrayLike(obj)?obj.length:keys(obj).length}function keyInObj(value,key,obj){return key in obj}var pick=restArguments(function(obj,keys){var result={},iteratee=keys[0];if(obj==null)return result;if(isFunction$1(iteratee)){if(keys.length>1)iteratee=optimizeCb(iteratee,keys[1]);keys=allKeys(obj)}else{iteratee=keyInObj;keys=flatten$1(keys,false,false);obj=Object(obj)}for(var i=0,length=keys.length;i<length;i++){var key=keys[i];var value=obj[key];if(iteratee(value,key,obj))result[key]=value}return result});var omit=restArguments(function(obj,keys){var iteratee=keys[0],context;if(isFunction$1(iteratee)){iteratee=negate(iteratee);if(keys.length>1)context=keys[1]}else{keys=map(flatten$1(keys,false,false),String);iteratee=function iteratee(value,key){return!contains(keys,key)}}return pick(obj,iteratee,context)});function initial(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(n==null||guard?1:n)))}function first(array,n,guard){if(array==null||array.length<1)return n==null||guard?void 0:[];if(n==null||guard)return array[0];return initial(array,array.length-n)}function rest(array,n,guard){return slice.call(array,n==null||guard?1:n)}function last(array,n,guard){if(array==null||array.length<1)return n==null||guard?void 0:[];if(n==null||guard)return array[array.length-1];return rest(array,Math.max(0,array.length-n))}function compact(array){return filter(array,Boolean)}function flatten(array,depth){return flatten$1(array,depth,false)}var difference=restArguments(function(array,rest){rest=flatten$1(rest,true,true);return filter(array,function(value){return!contains(rest,value)})});var without=restArguments(function(array,otherArrays){return difference(array,otherArrays)});function uniq(array,isSorted,iteratee,context){if(!isBoolean(isSorted)){context=iteratee;iteratee=isSorted;isSorted=false}if(iteratee!=null)iteratee=cb(iteratee,context);var result=[];var seen=[];for(var i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;if(isSorted&&!iteratee){if(!i||seen!==computed)result.push(value);seen=computed}else if(iteratee){if(!contains(seen,computed)){seen.push(computed);result.push(value)}}else if(!contains(result,value)){result.push(value)}}return result}var union=restArguments(function(arrays){return uniq(flatten$1(arrays,true,true))});function intersection(array){var result=[];var argsLength=arguments.length;for(var i=0,length=getLength(array);i<length;i++){var item=array[i];if(contains(result,item))continue;var j;for(j=1;j<argsLength;j++){if(!contains(arguments[j],item))break}if(j===argsLength)result.push(item)}return result}function unzip(array){var length=array&&max(array,getLength).length||0;var result=Array(length);for(var index=0;index<length;index++){result[index]=pluck(array,index)}return result}var zip=restArguments(unzip);function object(list,values){var result={};for(var i=0,length=getLength(list);i<length;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result}function range(start,stop,step){if(stop==null){stop=start||0;start=0}if(!step){step=stop<start?-1:1}var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start}return range}function chunk(array,count){if(count==null||count<1)return[];var result=[];var i=0,length=array.length;while(i<length){result.push(slice.call(array,i,i+=count))}return result}function chainResult(instance,obj){return instance._chain?_$1(obj).chain():obj}function mixin(obj){each(functions(obj),function(name){var func=_$1[name]=obj[name];_$1.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return chainResult(this,func.apply(_$1,args))}});return _$1}each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_$1.prototype[name]=function(){var obj=this._wrapped;if(obj!=null){method.apply(obj,arguments);if((name==="shift"||name==="splice")&&obj.length===0){delete obj[0]}}return chainResult(this,obj)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];_$1.prototype[name]=function(){var obj=this._wrapped;if(obj!=null)obj=method.apply(obj,arguments);return chainResult(this,obj)}});var allExports={__proto__:null,VERSION:VERSION,restArguments:restArguments,isObject:isObject,isNull:isNull,isUndefined:isUndefined,isBoolean:isBoolean,isElement:isElement,isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty,isMatch:isMatch,isEqual:isEqual,isMap:isMap,isWeakMap:isWeakMap,isSet:isSet,isWeakSet:isWeakSet,keys:keys,allKeys:allKeys,values:values,pairs:pairs,invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:create,clone:clone,tap:tap,get:get,has:has,mapObject:mapObject,identity:identity,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:propertyOf,matcher:matcher,matches:matcher,times:times,random:random,now:now,escape:_escape,unescape:_unescape,templateSettings:templateSettings,template:template,result:result,uniqueId:uniqueId,chain:chain,iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:memoize,delay:delay,defer:defer,throttle:throttle,debounce:debounce,wrap:wrap,negate:negate,compose:compose,after:after,before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:findWhere,each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:reject,every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:invoke,pluck:pluck,where:where,max:max,min:min,shuffle:shuffle,sample:sample,sortBy:sortBy,groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:size,pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:last,rest:rest,tail:rest,drop:rest,compact:compact,flatten:flatten,without:without,uniq:uniq,unique:uniq,union:union,intersection:intersection,difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:object,range:range,chunk:chunk,mixin:mixin,default:_$1};var _=mixin(allExports);_._=_;return _})}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";var Events=__webpack_require__(8);var extend=__webpack_require__(10);var _=__webpack_require__(11);var Model=__webpack_require__(7);var array=[];var _slice=array.slice;var Collection=function Collection(models,options){options||(options={});if(options.model)this.model=options.model;if(options.comparator!==void 0)this.comparator=options.comparator;this._reset();this.initialize.apply(this,arguments);if(models)this.reset(models,_.extend({silent:true},options))};var setOptions={add:true,remove:true,merge:true};var addOptions={add:true,remove:false};_.extend(Collection.prototype,Events,{model:Model,initialize:function initialize(){},toJSON:function toJSON(options){return this.map(function(model){return model.toJSON(options)})},sync:function sync(){return Backbone.sync.apply(this,arguments)},add:function add(models,options){return this.set(models,_.extend({merge:false},options,addOptions))},remove:function remove(models,options){var singular=!_.isArray(models);models=singular?[models]:_.clone(models);options||(options={});for(var i=0,length=models.length;i<length;i++){var model=models[i]=this.get(models[i]);if(!model)continue;var id=this.modelId(model.attributes);if(id!=null)delete this._byId[id];delete this._byId[model.cid];var index=this.indexOf(model);this.models.splice(index,1);this.length--;if(!options.silent){options.index=index;model.trigger("remove",model,this,options)}this._removeReference(model,options)}return singular?models[0]:models},set:function set(models,options){options=_.defaults({},options,setOptions);if(options.parse)models=this.parse(models,options);var singular=!_.isArray(models);models=singular?models?[models]:[]:models.slice();var id,model,attrs,existing,sort;var at=options.at;var sortable=this.comparator&&at==null&&options.sort!==false;var sortAttr=_.isString(this.comparator)?this.comparator:null;var toAdd=[],toRemove=[],modelMap={};var add=options.add,merge=options.merge,remove=options.remove;var order=!sortable&&add&&remove?[]:false;for(var i=0,length=models.length;i<length;i++){attrs=models[i];if(existing=this.get(attrs)){if(remove)modelMap[existing.cid]=true;if(merge&&attrs!==existing){attrs=this._isModel(attrs)?attrs.attributes:attrs;if(options.parse)attrs=existing.parse(attrs,options);existing.set(attrs,options);if(sortable&&!sort&&existing.hasChanged(sortAttr))sort=true}models[i]=existing}else if(add){model=models[i]=this._prepareModel(attrs,options);if(!model)continue;toAdd.push(model);this._addReference(model,options)}model=existing||model;if(!model)continue;id=this.modelId(model.attributes);if(order&&(model.isNew()||!modelMap[id]))order.push(model);modelMap[id]=true}if(remove){for(var i=0,length=this.length;i<length;i++){if(!modelMap[(model=this.models[i]).cid])toRemove.push(model)}if(toRemove.length)this.remove(toRemove,options)}if(toAdd.length||order&&order.length){if(sortable)sort=true;this.length+=toAdd.length;if(at!=null){for(var i=0,length=toAdd.length;i<length;i++){this.models.splice(at+i,0,toAdd[i])}}else{if(order)this.models.length=0;var orderedModels=order||toAdd;for(var i=0,length=orderedModels.length;i<length;i++){this.models.push(orderedModels[i])}}}if(sort)this.sort({silent:true});if(!options.silent){var addOpts=at!=null?_.clone(options):options;for(var i=0,length=toAdd.length;i<length;i++){if(at!=null)addOpts.index=at+i;(model=toAdd[i]).trigger("add",model,this,addOpts)}if(sort||order&&order.length)this.trigger("sort",this,options)}return singular?models[0]:models},reset:function reset(models,options){options||(options={});for(var i=0,length=this.models.length;i<length;i++){this._removeReference(this.models[i],options)}options.previousModels=this.models;this._reset();models=this.add(models,_.extend({silent:true},options));if(!options.silent)this.trigger("reset",this,options);return models},push:function push(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function pop(options){var model=this.at(this.length-1);this.remove(model,options);return model},unshift:function unshift(model,options){return this.add(model,_.extend({at:0},options))},shift:function shift(options){var model=this.at(0);this.remove(model,options);return model},slice:function slice(){return _slice.apply(this.models,arguments)},get:function get(obj){if(obj==null)return void 0;var id=this.modelId(this._isModel(obj)?obj.attributes:obj);return this._byId[obj]||this._byId[id]||this._byId[obj.cid]},at:function at(index){if(index<0)index+=this.length;return this.models[index]},where:function where(attrs,first){if(_.isEmpty(attrs))return first?void 0:[];return this[first?"find":"filter"](function(model){for(var key in attrs){if(attrs[key]!==model.get(key))return false}return true})},findWhere:function findWhere(attrs){return this.where(attrs,true)},sort:function sort(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");options||(options={});if(_.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(_.bind(this.comparator,this))}if(!options.silent)this.trigger("sort",this,options);return this},pluck:function pluck(attr){return _.invoke(this.models,"get",attr)},fetch:function fetch(options){options=options?_.clone(options):{};if(options.parse===void 0)options.parse=true;var success=options.success;var collection=this;options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options);if(success)success(collection,resp,options);collection.trigger("sync",collection,resp,options)};wrapError(this,options);return this.sync("read",this,options)},create:function create(model,options){options=options?_.clone(options):{};if(!(model=this._prepareModel(model,options)))return false;if(!options.wait)this.add(model,options);var collection=this;var success=options.success;options.success=function(model,resp){if(options.wait)collection.add(model,options);if(success)success(model,resp,options)};model.save(null,options);return model},parse:function parse(resp,options){return resp},clone:function clone(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function modelId(attrs){return attrs[this.model.prototype.idAttribute||"id"]},_reset:function _reset(){this.length=0;this.models=[];this._byId={}},_prepareModel:function _prepareModel(attrs,options){if(this._isModel(attrs)){if(!attrs.collection)attrs.collection=this;return attrs}options=options?_.clone(options):{};options.collection=this;var model=new this.model(attrs,options);if(!model.validationError)return model;this.trigger("invalid",this,model.validationError,options);return false},_isModel:function _isModel(model){return model instanceof Model},_addReference:function _addReference(model,options){this._byId[model.cid]=model;var id=this.modelId(model.attributes);if(id!=null)this._byId[id]=model;model.on("all",this._onModelEvent,this)},_removeReference:function _removeReference(model,options){if(this===model.collection)delete model.collection;model.off("all",this._onModelEvent,this)},_onModelEvent:function _onModelEvent(event,model,collection,options){if((event==="add"||event==="remove")&&collection!==this)return;if(event==="destroy")this.remove(model,options);if(event==="change"){var prevId=this.modelId(model.previousAttributes());var id=this.modelId(model.attributes);if(prevId!==id){if(prevId!=null)delete this._byId[prevId];if(id!=null)this._byId[id]=model}}this.trigger.apply(this,arguments)}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];_.each(methods,function(method){if(!_[method])return;Collection.prototype[method]=function(){var args=_slice.call(arguments);args.unshift(this.models);return _[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy","indexBy"];_.each(attributeMethods,function(method){if(!_[method])return;Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});Collection.extend=extend;module.exports=Collection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Selection=__webpack_require__(2);var _lodash=__webpack_require__(3);var Collection=__webpack_require__(6).Collection;var SelectionManager=Collection.extend({model:_Selection.sel,initialize:function initialize(data,opts){if(typeof opts!=="undefined"&&opts!==null){this.g=opts.g;this.listenTo(this.g,"residue:click",function(e){return this._handleE(e.evt,new _Selection.possel({xStart:e.rowPos,xEnd:e.rowPos,seqId:e.seqId}))});this.listenTo(this.g,"row:click",function(e){return this._handleE(e.evt,new _Selection.rowsel({seqId:e.seqId}))});return this.listenTo(this.g,"column:click",function(e){return this._handleE(e.evt,new _Selection.columnsel({xStart:e.rowPos,xEnd:e.rowPos+e.stepSize-1}))})}},getSelForRow:function getSelForRow(seqId){return this.filter(function(el){return el.inRow(seqId)})},getSelForColumns:function getSelForColumns(rowPos){return this.filter(function(el){return el.inColumn(rowPos)})},addJSON:function addJSON(model){return this.add(this._fromJSON(model))},_fromJSON:function _fromJSON(model){switch(model.type){case"column":return new _Selection.columnsel(model);case"row":return new _Selection.rowsel(model);case"pos":return new _Selection.possel(model)}},resetJSON:function resetJSON(arr){arr=arr.map(this._fromJSON);return this.reset(arr)},getBlocksForRow:function getBlocksForRow(seqId,maxLen){var selis=this.filter(function(el){return el.inRow(seqId)});var blocks=[];var _loop=function _loop(i,seli){var seli=selis[i];if(seli.attributes.type==="row"){blocks=function(){var result=[];var i1=0;if(0<=maxLen){while(i1<=maxLen){result.push(i1++)}}else{while(i1>=maxLen){result.push(i1--)}}return result}();return"break"}else{blocks=blocks.concat(function(){var result=[];var i1=seli.attributes.xStart;if(seli.attributes.xStart<=seli.attributes.xEnd){while(i1<=seli.attributes.xEnd){result.push(i1++)}}else{while(i1>=seli.attributes.xEnd){result.push(i1--)}}return result}())}};for(var i=0,seli;i<selis.length;i++){var _ret=_loop(i,seli);if(_ret==="break")break}return blocks},getAllColumnBlocks:function getAllColumnBlocks(conf){var maxLen=conf.maxLen;var withPos=conf.withPos;var blocks=[];var filtered=void 0;if(conf.withPos){filtered=this.filter(function(el){return el.get("xStart")!=null})}else{filtered=this.filter(function(el){return el.get("type")==="column"})}var _loop2=function _loop2(i,seli){var seli=filtered[i];blocks=blocks.concat(function(){var result=[];var i1=seli.attributes.xStart;if(seli.attributes.xStart<=seli.attributes.xEnd){while(i1<=seli.attributes.xEnd){result.push(i1++)}}else{while(i1>=seli.attributes.xEnd){result.push(i1--)}}return result}())};for(var i=0,seli;i<filtered.length;i++){_loop2(i,seli)}blocks=(0,_lodash.uniq)(blocks);return blocks},invertRow:function invertRow(rows){var selRows=this.where({type:"row"});selRows=selRows.map(function(el){return el.attributes.seqId});var inverted=(0,_lodash.filter)(rows,function(el){if(selRows.indexOf(el)>=0){return false}return true});var s=[];for(var i=0,el;i<inverted.length;i++){var el=inverted[i];s.push(new _Selection.rowsel({seqId:el}))}return this.reset(s)},invertCol:function invertCol(columns){var selColumns=this.where({type:"column"}).reduce(function(memo,el){return memo.concat(function(){var result=[];var i=el.attributes.xStart;if(el.attributes.xStart<=el.attributes.xEnd){while(i<=el.attributes.xEnd){result.push(i++)}}else{while(i>=el.attributes.xEnd){result.push(i--)}}return result}())},[]);var inverted=(0,_lodash.filter)(columns,function(el){if(selColumns.indexOf(el)>=0){return false}return true});if(inverted.length===0){return}var s=[];var xStart=inverted[0];var xEnd=xStart;for(var i=0,el;i<inverted.length;i++){el=inverted[i];if(xEnd+1===el){xEnd=el}else{s.push(new _Selection.columnsel({xStart:xStart,xEnd:xEnd}));xStart=xEnd=el}}if(xStart!==xEnd){s.push(new _Selection.columnsel({xStart:xStart,xEnd:inverted[inverted.length-1]}))}return this.reset(s)},_handleE:function _handleE(e,selection){if(selection.get("type")==="row"){var selectedRowSeqIds=this.models.map(function(m){return m.get("seqId")});var selectionId=selection.get("seqId");if(e.ctrlKey||e.metaKey){if(selectedRowSeqIds.includes(selectionId)){var modelToRemove=this.models.find(function(m){return m.get("seqId")===selectionId});this.remove([modelToRemove])}else{this.add(selection)}}else{if(selectedRowSeqIds.includes(selectionId)){var _modelToRemove=this.models.find(function(m){return m.get("seqId")===selectionId});this.remove([_modelToRemove])}else{this.reset([selection])}}}else{if(e.ctrlKey||e.metaKey){this.add(selection)}else{this.reset([selection])}}},_reduceColumns:function _reduceColumns(){return this.each(function(el,index,arr){var cols=(0,_lodash.filter)(arr,function(el){return el.get("type")==="column"});var xStart=el.get("xStart");var xEnd=el.get("xEnd");var lefts=(0,_lodash.filter)(cols,function(el){return el.get("xEnd")===xStart-1});for(var i=0,left;i<lefts.length;i++){var left=lefts[i];left.set("xEnd",xStart)}var rights=(0,_lodash.filter)(cols,function(el){return el.get("xStart")===xEnd+1});for(var j=0,right;j<rights.length;j++){var right=rights[j];right.set("xStart",xEnd)}if(lefts.length>0||rights.length>0){console.log("removed el");return el.collection.remove(el)}})}});exports.default=SelectionManager},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(11);var Events=__webpack_require__(8);var extend=__webpack_require__(10);var $=__webpack_require__(15);var View=function View(options){this.cid=_.uniqueId("view");options||(options={});_.extend(this,_.pick(options,viewOptions));this._ensureElement();this.initialize.apply(this,arguments)};var delegateEventSplitter=/^(\S+)\s*(.*)$/;var viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function $(selector){return this.$el.find(selector)},initialize:function initialize(){},render:function render(){return this},remove:function remove(){this._removeElement();this.stopListening();return this},_removeElement:function _removeElement(){this.$el.remove()},setElement:function setElement(element){this.undelegateEvents();this._setElement(element);this.delegateEvents();return this},_setElement:function _setElement(el){this.$el=el instanceof $?el:$(el);this.el=this.$el[0]},delegateEvents:function delegateEvents(events){if(!(events||(events=_.result(this,"events"))))return this;this.undelegateEvents();for(var key in events){var method=events[key];if(!_.isFunction(method))method=this[events[key]];if(!method)continue;var match=key.match(delegateEventSplitter);this.delegate(match[1],match[2],_.bind(method,this))}return this},delegate:function delegate(eventName,selector,listener){this.$el.on(eventName+".delegateEvents"+this.cid,selector,listener)},undelegateEvents:function undelegateEvents(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function undelegate(eventName,selector,listener){this.$el.off(eventName+".delegateEvents"+this.cid,selector,listener)},_createElement:function _createElement(tagName){return document.createElement(tagName)},_ensureElement:function _ensureElement(){if(!this.el){var attrs=_.extend({},_.result(this,"attributes"));if(this.id)attrs.id=_.result(this,"id");if(this.className)attrs["class"]=_.result(this,"className");this.setElement(this._createElement(_.result(this,"tagName")));this._setAttributes(attrs)}else{this.setElement(_.result(this,"el"))}},_setAttributes:function _setAttributes(attributes){this.$el.attr(attributes)}});View.extend=extend;module.exports=View},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(win){var _$=win.$,_jBone=win.jBone,rquickSingleTag=/^<(\w+)\s*\/?>$/,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,slice=[].slice,splice=[].splice,keys=Object.keys,doc=win.document,isString=function isString(el){return typeof el==="string"},isObject=function isObject(el){return el instanceof Object},isFunction=function isFunction(el){return{}.toString.call(el)==="[object Function]"},isArray=function isArray(el){return Array.isArray(el)},jBone=function jBone(element,data){return new fn.init(element,data)},fn;jBone.noConflict=function(){win.$=_$;win.jBone=_jBone;return jBone};fn=jBone.fn=jBone.prototype={init:function init(element,data){var elements,tag,wraper,fragment;if(!element){return this}if(isString(element)){if(tag=rquickSingleTag.exec(element)){this[0]=doc.createElement(tag[1]);this.length=1;if(isObject(data)){this.attr(data)}return this}if((tag=rquickExpr.exec(element))&&tag[1]){fragment=doc.createDocumentFragment();wraper=doc.createElement("div");wraper.innerHTML=element;while(wraper.lastChild){fragment.appendChild(wraper.firstChild)}elements=slice.call(fragment.childNodes);return jBone.merge(this,elements)}if(jBone.isElement(data)){return jBone(data).find(element)}try{elements=doc.querySelectorAll(element);return jBone.merge(this,elements)}catch(e){return this}}if(element.nodeType){this[0]=element;this.length=1;return this}if(isFunction(element)){return element()}if(element instanceof jBone){return element}return jBone.makeArray(element,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0};fn.constructor=jBone;fn.init.prototype=fn;jBone.setId=function(el){var jid=el.jid;if(el===win){jid="window"}else if(el.jid===undefined){el.jid=jid=++jBone._cache.jid}if(!jBone._cache.events[jid]){jBone._cache.events[jid]={}}};jBone.getData=function(el){el=el instanceof jBone?el[0]:el;var jid=el===win?"window":el.jid;return{jid:jid,events:jBone._cache.events[jid]}};jBone.isElement=function(el){return el&&el instanceof jBone||el instanceof HTMLElement||isString(el)};jBone._cache={events:{},jid:0};function isArraylike(obj){var length=obj.length,type=typeof obj==="undefined"?"undefined":_typeof(obj);if(isFunction(type)||obj===win){return false}if(obj.nodeType===1&&length){return true}return isArray(type)||length===0||typeof length==="number"&&length>0&&length-1 in obj}fn.pushStack=function(elems){var ret=jBone.merge(this.constructor(),elems);return ret};jBone.merge=function(first,second){var l=second.length,i=first.length,j=0;while(j<l){first[i++]=second[j++]}first.length=i;return first};jBone.contains=function(container,contained){return container.contains(contained)};jBone.extend=function(target){var tg;splice.call(arguments,1).forEach(function(source){tg=target;if(source){for(var prop in source){tg[prop]=source[prop]}}});return target};jBone.makeArray=function(arr,results){var ret=results||[];if(arr!==null){if(isArraylike(arr)){jBone.merge(ret,isString(arr)?[arr]:arr)}else{ret.push(arr)}}return ret};jBone.unique=function(array){if(array==null){return[]}var result=[];for(var i=0,length=array.length;i<length;i++){var value=array[i];if(result.indexOf(value)<0){result.push(value)}}return result};function BoneEvent(e,data){var key,setter;this.originalEvent=e;setter=function setter(key,e){if(key==="preventDefault"){this[key]=function(){this.defaultPrevented=true;return e[key]()}}else if(key==="stopImmediatePropagation"){this[key]=function(){this.immediatePropagationStopped=true;return e[key]()}}else if(isFunction(e[key])){this[key]=function(){return e[key]()}}else{this[key]=e[key]}};for(key in e){if(e[key]||typeof e[key]==="function"){setter.call(this,key,e)}}jBone.extend(this,data,{isImmediatePropagationStopped:function isImmediatePropagationStopped(){return!!this.immediatePropagationStopped}})}jBone.Event=function(event,data){var namespace,eventType;if(event.type&&!data){data=event;event=event.type}namespace=event.split(".").splice(1).join(".");eventType=event.split(".")[0];event=doc.createEvent("Event");event.initEvent(eventType,true,true);return jBone.extend(event,{namespace:namespace,isDefaultPrevented:function isDefaultPrevented(){return event.defaultPrevented}},data)};jBone.event={add:function add(el,types,handler,data,selector){jBone.setId(el);var eventHandler=function eventHandler(e){jBone.event.dispatch.call(el,e)},events=jBone.getData(el).events,eventType,t,event;types=types.split(" ");t=types.length;while(t--){event=types[t];eventType=event.split(".")[0];events[eventType]=events[eventType]||[];if(events[eventType].length){eventHandler=events[eventType][0].fn}else{el.addEventListener&&el.addEventListener(eventType,eventHandler,false)}events[eventType].push({namespace:event.split(".").splice(1).join("."),fn:eventHandler,selector:selector,data:data,originfn:handler})}},remove:function remove(el,types,handler,selector){var removeListener=function removeListener(events,eventType,index,el,e){var callback;if(handler&&e.originfn===handler||!handler){callback=e.fn}if(events[eventType][index].fn===callback){events[eventType].splice(index,1);if(!events[eventType].length){el.removeEventListener(eventType,callback)}}},events=jBone.getData(el).events,l,eventsByType;if(!events){return}if(!types&&events){return keys(events).forEach(function(eventType){eventsByType=events[eventType];l=eventsByType.length;while(l--){removeListener(events,eventType,l,el,eventsByType[l])}})}types.split(" ").forEach(function(eventName){var eventType=eventName.split(".")[0],namespace=eventName.split(".").splice(1).join("."),e;if(events[eventType]){eventsByType=events[eventType];l=eventsByType.length;while(l--){e=eventsByType[l];if((!namespace||namespace&&e.namespace===namespace)&&(!selector||selector&&e.selector===selector)){removeListener(events,eventType,l,el,e)}}}else if(namespace){keys(events).forEach(function(eventType){eventsByType=events[eventType];l=eventsByType.length;while(l--){e=eventsByType[l];if(e.namespace.split(".")[0]===namespace.split(".")[0]){removeListener(events,eventType,l,el,e)}}})}})},trigger:function trigger(el,event){var events=[];if(isString(event)){events=event.split(" ").map(function(event){return jBone.Event(event)})}else{event=event instanceof Event?event:jBone.Event(event);events=[event]}events.forEach(function(event){if(!event.type){return}el.dispatchEvent&&el.dispatchEvent(event)})},dispatch:function dispatch(e){var i=0,j=0,el=this,handlers=jBone.getData(el).events[e.type],length=handlers.length,handlerQueue=[],targets=[],l,expectedTarget,handler,event,eventOptions;for(;i<length;i++){handlerQueue.push(handlers[i])}i=0;length=handlerQueue.length;for(;i<length&&~handlers.indexOf(handlerQueue[i])&&!(event&&event.isImmediatePropagationStopped());i++){expectedTarget=null;eventOptions={};handler=handlerQueue[i];handler.data&&(eventOptions.data=handler.data);if(!handler.selector){event=new BoneEvent(e,eventOptions);if(!(e.namespace&&e.namespace!==handler.namespace)){handler.originfn.call(el,event)}}else if(~(targets=jBone(el).find(handler.selector)).indexOf(e.target)&&(expectedTarget=e.target)||el!==e.target&&el.contains(e.target)){if(!expectedTarget){l=targets.length;j=0;for(;j<l;j++){if(targets[j]&&targets[j].contains(e.target)){expectedTarget=targets[j]}}}if(!expectedTarget){continue}eventOptions.currentTarget=expectedTarget;event=new BoneEvent(e,eventOptions);if(!(e.namespace&&e.namespace!==handler.namespace)){handler.originfn.call(expectedTarget,event)}}}}};fn.on=function(types,selector,data,fn){var length=this.length,i=0;if(data==null&&fn==null){fn=selector;data=selector=undefined}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}if(!fn){return this}for(;i<length;i++){jBone.event.add(this[i],types,fn,data,selector)}return this};fn.one=function(event){var args=arguments,i=0,length=this.length,oneArgs=slice.call(args,1,args.length-1),callback=slice.call(args,-1)[0],addListener;addListener=function addListener(el){var $el=jBone(el);event.split(" ").forEach(function(event){var fn=function fn(e){$el.off(event,fn);callback.call(el,e)};$el.on.apply($el,[event].concat(oneArgs,fn))})};for(;i<length;i++){addListener(this[i])}return this};fn.trigger=function(event){var i=0,length=this.length;if(!event){return this}for(;i<length;i++){jBone.event.trigger(this[i],event)}return this};fn.off=function(types,selector,handler){var i=0,length=this.length;if(isFunction(selector)){handler=selector;selector=undefined}for(;i<length;i++){jBone.event.remove(this[i],types,handler,selector)}return this};fn.find=function(selector){var results=[],i=0,length=this.length,finder=function finder(el){if(isFunction(el.querySelectorAll)){[].forEach.call(el.querySelectorAll(selector),function(found){results.push(found)})}};for(;i<length;i++){finder(this[i])}return jBone(results)};fn.get=function(index){return index!=null?index<0?this[index+this.length]:this[index]:slice.call(this)};fn.eq=function(index){return jBone(this[index])};fn.parent=function(){var results=[],parent,i=0,length=this.length;for(;i<length;i++){if(!~results.indexOf(parent=this[i].parentElement)&&parent){results.push(parent)}}return jBone(results)};fn.toArray=function(){return slice.call(this)};fn.is=function(){var args=arguments;return this.some(function(el){return el.tagName.toLowerCase()===args[0]})};fn.has=function(){var args=arguments;return this.some(function(el){return el.querySelectorAll(args[0]).length})};fn.add=function(selector,context){return this.pushStack(jBone.unique(jBone.merge(this.get(),jBone(selector,context))))};fn.attr=function(key,value){var args=arguments,i=0,length=this.length,setter;if(isString(key)&&args.length===1){return this[0]&&this[0].getAttribute(key)}if(args.length===2){setter=function setter(el){el.setAttribute(key,value)}}else if(isObject(key)){setter=function setter(el){keys(key).forEach(function(name){el.setAttribute(name,key[name])})}}for(;i<length;i++){setter(this[i])}return this};fn.removeAttr=function(key){var i=0,length=this.length;for(;i<length;i++){this[i].removeAttribute(key)}return this};fn.val=function(value){var i=0,length=this.length;if(arguments.length===0){return this[0]&&this[0].value}for(;i<length;i++){this[i].value=value}return this};fn.css=function(key,value){var args=arguments,i=0,length=this.length,setter;if(isString(key)&&args.length===1){return this[0]&&win.getComputedStyle(this[0])[key]}if(args.length===2){setter=function setter(el){el.style[key]=value}}else if(isObject(key)){setter=function setter(el){keys(key).forEach(function(name){el.style[name]=key[name]})}}for(;i<length;i++){setter(this[i])}return this};fn.data=function(key,value){var args=arguments,data={},i=0,length=this.length,setter,setValue=function setValue(el,key,value){if(isObject(value)){el.jdata=el.jdata||{};el.jdata[key]=value}else{el.dataset[key]=value}},getValue=function getValue(value){if(value==="true"){return true}else if(value==="false"){return false}else{return value}};if(args.length===0){this[0].jdata&&(data=this[0].jdata);keys(this[0].dataset).forEach(function(key){data[key]=getValue(this[0].dataset[key])},this);return data}if(args.length===1&&isString(key)){return this[0]&&getValue(this[0].dataset[key]||this[0].jdata&&this[0].jdata[key])}if(args.length===1&&isObject(key)){setter=function setter(el){keys(key).forEach(function(name){setValue(el,name,key[name])})}}else if(args.length===2){setter=function setter(el){setValue(el,key,value)}}for(;i<length;i++){setter(this[i])}return this};fn.removeData=function(key){var i=0,length=this.length,jdata,dataset;for(;i<length;i++){jdata=this[i].jdata;dataset=this[i].dataset;if(key){jdata&&jdata[key]&&delete jdata[key];delete dataset[key]}else{for(key in jdata){delete jdata[key]}for(key in dataset){delete dataset[key]}}}return this};fn.addClass=function(className){var i=0,j=0,length=this.length,classes=className?className.trim().split(/\s+/):[];for(;i<length;i++){j=0;for(j=0;j<classes.length;j++){this[i].classList.add(classes[j])}}return this};fn.removeClass=function(className){var i=0,j=0,length=this.length,classes=className?className.trim().split(/\s+/):[];for(;i<length;i++){j=0;for(j=0;j<classes.length;j++){this[i].classList.remove(classes[j])}}return this};fn.toggleClass=function(className,force){var i=0,length=this.length,method="toggle";force===true&&(method="add")||force===false&&(method="remove");if(className){for(;i<length;i++){this[i].classList[method](className)}}return this};fn.hasClass=function(className){var i=0,length=this.length;if(className){for(;i<length;i++){if(this[i].classList.contains(className)){return true}}}return false};fn.html=function(value){var args=arguments,el;if(args.length===1&&value!==undefined){return this.empty().append(value)}else if(args.length===0&&(el=this[0])){return el.innerHTML}return this};fn.append=function(appended){var i=0,length=this.length,setter;if(isString(appended)&&rquickExpr.exec(appended)){appended=jBone(appended)}else if(!isObject(appended)){appended=document.createTextNode(appended)}appended=appended instanceof jBone?appended:jBone(appended);setter=function setter(el,i){appended.forEach(function(node){if(i){el.appendChild(node.cloneNode(true))}else{el.appendChild(node)}})};for(;i<length;i++){setter(this[i],i)}return this};fn.appendTo=function(to){jBone(to).append(this);return this};fn.empty=function(){var i=0,length=this.length,el;for(;i<length;i++){el=this[i];while(el.lastChild){el.removeChild(el.lastChild)}}return this};fn.remove=function(){var i=0,length=this.length,el;this.off();for(;i<length;i++){el=this[i];delete el.jdata;el.parentNode&&el.parentNode.removeChild(el)}return this};if((false?"undefined":_typeof(module))==="object"&&module&&_typeof(module.exports)==="object"){module.exports=jBone}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return jBone}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));win.jBone=win.$=jBone}else if((typeof win==="undefined"?"undefined":_typeof(win))==="object"&&_typeof(win.document)==="object"){win.jBone=win.$=jBone}})(typeof window!=="undefined"?window:undefined)}).call(exports,__webpack_require__(4)(module))},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(11);var viewType=__webpack_require__(14);var pluginator;function removeToInsertLater(element){var parentNode=element.parentNode;var nextSibling=element.nextSibling;parentNode.removeChild(element);return function(){if(nextSibling){parentNode.insertBefore(element,nextSibling)}else{parentNode.appendChild(element)}}}var removeChilds=function removeChilds(node){var last;while(last=node.lastChild){node.removeChild(last)}};module.exports=pluginator=viewType.extend({renderSubviews:function renderSubviews(){var oldEl=this.el;var elOnDom=oldEl.parentNode!=undefined;if(elOnDom){var insert=removeToInsertLater(oldEl)}removeChilds(oldEl);var frag=document.createDocumentFragment();var views=this._views();var viewsSorted=_.sortBy(views,function(el){return el.ordering});var view,node;for(var i=0;i<viewsSorted.length;i++){view=viewsSorted[i];view.render();node=view.el;if(node!=null){frag.appendChild(node)}}oldEl.appendChild(frag);if(elOnDom){insert()}return oldEl},addView:function addView(key,view){var views=this._views();if(view==null){throw"Invalid plugin. "}if(view.ordering==null){view.ordering=key}return views[key]=view},removeViews:function removeViews(){var el,key;var views=this._views();for(key in views){el=views[key];el.undelegateEvents();el.unbind();if(el.removeViews!=null){el.removeViews()}el.remove()}return this.views={}},removeView:function removeView(key){var views=this._views();views[key].remove();return delete views[key]},getView:function getView(key){var views=this._views();return views[key]},remove:function remove(){this.removeViews();return viewType.prototype.remove.apply(this)},_views:function _views(){if(this.views==null){this.views={}}return this.views}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _SeqCollection=__webpack_require__(18);var _SeqCollection2=_interopRequireDefault(_SeqCollection);var _colorscheme=__webpack_require__(22);var _colorscheme2=_interopRequireDefault(_colorscheme);var _columns=__webpack_require__(40);var _columns2=_interopRequireDefault(_columns);var _config=__webpack_require__(41);var _config2=_interopRequireDefault(_config);var _package=__webpack_require__(42);var _package2=_interopRequireDefault(_package);var _SelectionCol=__webpack_require__(13);var _SelectionCol2=_interopRequireDefault(_SelectionCol);var _user=__webpack_require__(49);var _user2=_interopRequireDefault(_user);var _visibility=__webpack_require__(51);var _visibility2=_interopRequireDefault(_visibility);var _visOrdering=__webpack_require__(50);var _visOrdering2=_interopRequireDefault(_visOrdering);var _zoomer=__webpack_require__(52);var _zoomer2=_interopRequireDefault(_zoomer);var _StageScale=__webpack_require__(46);var _StageScale2=_interopRequireDefault(_StageScale);var _Stage=__webpack_require__(53);var _Stage2=_interopRequireDefault(_Stage);var _file=__webpack_require__(113);var _file2=_interopRequireDefault(_file);var _tree=__webpack_require__(115);var _tree2=_interopRequireDefault(_tree);var _proxy=__webpack_require__(123);var _proxy2=_interopRequireDefault(_proxy);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var Eventhandler=__webpack_require__(57);var Stats=__webpack_require__(127);var $=__webpack_require__(15);var MSA=boneView.extend({initialize:function initialize(data){var _this=this;if(!(typeof data!=="undefined"&&data!==null)){data={}}if(!(data.colorscheme!=null)){data.colorscheme={}}if(!(data.columns!=null)){data.columns={}}if(!(data.conf!=null)){data.conf={}}if(!(data.vis!=null)){data.vis={}}if(!(data.visorder!=null)){data.visorder={}}if(!(data.zoomer!=null)){data.zoomer={}}if(!(data.conserv!=null)){data.conserv={}}if(!(data.scale!=null)){data.scale={}}this.g=Eventhandler.mixin({});this.seqs=this.g.seqs=new _SeqCollection2.default(data.seqs,this.g);this.g.config=new _config2.default(data.conf);this.g.package=new _package2.default(this.g);this.g.selcol=new _SelectionCol2.default([],{g:this.g});this.g.user=new _user2.default;this.g.vis=new _visibility2.default(data.vis,{model:this.seqs});this.g.visorder=new _visOrdering2.default(data.visorder);this.g.zoomer=new _zoomer2.default(data.zoomer,{g:this.g,model:this.seqs});this.g.scale=new _StageScale2.default(data.scale,{g:this.g});this.g.conservationConfig=data.conserv;if(window.location.hostname==="localhost"){this.g.config.set("debug",true)}this._loadSeqs(data);this.u={};this.u.file=new _file2.default(this);this.u.proxy=new _proxy2.default({g:this.g});this.u.tree=new _tree2.default(this);if(this.g.config.get("eventBus")===true){this.startEventBus()}if(this.g.config.get("dropImport")){var events={dragover:this.dragOver,drop:this.dropFile};this.delegateEvents(events)}if(data.importURL){this.u.file.importURL(data.importURL,function(){return _this.render()})}if(data.bootstrapMenu){if(data.menu){this.menuConfig=data.menu}this.g.config.set("bootstrapMenu",true)}this.draw();return this.m()},_loadSeqs:function _loadSeqs(data){var pureSeq=this.seqs.pluck("seq");this.g.stats=new Stats(this.seqs,{useGaps:true});this.g.stats.alphabetSize=this.g.config.get("alphabetSize");this.g.columns=new _columns2.default(data.columns,this.g.stats);this.g.colorscheme=new _colorscheme2.default(data.colorscheme,pureSeq,this.g.stats);return this.g.zoomer.setEl(this.el,this.seqs)},importURL:function importURL(){return this.u.file.importURL.apply(this.u.file,arguments)},m:function m(){var m={};m.model=__webpack_require__(128);m.selection=__webpack_require__(2);m.selcol=__webpack_require__(13);m.view=__webpack_require__(14);m.boneView=__webpack_require__(16);return this.m=m},draw:function draw(){var _this2=this;this.removeViews();this.addView("stage",new _Stage2.default({model:this.seqs,g:this.g}));this.$el.addClass("biojs_msa_div");if(this.g.config.get("bootstrapMenu")){var menuDiv=document.createElement("div");var wrapperDiv=document.createElement("div");if(!this.el.parentNode){wrapperDiv.appendChild(menuDiv);wrapperDiv.appendChild(this.el)}else{this.el.parentNode.replaceChild(wrapperDiv,this.el);wrapperDiv.appendChild(menuDiv);wrapperDiv.appendChild(this.el)}var bootstrapOpts={el:menuDiv,msa:this};if(this.menuConfig){bootstrapOpts.menu=this.menuConfig}var defMenu=new msa.menu.defaultmenu(bootstrapOpts);defMenu.render()}return $(window).on("resize",function(e){var f=function f(){return this.g.zoomer.autoResize()};return setTimeout(f.bind(_this2),5)})},dragOver:function dragOver(e){e.preventDefault();e.target.className="hover";return false},dropFile:function dropFile(e){e.preventDefault();var files=e.target.files||e.dataTransfer.files;this.u.file.importFiles(files);return false},startEventBus:function startEventBus(){var _this3=this;var busObjs=["config","columns","colorscheme","selcol","vis","visorder","zoomer"];return function(){var result=[];for(var i=0,key;i<busObjs.length;i++){key=busObjs[i];result.push(_this3._proxyToG(key))}return result}()},_proxyToG:function _proxyToG(key){return this.listenTo(this.g[key],"all",function(name,prev,now,opts){if(name==="change"){return}if(typeof opts!=="undefined"&&opts!==null){return this.g.trigger(key+":"+name,now,prev,opts)}else{return this.g.trigger(key+":"+name,now,prev)}})},render:function render(){if(this.seqs===undefined||this.seqs.length===0){console.log("warning. empty seqs.")}this.renderSubviews();this.g.vis.set("loaded",true);return this}});exports.default=MSA},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Sequence=__webpack_require__(19);var _Sequence2=_interopRequireDefault(_Sequence);var _FeatureCol=__webpack_require__(20);var _FeatureCol2=_interopRequireDefault(_FeatureCol);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Collection=__webpack_require__(6).Collection;var SeqCollection=Collection.extend({model:_Sequence2.default,constructor:function constructor(seqs,g){var _this=this;Collection.apply(this,arguments);this.g=g;this.on("add reset remove",function(){_this.lengthCache=null;return _this._bindSeqsWithFeatures()},this);this.on("reset",function(){return _this._autoSetRefSeq()});this._autoSetRefSeq();this.lengthCache=null;this.features={};return this},getMaxLength:function getMaxLength(){if(this.models.length===0){return 0}if(this.lengthCache===null){this.lengthCache=this.max(function(seq){return seq.get("seq").length}).get("seq").length}return this.lengthCache},prev:function prev(model,endless){var index=this.indexOf(model)-1;if(index<0&&endless){index=this.length-1}return this.at(index)},next:function next(model,endless){var index=this.indexOf(model)+1;if(index===this.length&&endless){index=0}return this.at(index)},calcHiddenSeqs:function calcHiddenSeqs(n){var nNew=n;for(var i=0;0<nNew?i<=nNew:i>=nNew;0<nNew?i++:i--){if(this.at(i).get("hidden")){nNew++}}return nNew-n},addFeatures:function addFeatures(features){var _this2=this;if(features.config!=null){var obj=features;features=features.seqs;if(obj.config.colors!=null){var colors=obj.config.colors;_.each(features,function(seq){return _.each(seq,function(val){if(colors[val.feature]!=null){return val.fillColor=colors[val.feature]}})})}}if(_.isEmpty(this.features)){this.features=features}else{_.each(features,function(val,key){if(!_this2.features.hasOwnProperty(key)){return _this2.features[key]=val}else{return _this2.features[key]=_.union(_this2.features[key],val)}})}return this._bindSeqsWithFeatures()},_bindSeqWithFeatures:function _bindSeqWithFeatures(seq){var features=this.features[seq.attributes.name];if(features){seq.attributes.features=new _FeatureCol2.default(features);seq.attributes.features.assignRows();seq.attributes.height=seq.attributes.features.getCurrentHeight()+1}},_bindSeqsWithFeatures:function _bindSeqsWithFeatures(){var _this3=this;return this.each(function(seq){return _this3._bindSeqWithFeatures(seq)})},removeAllFeatures:function removeAllFeatures(){return delete this.features},_autoSetRefSeq:function _autoSetRefSeq(){if(this.length>0){return this.at(0).set("ref",true)}},setRef:function setRef(seq){var obj=this.get(seq);this.each(function(s){if(seq.cid){if(obj.cid===s.cid){return s.set("ref",true)}else{return s.set("ref",false)}}});this.g.config.set("hasRef",true);return this.trigger("change:reference",seq)}});exports.default=SeqCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _FeatureCol=__webpack_require__(20);var _FeatureCol2=_interopRequireDefault(_FeatureCol);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Model=__webpack_require__(6).Model;var Sequence=Model.extend({defaults:{name:"",id:"",seq:"",height:1,ref:false},initialize:function initialize(){this.set("grey",[]);if(!(this.get("features")!=null)){return this.set("features",new _FeatureCol2.default)}}});exports.default=Sequence},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var _Feature=__webpack_require__(21);var _Feature2=_interopRequireDefault(_Feature);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Collection=__webpack_require__(6).Collection;var FeatureCol=Collection.extend({model:_Feature2.default,constructor:function constructor(){this.startOnCache=[];this.on("all",function(){return this.startOnCache=[]},this);return Collection.apply(this,arguments)},startOn:function startOn(index){if(!(this.startOnCache[index]!=null)){this.startOnCache[index]=this.where({xStart:index})}return this.startOnCache[index]},contains:function contains(index){return this.reduce(function(el,memo){return memo||el.contains(index)},false)},getFeatureOnRow:function getFeatureOnRow(row,x){return this.filter(function(el){return el.get("row")===row&&el.get("xStart")<=x&&x<=el.get("xEnd")})},assignRows:function assignRows(){var len=this.max(function(el){return el.get("xEnd")}).attributes.xEnd;var rows=function(){var result=[];for(var x=0;0<len?x<=len:x>=len;0<len?x++:x--){result.push(0)}return result}();this.each(function(el){var max=0;var start=el.get("xStart");var end=el.get("xEnd");for(var x=start;start<end?x<=end:x>=end;start<end?x++:x--){if(rows[x]>max){max=rows[x]}rows[x]++}return el.set("row",max)});return(0,_lodash.max)(rows)},getCurrentHeight:function getCurrentHeight(){return this.max(function(el){return el.get("row")}).attributes.row+1},getMinRows:function getMinRows(){var len=this.max(function(el){return el.get("xEnd")}).attributes.xEnd;var rows=function(){var result=[];for(var x=0;0<len?x<=len:x>=len;0<len?x++:x--){result.push(0)}return result}();this.each(function(el){return function(){var result=[];var start=el.get("xStart");var end=el.get("xEnd");for(var x=start;start<end?x<=end:x>=end;start<end?x++:x++){result.push(rows[x]++)}return result}()});return(0,_lodash.max)(rows)}});exports.default=FeatureCol},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Model=__webpack_require__(6).Model;var Feature=Model.extend({defaults:{xStart:-1,xEnd:-1,height:-1,text:"",fillColor:"red",fillOpacity:.5,type:"rectangle",borderSize:1,borderColor:"black",borderOpacity:.5,validate:true,row:0},initialize:function initialize(obj){if(obj.start!=null){this.set("xStart",obj.start-1)}if(obj.end!=null){this.set("xEnd",obj.end-1)}if(obj.attributes!=null){if(obj.attributes.Name!=null){this.set("text",obj.attributes.Name)}if(obj.attributes.Color!=null){this.set("fillColor",obj.attributes.Color)}}if(this.attributes.xEnd<this.attributes.xStart){console.warn("invalid feature range for",this.attributes)}if(!_.isNumber(this.attributes.xStart)||!_.isNumber(this.attributes.xEnd)){console.warn("please provide numeric feature ranges",obj);this.set("xStart",parseInt(this.attributes.xStart));return this.set("xEnd",parseInt(this.attributes.xEnd))}},validate:function validate(){if(isNaN(this.attributes.xStart||isNaN(this.attributes.xEnd))){return"features need integer start and end."}},contains:function contains(index){return this.attributes.xStart<=index&&index<=this.attributes.xEnd}});exports.default=Feature},function(module,exports,__webpack_require__){"use strict";var Colorscheme;var Colors=__webpack_require__(23);var Model=__webpack_require__(6).Model;module.exports=Colorscheme=Model.extend({defaults:{scheme:"taylor",colorBackground:true,showLowerCase:true,opacity:.6},initialize:function initialize(data,seqs,stat){this.colors=new Colors({seqs:seqs,conservation:function conservation(){return stat.scale(stat.conservation())}});return stat.on("reset",function(){if(this.getSelectedScheme().type==="dyn"){var ref;if(ref="reset",this.getSelectedScheme().indexOf(ref)>=0){return this.getSelectedScheme().reset()}}},this)},addStaticScheme:function addStaticScheme(name,dict){return this.colors.addStaticScheme(name,dict)},addDynScheme:function addDynScheme(name,fun){return this.colors.addDynScheme(name,fun)},getScheme:function getScheme(name){return this.colors.getScheme(name)},getSelectedScheme:function getSelectedScheme(){return this.colors.getScheme(this.get("scheme"))}})},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var schemes=__webpack_require__(24);var StaticSchemeClass=schemes.stat;var DynSchemeClass=schemes.dyn;var Buried=__webpack_require__(25);var Cinema=__webpack_require__(26);var Clustal=__webpack_require__(27);var Clustal2=__webpack_require__(28);var Helix=__webpack_require__(29);var Hydro=__webpack_require__(30);var Lesk=__webpack_require__(31);var Mae=__webpack_require__(32);var Nucleotide=__webpack_require__(33);var Purine=__webpack_require__(34);var Strand=__webpack_require__(35);var Taylor=__webpack_require__(36);var Turn=__webpack_require__(37);var Zappo=__webpack_require__(38);var staticSchemes={buried:Buried,buried_index:Buried,cinema:Cinema,clustal2:Clustal2,clustal:Clustal,helix:Helix,helix_propensity:Helix,hydro:Hydro,lesk:Lesk,mae:Mae,nucleotide:Nucleotide,purine:Purine,purine_pyrimidine:Purine,strand:Strand,strand_propensity:Strand,taylor:Taylor,turn:Turn,turn_propensity:Turn,zappo:Zappo};var pid=__webpack_require__(39);var dynSchemes={pid:pid};var Colors=function Colors(opt){this.maps=clone(staticSchemes);this.dyn=clone(dynSchemes);this.opt=opt};module.exports=Colors;Colors.getScheme=function(scheme){return staticSchemes[scheme]};Colors.prototype.getScheme=function(scheme){var color=this.maps[scheme];if(color===undefined){color={};if(this.dyn[scheme]!=undefined){return new DynSchemeClass(this.dyn[scheme],this.opt)}}return new StaticSchemeClass(color)};Colors.prototype.addStaticScheme=function(name,scheme){this.maps[name]=scheme};Colors.prototype.addDynScheme=function(name,scheme){this.dyn[name]=scheme};function clone(obj){if(null==obj||"object"!=(typeof obj==="undefined"?"undefined":_typeof(obj)))return obj;var copy=obj.constructor();for(var attr in obj){if(obj.hasOwnProperty(attr))copy[attr]=obj[attr]}return copy}},function(module,exports){"use strict";var StaticSchemeClass=function StaticSchemeClass(map){this.defaultColor="#ffffff";this.type="static";this.map=map;this.getColor=function(letter){if(this.map[letter]!==undefined){return this.map[letter]}else{return this.defaultColor}}};var DynSchemeClass=function DynSchemeClass(fun,opt){this.type="dyn";this.opt=opt;if(fun.init!==undefined){fun.init.call(this);this.getColor=fun.run;this.reset=fun.init}else{this.getColor=fun}};module.exports.stat=StaticSchemeClass;module.exports.dyn=DynSchemeClass},function(module,exports){"use strict";module.exports={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"}},function(module,exports){"use strict";module.exports={A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"}},function(module,exports){"use strict";module.exports={A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"}},function(module,exports){"use strict";module.exports={A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"}},function(module,exports){"use strict";module.exports={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"}},function(module,exports){"use strict";module.exports={A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"}},function(module,exports){"use strict";module.exports={A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"}},function(module,exports){"use strict";module.exports={A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"}},function(module,exports){"use strict";module.exports={A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"}},function(module,exports){"use strict";module.exports={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"}},function(module,exports){"use strict";module.exports={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"}},function(module,exports){"use strict";module.exports={A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"}},function(module,exports){"use strict";module.exports={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"}},function(module,exports){"use strict";module.exports={A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},function(module,exports){"use strict";var pid;module.exports=pid={};pid.init=function(){this.cons=this.opt.conservation()};pid.run=function(letter,opts){var cons=this.cons[opts.pos];if(cons>.8){return"#6464ff"}else if(cons>.6){return"#9da5ff"}else if(cons>.4){return"#cccccc"}else{return"#ffffff"}}},function(module,exports,__webpack_require__){"use strict";var Columns;var Model=__webpack_require__(6).Model;module.exports=Columns=Model.extend({initialize:function initialize(o,stat){if(!(this.get("hidden")!=null)){this.set("hidden",[])}return this.stats=stat},calcHiddenColumns:function calcHiddenColumns(n){var hidden=this.get("hidden");var newX=n;for(var j=0,i;j<hidden.length;j++){i=hidden[j];if(i<=newX){newX++}}return newX-n}})},function(module,exports,__webpack_require__){"use strict";var Config;var Model=__webpack_require__(6).Model;module.exports=Config=Model.extend({defaults:{registerMouseHover:false,registerMouseClicks:true,importProxy:"https://cors-anywhere.herokuapp.com/",importProxyStripHttp:true,eventBus:true,alphabetSize:20,dropImport:false,debug:false,hasRef:false,bootstrapMenu:false,manualRendering:false}})},function(module,exports,__webpack_require__){"use strict";var Package;var Loader=__webpack_require__(43);var Model=__webpack_require__(6).Model;module.exports=Package=Model.extend({initialize:function initialize(g){return this.g=g},development:{"msa-tnt":"/node_modules/msa-tnt/build/bundle.js","biojs-io-newick":"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js"},loadPackage:function loadPackage(pkg,cb){try{var p=__webpack_require__(45)(pkg);return cb(p)}catch(error){return Loader.default.loadScript(this._pkgURL(pkg),cb)}},loadPackages:function loadPackages(pkgs,cb){var _this=this;var cbs=Loader.default.joinCb(function(){return cb()},pkgs.length);return pkgs.forEach(function(pkg){return _this.loadPackage(pkg,cbs)})},_pkgURL:function _pkgURL(pkg){if(this.g.config.get("debug")){var url=this.development[pkg]}else{url="http://wzrd.in/bundle/"+pkg+"@latest"}return url}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var k=__webpack_require__(44);var Loader={loadScript:function loadScript(url,cb){var s=k.mk("script");s.type="text/javascript";s.src=url;s.async=true;s.onload=s.onreadystatechange=function(){if(!r&&(!this.readyState||this.readyState==="complete")){var r=true;return cb()}};var t=document.getElementsByTagName("script")[0];return t.parentNode.appendChild(s)},joinCb:function joinCb(retCb,finalLength,finalScope){finalLength=finalLength||1;var cbsFinished=0;var callbackWrapper=function callbackWrapper(cb,scope){if(!(typeof cb!=="undefined"&&cb!==null)){return counter()}else{return function(){var ref;if(ref="apply",cb.indexOf(ref)>=0){cb.apply(scope,arguments)}return counter()}}};var counter=function counter(){cbsFinished++;if(cbsFinished===finalLength){return retCb.call(finalScope)}};return callbackWrapper}};exports.default=Loader},function(module,exports,__webpack_require__){(function(module){"use strict";var koalajs={};koalajs.d=koalajs.defaultValue=function defaultValue(obj,defValue){if(obj===undefined){if(typeof obj==="function"){return defValue()}return defValue}return obj};koalajs.id=function mk(el){return document.getElementById(el)};koalajs.mk=function mk(el){return document.createElement(el)};if(module!==undefined&&module.exports!==undefined){module.exports=koalajs}}).call(exports,__webpack_require__(4)(module))},function(module,exports,__webpack_require__){var map={"./StageScale":46,"./StageScale.js":46,"./colorscheme":22,"./colorscheme.js":22,"./columns":40,"./columns.js":40,"./config":41,"./config.js":41,"./package":42,"./package.js":42,"./selection/Selection":2,"./selection/Selection.js":2,"./selection/SelectionCol":13,"./selection/SelectionCol.js":13,"./selection/index":48,"./selection/index.js":48,"./user":49,"./user.js":49,"./visOrdering":50,"./visOrdering.js":50,"./visibility":51,"./visibility.js":51,"./zoomer":52,"./zoomer.js":52};function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)};webpackContext.resolve=webpackContextResolve;module.exports=webpackContext;webpackContext.id=45},function(module,exports,__webpack_require__){"use strict";var StageScale;var Model=__webpack_require__(6).Model;var LinearScale=__webpack_require__(47);module.exports=StageScale=Model.extend({constructor:function constructor(attributes,options){this.g=options.g;Model.apply(this,arguments);return this},defaults:{currentSize:5,step:1,originalSize:false,scaleCategories:[{columnWidth:1,markerStepSize:20,stepSize:0},{columnWidth:3,markerStepSize:20,stepSize:0},{columnWidth:5,markerStepSize:10,stepSize:0},{columnWidth:9,markerStepSize:5,stepSize:1},{columnWidth:15,markerStepSize:2,stepSize:1},{columnWidth:20,markerStepSize:1,stepSize:1},{columnWidth:30,markerStepSize:1,stepSize:1},{columnWidth:45,markerStepSize:1,stepSize:1}]},initialize:function initialize(args){var categories=this.get("scaleCategories");var initialColumnWidth=this.g.zoomer.get("columnWidth")||this._getScaleInfo().columnWidth;var category=_.find(categories,{columnWidth:initialColumnWidth});if(!category){var catindex=this._insertScaleCategory(initialColumnWidth);category=categories[catindex];this.set("currentSize",catindex+1)}var currentSize=this.get("currentSize");this.set("originalSize",currentSize);this.setSize(currentSize);return this},_insertScaleCategory:function _insertScaleCategory(columnWidth){var categories=this.get("scaleCategories");var lastcatindex=_.findLastIndex(categories,function(c){return c.columnWidth<columnWidth});var lastcat=categories[lastcatindex];var insertindex=lastcatindex+1;var category={columnWidth:columnWidth,markerStepSize:lastcat.markerStepSize,stepSize:lastcat.markerStepSize};categories.splice(insertindex,0,category);this.set("scaleCategories",categories);return insertindex},getSizeRange:function getSizeRange(){return[1,this.get("scaleCategories").length]},bigger:function bigger(){return this.setSize(this.get("currentSize")+this.get("step"))},smaller:function smaller(){return this.setSize(this.get("currentSize")-this.get("step"))},reset:function reset(){return this.setSize(this.get("originalSize"))},setSize:function setSize(size){var range=this.getSizeRange();size=parseInt(size);size=size<range[0]?range[0]:size>range[1]?range[1]:size;this.set("currentSize",size);var info=this._getScaleInfo();this.g.zoomer.set({columnWidth:info.columnWidth,stepSize:info.stepSize,markerStepSize:info.markerStepSize});return this},getSize:function getSize(){return this.get("currentSize")},_getScaleInfo:function _getScaleInfo(){var size=this.getSize();var categories=this.get("scaleCategories");if(size>0&&size<=categories.length){return categories[size-1]}else{console.error("out of bounds")}}})},function(module,exports,__webpack_require__){"use strict";(function(root){"use strict";function LinearScale(domain,range){if(!(this instanceof LinearScale)){return new LinearScale(domain,range)}this.domain=[];this.range=[];if(Array.isArray(domain)){this.domain=domain}if(Array.isArray(range)){this.range=range}var scale=function(value){if(typeof value!=="number"){return null}var minValue=this.domain[0];var maxValue=this.domain[1];var minScale=this.range[0];var maxScale=this.range[1];if(minScale!=="number"&&typeof maxScale!=="number"){minScale=minValue;maxScale=maxValue}var ratio=(maxScale-minScale)/(maxValue-minValue);var result=minScale+ratio*(value-minValue);if(result===Infinity)return maxScale;else if(result===-Infinity)return minScale;else if(isNaN(result))return minScale;return result}.bind(this);scale.domain=function(value){if(Array.isArray(value)){this.domain=value}return scale}.bind(this);scale.range=function(value){if(Array.isArray(value)){this.range=value}return scale}.bind(this);return scale}if(true){if(typeof module!=="undefined"&&module.exports){exports=module.exports=LinearScale}exports.LinearScale=LinearScale}else if(typeof define==="function"&&define.amd){define([],function(){return LinearScale})}else{root.LinearScale=LinearScale}})(undefined)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _SelectionCol=__webpack_require__(13);Object.defineProperty(exports,"SelectionManager",{enumerable:true,get:function get(){return _SelectionCol.SelectionManager}})},function(module,exports,__webpack_require__){"use strict";var Config;var Model=__webpack_require__(6).Model;module.exports=Config=Model.extend({defaults:{searchText:""}})},function(module,exports,__webpack_require__){"use strict";var Visibility;var Model=__webpack_require__(6).Model;module.exports=Visibility=Model.extend({defaults:{searchBox:-10,overviewBox:30,headerBox:-1,alignmentBody:0,scaleSlider:50}})},function(module,exports,__webpack_require__){"use strict";var Visibility;var Model=__webpack_require__(6).Model;module.exports=Visibility=Model.extend({defaults:{sequences:true,markers:true,metacell:false,conserv:false,overviewbox:false,seqlogo:false,gapHeader:false,leftHeader:true,scaleslider:false,labels:true,labelName:true,labelId:true,labelPartition:false,labelCheckbox:false,metaGaps:true,metaIdentity:true,metaLinks:true},constructor:function constructor(attributes,options){this.calcDefaults(options.model);return Model.apply(this,arguments)},initialize:function initialize(){this.listenTo(this,"change:metaLinks change:metaIdentity change:metaGaps",function(){return this.trigger("change:metacell")},this);this.listenTo(this,"change:labelName change:labelId change:labelPartition change:labelCheckbox",function(){return this.trigger("change:labels")},this);return this.listenTo(this,"change:markers change:conserv change:seqlogo change:gapHeader",function(){return this.trigger("change:header")},this)},calcDefaults:function calcDefaults(seqs){if(seqs.length>0){var seq=seqs.at(0);var ids=seq.get("ids");if(ids!==undefined&&Object.keys(ids).length===0){return this.defaults.metaLinks=false}}}})},function(module,exports,__webpack_require__){"use strict";var Zoomer;var Model=__webpack_require__(6).Model;module.exports=Zoomer=Model.extend({constructor:function constructor(attributes,options){this.calcDefaults(options.model);Model.apply(this,arguments);this.g=options.g;this.listenTo(this,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",function(){return this.trigger("change:labelWidth",this.getLabelWidth())},this);this.listenTo(this,"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth",function(){return this.trigger("change:metaWidth",this.getMetaWidth())},this);return this},defaults:{alignmentWidth:"auto",alignmentHeight:800,columnWidth:15,rowHeight:15,autoResize:true,labelIdLength:20,labelNameLength:100,labelPartLength:15,labelCheckLength:15,labelFontsize:13,labelLineHeight:"13px",markerFontsize:"10px",stepSize:1,markerStepSize:2,markerHeight:20,residueFont:"13",canvasEventScale:1,minLetterDrawSize:11,boxRectHeight:2,boxRectWidth:2,overviewboxPaddingTop:10,overviewboxWidth:"fixed",overviewboxHeight:"fixed",metaGapWidth:35,metaIdentWidth:40,_alignmentScrollLeft:0,_alignmentScrollTop:0},calcDefaults:function calcDefaults(model){var maxLen=model.getMaxLength();if(maxLen<200&&model.length<30){this.defaults.boxRectWidth=this.defaults.boxRectHeight=5}return this},getAlignmentWidth:function getAlignmentWidth(n){if(this.get("autoResize")&&n!==undefined){return this.get("columnWidth")*n}if(this.get("alignmentWidth")===undefined||this.get("alignmentWidth")==="auto"||this.get("alignmentWidth")===0){return this._adjustWidth()}else{return this.get("alignmentWidth")}},setLeftOffset:function setLeftOffset(n){var val=n;val=Math.max(0,val);val-=this.g.columns.calcHiddenColumns(val);return this.set("_alignmentScrollLeft",val*this.get("columnWidth"))},setTopOffset:function setTopOffset(n){var val=Math.max(0,n-1);var height=0;for(var i=0;0<val?i<=val:i>=val;0<val?i++:i--){var seq=this.model.at(i);height+=seq.attributes.height||1}return this.set("_alignmentScrollTop",height*this.get("rowHeight"))},getLeftBlockWidth:function getLeftBlockWidth(){var paddingLeft=0;if(this.g.vis.get("labels")){paddingLeft+=this.getLabelWidth()}if(this.g.vis.get("metacell")){paddingLeft+=this.getMetaWidth()}return paddingLeft},getMetaWidth:function getMetaWidth(){var val=0;if(this.g.vis.get("metaGaps")){val+=this.get("metaGapWidth")}if(this.g.vis.get("metaIdentity")){val+=this.get("metaIdentWidth")}if(this.g.vis.get("metaLinks")){val+=this.get("metaLinksWidth")}return val},getLabelWidth:function getLabelWidth(){var val=0;if(this.g.vis.get("labelName")){val+=this.get("labelNameLength")}if(this.g.vis.get("labelId")){val+=this.get("labelIdLength")}if(this.g.vis.get("labelPartition")){val+=this.get("labelPartLength")}if(this.g.vis.get("labelCheckbox")){val+=this.get("labelCheckLength")}return val},_adjustWidth:function _adjustWidth(){if(!(this.el!==undefined&&this.model!==undefined)){return}var calcWidth=this.getAlignmentWidth(this.model.getMaxLength()-this.g.columns.get("hidden").length);var val=void 0;if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){val=calcWidth}else{var marginAdjustment=35;var parentWidth=void 0;if(this.el.parentNode!=null&&this.el.parentNode.offsetWidth!==0){parentWidth=this.el.parentNode.offsetWidth-marginAdjustment}else{parentWidth=document.body.clientWidth-marginAdjustment}var maxWidth=parentWidth-this.getLeftBlockWidth();val=Math.min(maxWidth,calcWidth)}val=Math.floor(val/this.get("columnWidth"))*this.get("columnWidth");this.set("alignmentWidth",val);return val},autoResize:function autoResize(){if(this.get("autoResize")){return this._adjustWidth(this.el,this.model)}},autoHeight:function autoHeight(max){var val=this.getMaxAlignmentHeight();if(max!==undefined&&max>0){val=Math.min(val,max)}return this.set("alignmentHeight",val)},setEl:function setEl(el,model){this.el=el;return this.model=model},_checkScrolling:function _checkScrolling(scrollObj,opts){var xScroll=scrollObj[0];var yScroll=scrollObj[1];this.set("_alignmentScrollLeft",xScroll,opts);return this.set("_alignmentScrollTop",yScroll,opts)},getMaxAlignmentHeight:function getMaxAlignmentHeight(){var height=0;this.model.each(function(seq){return height+=seq.attributes.height||1});return height*this.get("rowHeight")},getMaxAlignmentWidth:function getMaxAlignmentWidth(){return this.model.getMaxLength()*this.get("columnWidth")}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var _AlignmentBody=__webpack_require__(54);var _AlignmentBody2=_interopRequireDefault(_AlignmentBody);var _HeaderBlock=__webpack_require__(87);var _HeaderBlock2=_interopRequireDefault(_HeaderBlock);var _OverviewBox=__webpack_require__(110);var _OverviewBox2=_interopRequireDefault(_OverviewBox);var _Search=__webpack_require__(111);var _Search2=_interopRequireDefault(_Search);var _ScaleSlider=__webpack_require__(112);var _ScaleSlider2=_interopRequireDefault(_ScaleSlider);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;this.draw();this.listenTo(this.g.stats,"reset",function(){return this.rerender()});this.listenTo(this.model,"change:hidden",(0,_lodash.debounce)(this.rerender,10));this.listenTo(this.model,"sort",this.rerender);this.listenTo(this.model,"add",function(){return console.log("seq add")});this.listenTo(this.g.vis,"change:sequences",this.rerender);this.listenTo(this.g.vis,"change:overviewbox",this.rerender);this.listenTo(this.g.visorder,"change",this.rerender);this.listenTo(this.g.zoomer,"change:columnWidth",this.rerender);this.listenTo(this.g.vis,"change:scaleslider",this.rerender);return this},draw:function draw(){this.removeViews();if(this.g.vis.get("overviewbox")){var overviewbox=new _OverviewBox2.default({model:this.model,g:this.g});overviewbox.ordering=this.g.visorder.get("overviewBox");this.addView("overviewBox",overviewbox)}if(true){var headerblock=new _HeaderBlock2.default({model:this.model,g:this.g});headerblock.ordering=this.g.visorder.get("headerBox");this.addView("headerBox",headerblock)}if(true){var searchblock=new _Search2.default({model:this.model,g:this.g});searchblock.ordering=this.g.visorder.get("searchBox");this.addView("searchbox",searchblock)}var body=new _AlignmentBody2.default({model:this.model,g:this.g});body.ordering=this.g.visorder.get("alignmentBody");this.addView("body",body);if(this.g.vis.get("scaleslider")){var scaleslider=new _ScaleSlider2.default({model:this.g.scale,g:this.g});scaleslider.ordering=this.g.visorder.get("scaleSlider");this.addView("scaleSlider",scaleslider)}return this},render:function render(e){this.renderSubviews();this.el.className="biojs_msa_stage";return this},rerender:function rerender(){if(!this.g.config.get("manualRendering")){this.draw();return this.render()}}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CanvasSeqBlock=__webpack_require__(55);var _CanvasSeqBlock2=_interopRequireDefault(_CanvasSeqBlock);var _LabelBlock=__webpack_require__(62);var _LabelBlock2=_interopRequireDefault(_LabelBlock);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;if(true){var labelblock=new _LabelBlock2.default({model:this.model,g:this.g});labelblock.ordering=-1;this.addView("labelblock",labelblock)}if(this.g.vis.get("sequences")){var seqblock;if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){var childEl=document.createElementNS("http://www.w3.org/2000/svg","svg");seqblock=new _CanvasSeqBlock2.default({model:this.model,g:this.g,el:childEl})}else{seqblock=new _CanvasSeqBlock2.default({model:this.model,g:this.g,el:document.createElement("canvas")})}seqblock.ordering=0;this.addView("seqblock",seqblock)}this.listenTo(this.g.zoomer,"change:alignmentHeight",this.adjustHeight);this.listenTo(this.g.zoomer,"change:alignmentWidth",this.adjustWidth);this.listenTo(this.g.columns,"change:hidden",this.adjustHeight);return this},render:function render(){this.renderSubviews();this.el.className="biojs_msa_albody";this.el.style.whiteSpace="nowrap";this.adjustHeight();this.adjustWidth();return this},adjustHeight:function adjustHeight(){if(this.g.zoomer.get("alignmentHeight")==="auto"){return this.el.style.height=this.g.zoomer.get("rowHeight")*this.model.length+5}else{return this.el.style.height=this.g.zoomer.get("alignmentHeight")}},adjustWidth:function adjustWidth(){return this.el.style.width=this.getWidth()},getWidth:function getWidth(){var width=0;width+=this.g.zoomer.getLeftBlockWidth();if(this.g.vis.get("sequences")){width+=this.g.zoomer.get("alignmentWidth")}return width}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(3);var _CanvasCharCache=__webpack_require__(56);var _CanvasCharCache2=_interopRequireDefault(_CanvasCharCache);var _CanvasSelection=__webpack_require__(58);var _CanvasSelection2=_interopRequireDefault(_CanvasSelection);var _CanvasSeqDrawer=__webpack_require__(59);var _CanvasSeqDrawer2=_interopRequireDefault(_CanvasSeqDrawer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var mouse=__webpack_require__(60);var C2S=__webpack_require__(61);var jbone=__webpack_require__(15);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft change:_alignmentScrollTop",function(model,value,options){if(!((typeof options!=="undefined"&&options!==null?options.origin:undefined)!=null)||options.origin!=="canvasseq"){return this.render()}});this.listenTo(this.g.columns,"change:hidden",this.render);this.listenTo(this.g.zoomer,"change:alignmentWidth change:alignmentHeight",this.render);this.listenTo(this.g.colorscheme,"change",this.render);this.listenTo(this.g.selcol,"reset add remove",this.render);this.listenTo(this.model,"reset add",this.render);if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){this.el.classList.add("biojs_msa_seqblock")}else{this.el.style.display="inline-block";this.el.style.overflowX="hidden";this.el.style.overflowY="hidden";this.el.className="biojs_msa_seqblock"}if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){this.ctx=new C2S}else{this.ctx=this.el.getContext("2d")}this.cache=new _CanvasCharCache2.default(this.g);this.listenTo(this.g.zoomer,"change:residueFont",function(){this.cache=new _CanvasCharCache2.default(this.g);return this.render()});this.sel=new _CanvasSelection2.default(this.g,this.ctx);this._setColor();this.throttleTime=0;this.throttleCounts=0;if(document.documentElement.style.webkitAppearance!=null){this.throttledDraw=function(){var start=+new Date;this.draw();this.throttleTime+=+new Date-start;this.throttleCounts++;if(this.throttleCounts>15){var tTime=Math.ceil(this.throttleTime/this.throttleCounts);console.log("avgDrawTime/WebKit",tTime);return this.throttledDraw=this.draw}}}else{this.throttledDraw=(0,_lodash.throttle)(this.throttledDraw,30)}return this.manageEvents()},throttledDraw:function throttledDraw(){var start=+new Date;this.draw();this.throttleTime+=+new Date-start;this.throttleCounts++;if(this.throttleCounts>15){var tTime=Math.ceil(this.throttleTime/this.throttleCounts);console.log("avgDrawTime",tTime);tTime*=1.2;tTime=Math.max(20,tTime);return this.throttledDraw=_.throttle(this.draw,tTime)}},manageEvents:function manageEvents(){var events={};events.mousedown="_onmousedown";events.touchstart="_ontouchstart";if(this.g.config.get("registerMouseClicks")){events.dblclick="_onclick"}if(this.g.config.get("registerMouseHover")){events.mousein="_onmousein";events.mouseout="_onmouseout"}events.mousewheel="_onmousewheel";events.DOMMouseScroll="_onmousewheel";this.delegateEvents(events);this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents);this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents);return this.dragStart=[]},_setColor:function _setColor(){return this.color=this.g.colorscheme.getSelectedScheme()},draw:function draw(){if(!(this.g.config.get("shouldRenderSeqBlockAsSvg")===true)){this.el.width=this.el.width}if(this.seqDrawer!=null&&this.model.length>0){this.seqDrawer.drawLetters();this.seqDrawer.drawRows(this.sel._appendSelection,this.sel);return this.seqDrawer.drawRows(this.drawFeatures,this)}},drawFeatures:function drawFeatures(data){var rectWidth=this.g.zoomer.get("columnWidth");var rectHeight=this.g.zoomer.get("rowHeight");if(data.model.attributes.height>1){var ctx=this.ctx;data.model.attributes.features.each(function(feature){ctx.fillStyle=feature.attributes.fillColor||"red";var len=feature.attributes.xEnd-feature.attributes.xStart+1;var y=(feature.attributes.row+1)*rectHeight;return ctx.fillRect(feature.attributes.xStart*rectWidth+data.xZero,y+data.yZero,rectWidth*len,rectHeight)});ctx.fillStyle="black";ctx.font=this.g.zoomer.get("residueFont")+"px mono";ctx.textBaseline="middle";ctx.textAlign="center";return data.model.attributes.features.each(function(feature){var len=feature.attributes.xEnd-feature.attributes.xStart+1;var y=(feature.attributes.row+1)*rectHeight;return ctx.fillText(feature.attributes.text,data.xZero+feature.attributes.xStart*rectWidth+len/2*rectWidth,data.yZero+rectHeight*.5+y)})}},getPlannedElHeight:function getPlannedElHeight(){return this.g.zoomer.get("alignmentHeight")},getPlannedElWidth:function getPlannedElWidth(){return this.g.zoomer.getAlignmentWidth()},render:function render(){if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){this.el.setAttributeNS("http://www.w3.org/2000/svg","height",this.getPlannedElHeight());this.el.setAttributeNS("http://www.w3.org/2000/svg","width",this.getPlannedElWidth());this.el.style.width=this.getPlannedElWidth()+"px";this.el.style.height=this.getPlannedElHeight()+"px"}else{this.el.setAttribute("height",this.getPlannedElHeight()+"px");this.el.setAttribute("width",this.getPlannedElWidth()+"px")}if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){var width=this.getPlannedElWidth();var height=this.getPlannedElHeight();this.ctx=new C2S(width,height)}var zoomerScrollLeft=this.g.zoomer.get("_alignmentScrollLeft");var zoomerScrollRight=this.g.zoomer.get("_alignmentScrollTop");var scrollObj=this._checkScrolling([zoomerScrollLeft,zoomerScrollRight]);this.g.zoomer._checkScrolling(scrollObj,{header:"canvasseq"});this._setColor();this.seqDrawer=new _CanvasSeqDrawer2.default(this.g,this.ctx,this.model,{width:this.el.width,height:this.el.height,color:this.color,cache:this.cache});this.throttledDraw();if(this.g.config.get("shouldRenderSeqBlockAsSvg")===true){var shadowSvgElem=this.ctx.getSvg();this.el.innerHTML=shadowSvgElem.innerHTML}return this},_onmousemove:function _onmousemove(e,reversed){if(this.dragStart.length===0){return}var dragEnd=mouse.abs(e);var relEnd=[dragEnd[0]-this.dragStart[0],dragEnd[1]-this.dragStart[1]];var scaleFactor=this.g.zoomer.get("canvasEventScale");if(reversed){scaleFactor=3}for(var i=0;i<=1;i++){relEnd[i]=relEnd[i]*scaleFactor}var relDist=[this.dragStartScroll[0]-relEnd[0],this.dragStartScroll[1]-relEnd[1]];for(var _i=0;_i<=1;_i++){relDist[_i]=Math.round(relDist[_i])}var scrollCorrected=this._checkScrolling(relDist);this.g.zoomer._checkScrolling(scrollCorrected,{origin:"canvasseq"});for(var _i2=0;_i2<=1;_i2++){if(scrollCorrected[_i2]!==relDist[_i2]){if(scrollCorrected[_i2]===0){this.dragStart[_i2]=dragEnd[_i2];this.dragStartScroll[_i2]=0}else{this.dragStart[_i2]=dragEnd[_i2]-scrollCorrected[_i2]}}}this.throttledDraw();if(e.preventDefault!=null){e.preventDefault();return e.stopPropagation()}},_ontouchmove:function _ontouchmove(e){this._onmousemove(e.changedTouches[0],true);e.preventDefault();return e.stopPropagation()},_onmousedown:function _onmousedown(e){var _this=this;this.dragStart=mouse.abs(e);this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")];jbone(document.body).on("mousemove.overmove",function(e){return _this._onmousemove(e)});jbone(document.body).on("mouseup.overup",function(){return _this._cleanup()});return e.preventDefault()},_ontouchstart:function _ontouchstart(e){var _this2=this;this.dragStart=mouse.abs(e.changedTouches[0]);this.dragStartScroll=[this.g.zoomer.get("_alignmentScrollLeft"),this.g.zoomer.get("_alignmentScrollTop")];jbone(document.body).on("touchmove.overtmove",function(e){return _this2._ontouchmove(e)});return jbone(document.body).on("touchend.overtend touchleave.overtleave touchcancel.overtcanel",function(e){return _this2._touchCleanup(e)})},_onmousewinout:function _onmousewinout(e){if(e.toElement===document.body.parentNode){return this._cleanup()}},_cleanup:function _cleanup(){this.dragStart=[];jbone(document.body).off(".overmove");jbone(document.body).off(".overup");return jbone(document.body).off(".overout")},_touchCleanup:function _touchCleanup(e){if(e.changedTouches.length>0){this._onmousemove(e.changedTouches[0],true)}this.dragStart=[];jbone(document.body).off(".overtmove");jbone(document.body).off(".overtend");jbone(document.body).off(".overtleave");return jbone(document.body).off(".overtcancel")},_onmousewheel:function _onmousewheel(e){var delta=mouse.wheelDelta(e);this.g.zoomer.set("_alignmentScrollLeft",this.g.zoomer.get("_alignmentScrollLeft")+delta[0]);this.g.zoomer.set("_alignmentScrollTop",this.g.zoomer.get("_alignmentScrollTop")+delta[1]);return e.preventDefault()},_onclick:function _onclick(e){var res=this._getClickPos(e);if(typeof res!=="undefined"&&res!==null){if(res.feature!=null){this.g.trigger("feature:click",res)}else{this.g.trigger("residue:click",res)}}return this.throttledDraw()},_onmousein:function _onmousein(e){var res=this._getClickPos(e);if(typeof res!=="undefined"&&res!==null){if(res.feature!=null){this.g.trigger("feature:mousein",res)}else{this.g.trigger("residue:mousein",res)}}return this.throttledDraw()},_onmouseout:function _onmouseout(e){var res=this._getClickPos(e);if(typeof res!=="undefined"&&res!==null){if(res.feature!=null){this.g.trigger("feature:mouseout",res)}else{this.g.trigger("residue:mouseout",res)}}return this.throttledDraw()},_getClickPos:function _getClickPos(e){var coords=mouse.rel(e);coords[0]+=this.g.zoomer.get("_alignmentScrollLeft");var x=Math.floor(coords[0]/this.g.zoomer.get("columnWidth"));var _seqDrawer$_getSeqFor=this.seqDrawer._getSeqForYClick(coords[1]),_seqDrawer$_getSeqFor2=_slicedToArray(_seqDrawer$_getSeqFor,2),y=_seqDrawer$_getSeqFor2[0],rowNumber=_seqDrawer$_getSeqFor2[1];x+=this.g.columns.calcHiddenColumns(x);y+=this.model.calcHiddenSeqs(y);x=Math.max(0,x);y=Math.max(0,y);var seqId=this.model.at(y).get("id");if(rowNumber>0){var features=this.model.at(y).get("features").getFeatureOnRow(rowNumber-1,x);if(!(features.length===0)){var feature=features[0];console.log(features[0].attributes);return{seqId:seqId,feature:feature,rowPos:x,evt:e}}}else{return{seqId:seqId,rowPos:x,evt:e}}},_checkScrolling:function _checkScrolling(scrollObj){var maxScrollHeight=this.g.zoomer.getMaxAlignmentHeight()-this.g.zoomer.get("alignmentHeight");var maxScrollWidth=this.g.zoomer.getMaxAlignmentWidth()-this.g.zoomer.getAlignmentWidth();var max=[maxScrollWidth,maxScrollHeight];for(var i=0;i<=1;i++){if(scrollObj[i]>max[i]){scrollObj[i]=max[i]}if(scrollObj[i]<0){scrollObj[i]=0}}return scrollObj}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Events=__webpack_require__(57);var CanvasCharCache=function(){function CanvasCharCache(g){_classCallCheck(this,CanvasCharCache);this.g=g;this.cache={};this.cacheHeight=0;this.cacheWidth=0}_createClass(CanvasCharCache,[{key:"getFontTile",value:function getFontTile(letter,width,height){if(width!==this.cacheWidth||height!==this.cacheHeight){this.cacheHeight=height;this.cacheWidth=width;this.cache={}}if(this.cache[letter]===undefined){this.createTile(letter,width,height)}return this.cache[letter]}},{key:"createTile",value:function createTile(letter,width,height){var canvas=this.cache[letter]=document.createElement("canvas");canvas.width=width;canvas.height=height;this.ctx=canvas.getContext("2d");this.ctx.font=this.g.zoomer.get("residueFont")+"px mono";this.ctx.textBaseline="middle";this.ctx.textAlign="center";return this.ctx.fillText(letter,width/2,height/2,width)}}]);return CanvasCharCache}();exports.default=CanvasCharCache},function(module,exports,__webpack_require__){"use strict";var events=__webpack_require__(8);events.onAll=function(callback,context){this.on("all",callback,context);return this};events.oldMixin=events.mixin;events.mixin=function(proto){events.oldMixin(proto);var exports=["onAll"];for(var i=0;i<exports.length;i++){var name=exports[i];proto[name]=this[name]}return proto};module.exports=events},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var CanvasSelection=function CanvasSelection(g,ctx){this.g=g;this.ctx=ctx;return this};(0,_lodash.extend)(CanvasSelection.prototype,{_getSelection:function _getSelection(model){var maxLen=model.get("seq").length;var selection=[];var sels=this.g.selcol.getSelForRow(model.get("id"));var rows=(0,_lodash.find)(sels,function(el){return el.get("type")==="row"});if(typeof rows!=="undefined"&&rows!==null){var end=maxLen-1;for(var n=0;n<=end;n++){selection.push(n)}}else if(sels.length>0){for(var i=0,sel;i<sels.length;i++){sel=sels[i];var start=sel.get("xStart");var _end=sel.get("xEnd");for(var _n=start;_n<=_end;_n++){selection.push(_n)}}}return selection},_appendSelection:function _appendSelection(data){var _this=this;var seq=data.model.get("seq");var selection=this._getSelection(data.model);var getNextPrev=this._getPrevNextSelection(data.model);var mPrevSel=getNextPrev[0];var mNextSel=getNextPrev[1];var boxWidth=this.g.zoomer.get("columnWidth");var boxHeight=this.g.zoomer.get("rowHeight");if(selection.length===0){return}var hiddenOffset=0;return function(){var result=[];var end=seq.length-1;var _loop=function _loop(n){result.push(function(){if(data.hidden.indexOf(n)>=0){return hiddenOffset++}else{var k=n-hiddenOffset;if(selection.indexOf(n)>=0&&(k===0||selection.indexOf(n-1)<0)){return _this._renderSelection({n:n,k:k,selection:selection,mPrevSel:mPrevSel,mNextSel:mNextSel,xZero:data.xZero,yZero:data.yZero,model:data.model})}}}())};for(var n=0;n<=end;n++){_loop(n)}return result}()},_renderSelection:function _renderSelection(data){var xZero=data.xZero;var yZero=data.yZero;var n=data.n;var k=data.k;var selection=data.selection;var mPrevSel=data.mPrevSel;var mNextSel=data.mNextSel;var selectionLength=0;var end=data.model.get("seq").length-1;for(var i=n;i<=end;i++){if(selection.indexOf(i)>=0){selectionLength++}else{break}}var boxWidth=this.g.zoomer.get("columnWidth");var boxHeight=this.g.zoomer.get("rowHeight");var totalWidth=boxWidth*selectionLength+1;var hidden=this.g.columns.get("hidden");this.ctx.beginPath();var beforeWidth=this.ctx.lineWidth;this.ctx.lineWidth=3;var beforeStyle=this.ctx.strokeStyle;this.ctx.strokeStyle="#FF0000";xZero+=k*boxWidth;var xPart=0;var end1=selectionLength-1;for(var _i=0;_i<=end1;_i++){var xPos=n+_i;if(hidden.indexOf(xPos)>=0){continue}if(!(typeof mPrevSel!=="undefined"&&mPrevSel!==null&&mPrevSel.indexOf(xPos)>=0)){this.ctx.moveTo(xZero+xPart,yZero);this.ctx.lineTo(xPart+boxWidth+xZero,yZero)}if(!(typeof mNextSel!=="undefined"&&mNextSel!==null&&mNextSel.indexOf(xPos)>=0)){this.ctx.moveTo(xPart+xZero,boxHeight+yZero);this.ctx.lineTo(xPart+boxWidth+xZero,boxHeight+yZero)}xPart+=boxWidth}this.ctx.moveTo(xZero,yZero);this.ctx.lineTo(xZero,boxHeight+yZero);this.ctx.moveTo(xZero+totalWidth,yZero);this.ctx.lineTo(xZero+totalWidth,boxHeight+yZero);this.ctx.stroke();this.ctx.strokeStyle=beforeStyle;return this.ctx.lineWidth=beforeWidth},_getPrevNextSelection:function _getPrevNextSelection(model){var modelPrev=model.collection.prev(model);var modelNext=model.collection.next(model);var mPrevSel=void 0,mNextSel=void 0;if(typeof modelPrev!=="undefined"&&modelPrev!==null){mPrevSel=this._getSelection(modelPrev)}if(typeof modelNext!=="undefined"&&modelNext!==null){mNextSel=this._getSelection(modelNext)}return[mPrevSel,mNextSel]}});exports.default=CanvasSelection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(3);var Drawer={updateConfig:function updateConfig(){this.rectWidth=this.g.zoomer.get("columnWidth");this.rectHeight=this.g.zoomer.get("rowHeight")},drawLetters:function drawLetters(){this.updateConfig();this.ctx.globalAlpha=this.g.colorscheme.get("opacity");this.drawSeqs(function(data){return this.drawSeq(data,this._drawRect)});this.ctx.globalAlpha=1;if(this.rectWidth>=this.g.zoomer.get("minLetterDrawSize")){this.drawSeqs(function(data){return this.drawSeq(data,this._drawLetter)})}return this},drawSeqs:function drawSeqs(callback,target){var hidden=this.g.columns.get("hidden");target=target||this;var _getStartSeq=this.getStartSeq(),_getStartSeq2=_slicedToArray(_getStartSeq,2),start=_getStartSeq2[0],y=_getStartSeq2[1];for(var i=start;i<this.model.length;i++){var seq=this.model.at(i);if(seq.get("hidden")){continue}callback.call(target,{model:seq,yPos:y,y:i,hidden:hidden});var seqHeight=(seq.attributes.height||1)*this.rectHeight;y=y+seqHeight;if(y>this.height){break}}},drawRows:function drawRows(callback,target){return this.drawSeqs(function(data){return this.drawRow(data,callback,target)})},drawRow:function drawRow(data,callback,target){var rectWidth=this.g.zoomer.get("columnWidth");var start=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/rectWidth)));var x=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%rectWidth);var xZero=x-start*rectWidth;var yZero=data.yPos;return callback.call(target,{model:data.model,xZero:xZero,yZero:yZero,hidden:data.hidden})},getStartSeq:function getStartSeq(){var start=Math.max(0,Math.floor(this.g.zoomer.get("_alignmentScrollTop")/this.rectHeight))+1;var counter=0;var i=0;while(counter<start&&i<this.model.length){counter+=this.model.at(i).attributes.height||1;i++}var y=Math.max(0,this.g.zoomer.get("_alignmentScrollTop")-counter*this.rectHeight+(this.model.at(i-1).attributes.height||1)*this.rectHeight);return[i-1,-y]},_getSeqForYClick:function _getSeqForYClick(click){var _getStartSeq3=this.getStartSeq(),_getStartSeq4=_slicedToArray(_getStartSeq3,2),start=_getStartSeq4[0],yDiff=_getStartSeq4[1];var yRel=yDiff%this.rectHeight;var clickedRows=Math.max(0,Math.floor((click-yRel)/this.rectHeight))+1;var counter=0;var i=start;while(counter<clickedRows&&i<this.model.length){counter+=this.model.at(i).attributes.height||1;i++}var rowNumber=Math.max(0,Math.floor(click/this.rectHeight)-counter+(this.model.at(i-1).get("height")||1));return[i-1,rowNumber]},drawSeq:function drawSeq(data,callback){var seq=data.model.get("seq");var y=data.yPos;var rectWidth=this.rectWidth;var rectHeight=this.rectHeight;var start=Math.max(0,Math.abs(Math.ceil(-this.g.zoomer.get("_alignmentScrollLeft")/rectWidth)));var x=-Math.abs(-this.g.zoomer.get("_alignmentScrollLeft")%rectWidth);var res={rectWidth:rectWidth,rectHeight:rectHeight,yPos:y,y:data.y};var elWidth=this.width;for(var j=start;j<seq.length;j++){var c=seq[j];c=c.toUpperCase();res.x=j;res.c=c;res.xPos=x;if(data.hidden.indexOf(j)<0){callback(this,res)}else{continue}x=x+rectWidth;if(x>elWidth){break}}},_drawRect:function _drawRect(that,data){var color=that.color.getColor(data.c,{pos:data.x,y:data.y});if(typeof color!=="undefined"&&color!==null){that.ctx.fillStyle=color;return that.ctx.fillRect(data.xPos,data.yPos,data.rectWidth,data.rectHeight)}},_drawLetter:function _drawLetter(that,data){if(that.g.config.get("shouldRenderSeqBlockAsSvg")===true){that.ctx.fillStyle="black";that.ctx.textAlign="center";that.ctx.textBaseline="middle";that.ctx.fillText(data.c,data.xPos+data.rectWidth/2,data.yPos+data.rectHeight-data.rectHeight/2)}else{return that.ctx.drawImage(that.cache.getFontTile(data.c,data.rectWidth,data.rectHeight),data.xPos,data.yPos,data.rectWidth,data.rectHeight)}}};var CanvasSeqDrawer=function CanvasSeqDrawer(g,ctx,model,opts){this.g=g;this.ctx=ctx;this.model=model;this.width=opts.width;this.height=opts.height;this.color=opts.color;this.cache=opts.cache;this.rectHeight=this.g.zoomer.get("rowHeight");this.rectWidth=this.g.zoomer.get("columnWidth");return this};(0,_lodash.extend)(CanvasSeqDrawer.prototype,Drawer);exports.default=CanvasSeqDrawer},function(module,exports){"use strict";var Mouse;module.exports=Mouse={rel:function rel(e){var mouseX,mouseY,rect,target;mouseX=e.offsetX;mouseY=e.offsetY;if(mouseX==undefined){rect=target.getBoundingClientRect();target=e.target||e.srcElement;if(mouseX==undefined){mouseX=e.clientX-rect.left;mouseY=e.clientY-rect.top}if(mouseX==undefined){mouseX=e.pageX-target.offsetLeft;mouseY=e.pageY-target.offsetTop}if(mouseX==undefined){console.log(e,"no mouse event defined. your browser sucks");return}}return[mouseX,mouseY]},abs:function abs(e){var mouseX,mouseY;mouseX=e.pageX;mouseY=e.pageY;if(mouseX==undefined){mouseX=e.layerX;mouseY=e.layerY}if(mouseX==undefined){mouseX=e.clientX;mouseY=e.clientY}if(mouseX==undefined){mouseX=e.x;mouseY=e.y}return[mouseX,mouseY]},wheelDelta:function wheelDelta(e){var delta;delta=[e.deltaX,e.deltaY];if(delta[0]==undefined){if(e.mozMovementX){delta=[0,e.mozMovementX]}}if(isNaN(delta[0])){delta[0]=0}if(isNaN(delta[1])){delta[1]=0}return delta}}},function(module,exports,__webpack_require__){(function(module){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(){"use strict";var STYLES,_ctx,CanvasGradient,CanvasPattern,namedEntities;function format(str,args){var keys=Object.keys(args),i;for(i=0;i<keys.length;i++){str=str.replace(new RegExp("\\{"+keys[i]+"\\}","gi"),args[keys[i]])}return str}function randomString(holder){var chars,randomstring,i;if(!holder){throw new Error("cannot create a random attribute name for an undefined object")}chars="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";randomstring="";do{randomstring="";for(i=0;i<12;i++){randomstring+=chars[Math.floor(Math.random()*chars.length)]}}while(holder[randomstring]);return randomstring}function createNamedToNumberedLookup(items,radix){var i,entity,lookup={},base10,base16;items=items.split(",");radix=radix||10;for(i=0;i<items.length;i+=2){entity="&"+items[i+1]+";";base10=parseInt(items[i],radix);lookup[entity]="&#"+base10+";"}lookup["\\xa0"]="&#160;";return lookup}function getTextAnchor(textAlign){var mapping={left:"start",right:"end",center:"middle",start:"start",end:"end"};return mapping[textAlign]||mapping.start}function getDominantBaseline(textBaseline){var mapping={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return mapping[textBaseline]||mapping.alphabetic}namedEntities=createNamedToNumberedLookup("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);STYLES={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}};CanvasGradient=function CanvasGradient(gradientNode,ctx){this.__root=gradientNode;this.__ctx=ctx};CanvasGradient.prototype.addColorStop=function(offset,color){var stop=this.__ctx.__createElement("stop"),regex,matches;stop.setAttribute("offset",offset);if(color.indexOf("rgba")!==-1){regex=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi;matches=regex.exec(color);stop.setAttribute("stop-color",format("rgb({r},{g},{b})",{r:matches[1],g:matches[2],b:matches[3]}));stop.setAttribute("stop-opacity",matches[4])}else{stop.setAttribute("stop-color",color)}this.__root.appendChild(stop)};CanvasPattern=function CanvasPattern(pattern,ctx){this.__root=pattern;this.__ctx=ctx};_ctx=function ctx(o){var defaultOptions={width:500,height:500,enableMirroring:false},options;if(arguments.length>1){options=defaultOptions;options.width=arguments[0];options.height=arguments[1]}else if(!o){options=defaultOptions}else{options=o}if(!(this instanceof _ctx)){return new _ctx(options)}this.width=options.width||defaultOptions.width;this.height=options.height||defaultOptions.height;this.enableMirroring=options.enableMirroring!==undefined?options.enableMirroring:defaultOptions.enableMirroring;this.canvas=this;this.__document=options.document||document;this.__canvas=this.__document.createElement("canvas");this.__ctx=this.__canvas.getContext("2d");this.__setDefaultStyles();this.__stack=[this.__getStyleState()];this.__groupStack=[];this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg");this.__root.setAttribute("version",1.1);this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg");this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");this.__root.setAttribute("width",this.width);this.__root.setAttribute("height",this.height);this.__ids={};this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs");this.__root.appendChild(this.__defs);this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g");this.__root.appendChild(this.__currentElement)};_ctx.prototype.__createElement=function(elementName,properties,resetFill){if(typeof properties==="undefined"){properties={}}var element=this.__document.createElementNS("http://www.w3.org/2000/svg",elementName),keys=Object.keys(properties),i,key;if(resetFill){element.setAttribute("fill","none");element.setAttribute("stroke","none")}for(i=0;i<keys.length;i++){key=keys[i];element.setAttribute(key,properties[key])}return element};_ctx.prototype.__setDefaultStyles=function(){var keys=Object.keys(STYLES),i,key;for(i=0;i<keys.length;i++){key=keys[i];this[key]=STYLES[key].canvas}};_ctx.prototype.__applyStyleState=function(styleState){var keys=Object.keys(styleState),i,key;for(i=0;i<keys.length;i++){key=keys[i];this[key]=styleState[key]}};_ctx.prototype.__getStyleState=function(){var i,styleState={},keys=Object.keys(STYLES),key;for(i=0;i<keys.length;i++){key=keys[i];styleState[key]=this[key]}return styleState};_ctx.prototype.__applyStyleToCurrentElement=function(type){var keys=Object.keys(STYLES),i,style,value,id,regex,matches;for(i=0;i<keys.length;i++){style=STYLES[keys[i]];value=this[keys[i]];if(style.apply){if(style.apply.indexOf("fill")!==-1&&value instanceof CanvasPattern){if(value.__ctx){while(value.__ctx.__defs.childNodes.length){id=value.__ctx.__defs.childNodes[0].getAttribute("id");this.__ids[id]=id;this.__defs.appendChild(value.__ctx.__defs.childNodes[0])}}this.__currentElement.setAttribute("fill",format("url(#{id})",{id:value.__root.getAttribute("id")}))}else if(style.apply.indexOf("fill")!==-1&&value instanceof CanvasGradient){this.__currentElement.setAttribute("fill",format("url(#{id})",{id:value.__root.getAttribute("id")}))}else if(style.apply.indexOf(type)!==-1&&style.svg!==value){if((style.svgAttr==="stroke"||style.svgAttr==="fill")&&value.indexOf("rgba")!==-1){regex=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi;matches=regex.exec(value);this.__currentElement.setAttribute(style.svgAttr,format("rgb({r},{g},{b})",{r:matches[1],g:matches[2],b:matches[3]}));this.__currentElement.setAttribute(style.svgAttr+"-opacity",matches[4])}else{this.__currentElement.setAttribute(style.svgAttr,value)}}}}};_ctx.prototype.__closestGroupOrSvg=function(node){node=node||this.__currentElement;if(node.nodeName==="g"||node.nodeName==="svg"){return node}else{return this.__closestGroupOrSvg(node.parentNode)}};_ctx.prototype.getSerializedSvg=function(fixNamedEntities){var serialized=(new XMLSerializer).serializeToString(this.__root),keys,i,key,value,regexp,xmlns;xmlns=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;if(xmlns.test(serialized)){serialized=serialized.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')}if(fixNamedEntities){keys=Object.keys(namedEntities);for(i=0;i<keys.length;i++){key=keys[i];value=namedEntities[key];regexp=new RegExp(key,"gi");if(regexp.test(serialized)){serialized=serialized.replace(regexp,value)}}}return serialized};_ctx.prototype.getSvg=function(){return this.__root};_ctx.prototype.save=function(){var group=this.__createElement("g"),parent=this.__closestGroupOrSvg();this.__groupStack.push(parent);parent.appendChild(group);this.__currentElement=group;this.__stack.push(this.__getStyleState())};_ctx.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var state=this.__stack.pop();this.__applyStyleState(state)};_ctx.prototype.__addTransform=function(t){var parent=this.__closestGroupOrSvg();if(parent.childNodes.length>0){var group=this.__createElement("g");parent.appendChild(group);this.__currentElement=group}var transform=this.__currentElement.getAttribute("transform");if(transform){transform+=" "}else{transform=""}transform+=t;this.__currentElement.setAttribute("transform",transform)};_ctx.prototype.scale=function(x,y){if(y===undefined){y=x}this.__addTransform(format("scale({x},{y})",{x:x,y:y}))};_ctx.prototype.rotate=function(angle){var degrees=angle*180/Math.PI;this.__addTransform(format("rotate({angle},{cx},{cy})",{angle:degrees,cx:0,cy:0}))};_ctx.prototype.translate=function(x,y){this.__addTransform(format("translate({x},{y})",{x:x,y:y}))};_ctx.prototype.transform=function(a,b,c,d,e,f){this.__addTransform(format("matrix({a},{b},{c},{d},{e},{f})",{a:a,b:b,c:c,d:d,e:e,f:f}))};_ctx.prototype.beginPath=function(){var path,parent;this.__currentDefaultPath="";this.__currentPosition={};path=this.__createElement("path",{},true);parent=this.__closestGroupOrSvg();parent.appendChild(path);this.__currentElement=path};_ctx.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var d=this.__currentDefaultPath;this.__currentElement.setAttribute("d",d)}else{throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)}};_ctx.prototype.__addPathCommand=function(command){this.__currentDefaultPath+=" ";this.__currentDefaultPath+=command};_ctx.prototype.moveTo=function(x,y){if(this.__currentElement.nodeName!=="path"){this.beginPath()}this.__currentPosition={x:x,y:y};this.__addPathCommand(format("M {x} {y}",{x:x,y:y}))};_ctx.prototype.closePath=function(){this.__addPathCommand("Z")};_ctx.prototype.lineTo=function(x,y){this.__currentPosition={x:x,y:y};if(this.__currentDefaultPath.indexOf("M")>-1){this.__addPathCommand(format("L {x} {y}",{x:x,y:y}))}else{this.__addPathCommand(format("M {x} {y}",{x:x,y:y}))}};_ctx.prototype.bezierCurveTo=function(cp1x,cp1y,cp2x,cp2y,x,y){this.__currentPosition={x:x,y:y};this.__addPathCommand(format("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:cp1x,cp1y:cp1y,cp2x:cp2x,cp2y:cp2y,x:x,y:y}))};_ctx.prototype.quadraticCurveTo=function(cpx,cpy,x,y){this.__currentPosition={x:x,y:y};this.__addPathCommand(format("Q {cpx} {cpy} {x} {y}",{cpx:cpx,cpy:cpy,x:x,y:y}))};var normalize=function normalize(vector){var len=Math.sqrt(vector[0]*vector[0]+vector[1]*vector[1]);return[vector[0]/len,vector[1]/len]};_ctx.prototype.arcTo=function(x1,y1,x2,y2,radius){var x0=this.__currentPosition&&this.__currentPosition.x;var y0=this.__currentPosition&&this.__currentPosition.y;if(typeof x0=="undefined"||typeof y0=="undefined"){return}if(radius<0){throw new Error("IndexSizeError: The radius provided ("+radius+") is negative.")}if(x0===x1&&y0===y1||x1===x2&&y1===y2||radius===0){this.lineTo(x1,y1);return}var unit_vec_p1_p0=normalize([x0-x1,y0-y1]);var unit_vec_p1_p2=normalize([x2-x1,y2-y1]);if(unit_vec_p1_p0[0]*unit_vec_p1_p2[1]===unit_vec_p1_p0[1]*unit_vec_p1_p2[0]){this.lineTo(x1,y1);return}var cos=unit_vec_p1_p0[0]*unit_vec_p1_p2[0]+unit_vec_p1_p0[1]*unit_vec_p1_p2[1];var theta=Math.acos(Math.abs(cos));var unit_vec_p1_origin=normalize([unit_vec_p1_p0[0]+unit_vec_p1_p2[0],unit_vec_p1_p0[1]+unit_vec_p1_p2[1]]);var len_p1_origin=radius/Math.sin(theta/2);var x=x1+len_p1_origin*unit_vec_p1_origin[0];var y=y1+len_p1_origin*unit_vec_p1_origin[1];var unit_vec_origin_start_tangent=[-unit_vec_p1_p0[1],unit_vec_p1_p0[0]];var unit_vec_origin_end_tangent=[unit_vec_p1_p2[1],-unit_vec_p1_p2[0]];var getAngle=function getAngle(vector){var x=vector[0];var y=vector[1];if(y>=0){return Math.acos(x)}else{return-Math.acos(x)}};var startAngle=getAngle(unit_vec_origin_start_tangent);var endAngle=getAngle(unit_vec_origin_end_tangent);this.lineTo(x+unit_vec_origin_start_tangent[0]*radius,y+unit_vec_origin_start_tangent[1]*radius);this.arc(x,y,radius,startAngle,endAngle)};_ctx.prototype.stroke=function(){if(this.__currentElement.nodeName==="path"){this.__currentElement.setAttribute("paint-order","fill stroke markers")}this.__applyCurrentDefaultPath();this.__applyStyleToCurrentElement("stroke")};_ctx.prototype.fill=function(){if(this.__currentElement.nodeName==="path"){this.__currentElement.setAttribute("paint-order","stroke fill markers")}this.__applyCurrentDefaultPath();this.__applyStyleToCurrentElement("fill")};_ctx.prototype.rect=function(x,y,width,height){if(this.__currentElement.nodeName!=="path"){this.beginPath()}this.moveTo(x,y);this.lineTo(x+width,y);this.lineTo(x+width,y+height);this.lineTo(x,y+height);this.lineTo(x,y);this.closePath()};_ctx.prototype.fillRect=function(x,y,width,height){var rect,parent;rect=this.__createElement("rect",{x:x,y:y,width:width,height:height},true);parent=this.__closestGroupOrSvg();parent.appendChild(rect);this.__currentElement=rect;this.__applyStyleToCurrentElement("fill")};_ctx.prototype.strokeRect=function(x,y,width,height){var rect,parent;rect=this.__createElement("rect",{x:x,y:y,width:width,height:height},true);parent=this.__closestGroupOrSvg();parent.appendChild(rect);this.__currentElement=rect;this.__applyStyleToCurrentElement("stroke")};_ctx.prototype.clearRect=function(x,y,width,height){var rect,parent=this.__closestGroupOrSvg();rect=this.__createElement("rect",{x:x,y:y,width:width,height:height,fill:"#FFFFFF"},true);parent.appendChild(rect)};_ctx.prototype.createLinearGradient=function(x1,y1,x2,y2){var grad=this.__createElement("linearGradient",{id:randomString(this.__ids),x1:x1+"px",x2:x2+"px",y1:y1+"px",y2:y2+"px",gradientUnits:"userSpaceOnUse"},false);this.__defs.appendChild(grad);return new CanvasGradient(grad,this)};_ctx.prototype.createRadialGradient=function(x0,y0,r0,x1,y1,r1){var grad=this.__createElement("radialGradient",{id:randomString(this.__ids),cx:x1+"px",cy:y1+"px",r:r1+"px",fx:x0+"px",fy:y0+"px",gradientUnits:"userSpaceOnUse"},false);this.__defs.appendChild(grad);return new CanvasGradient(grad,this)};_ctx.prototype.__parseFont=function(){var regex=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i;var fontPart=regex.exec(this.font);var data={style:fontPart[1]||"normal",size:fontPart[4]||"10px",family:fontPart[6]||"sans-serif",weight:fontPart[3]||"normal",decoration:fontPart[2]||"normal",href:null};if(this.__fontUnderline==="underline"){data.decoration="underline"}if(this.__fontHref){data.href=this.__fontHref}return data};_ctx.prototype.__wrapTextLink=function(font,element){if(font.href){var a=this.__createElement("a");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",font.href);a.appendChild(element);return a}return element};_ctx.prototype.__applyText=function(text,x,y,action){var font=this.__parseFont(),parent=this.__closestGroupOrSvg(),textElement=this.__createElement("text",{"font-family":font.family,"font-size":font.size,"font-style":font.style,"font-weight":font.weight,"text-decoration":font.decoration,x:x,y:y,"text-anchor":getTextAnchor(this.textAlign),"dominant-baseline":getDominantBaseline(this.textBaseline)},true);textElement.appendChild(this.__document.createTextNode(text));this.__currentElement=textElement;this.__applyStyleToCurrentElement(action);parent.appendChild(this.__wrapTextLink(font,textElement))};_ctx.prototype.fillText=function(text,x,y){this.__applyText(text,x,y,"fill")};_ctx.prototype.strokeText=function(text,x,y){this.__applyText(text,x,y,"stroke")};_ctx.prototype.measureText=function(text){this.__ctx.font=this.font;return this.__ctx.measureText(text)};_ctx.prototype.arc=function(x,y,radius,startAngle,endAngle,counterClockwise){if(startAngle===endAngle){return}startAngle=startAngle%(2*Math.PI);endAngle=endAngle%(2*Math.PI);if(startAngle===endAngle){endAngle=(endAngle+2*Math.PI-.001*(counterClockwise?-1:1))%(2*Math.PI)}var endX=x+radius*Math.cos(endAngle),endY=y+radius*Math.sin(endAngle),startX=x+radius*Math.cos(startAngle),startY=y+radius*Math.sin(startAngle),sweepFlag=counterClockwise?0:1,largeArcFlag=0,diff=endAngle-startAngle;if(diff<0){diff+=2*Math.PI}if(counterClockwise){largeArcFlag=diff>Math.PI?0:1}else{largeArcFlag=diff>Math.PI?1:0}this.lineTo(startX,startY);this.__addPathCommand(format("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:radius,ry:radius,xAxisRotation:0,largeArcFlag:largeArcFlag,sweepFlag:sweepFlag,endX:endX,endY:endY}));this.__currentPosition={x:endX,y:endY}};_ctx.prototype.clip=function(){var group=this.__closestGroupOrSvg(),clipPath=this.__createElement("clipPath"),id=randomString(this.__ids),newGroup=this.__createElement("g");group.removeChild(this.__currentElement);clipPath.setAttribute("id",id);clipPath.appendChild(this.__currentElement);this.__defs.appendChild(clipPath);group.setAttribute("clip-path",format("url(#{id})",{id:id}));group.appendChild(newGroup);this.__currentElement=newGroup};_ctx.prototype.drawImage=function(){var args=Array.prototype.slice.call(arguments),image=args[0],dx,dy,dw,dh,sx=0,sy=0,sw,sh,parent,svg,defs,group,currentElement,svgImage,canvas,context,id;if(args.length===3){dx=args[1];dy=args[2];sw=image.width;sh=image.height;dw=sw;dh=sh}else if(args.length===5){dx=args[1];dy=args[2];dw=args[3];dh=args[4];sw=image.width;sh=image.height}else if(args.length===9){sx=args[1];sy=args[2];sw=args[3];sh=args[4];dx=args[5];dy=args[6];dw=args[7];dh=args[8]}else{throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length)}parent=this.__closestGroupOrSvg();currentElement=this.__currentElement;if(image instanceof _ctx){svg=image.getSvg();defs=svg.childNodes[0];while(defs.childNodes.length){id=defs.childNodes[0].getAttribute("id");this.__ids[id]=id;this.__defs.appendChild(defs.childNodes[0])}group=svg.childNodes[1];parent.appendChild(group);this.__currentElement=group;this.translate(dx,dy);this.__currentElement=currentElement}else if(image.nodeName==="CANVAS"||image.nodeName==="IMG"){svgImage=this.__createElement("image");svgImage.setAttribute("width",dw);svgImage.setAttribute("height",dh);svgImage.setAttribute("preserveAspectRatio","none");if(sx||sy||sw!==image.width||sh!==image.height){canvas=this.__document.createElement("canvas");canvas.width=dw;canvas.height=dh;context=canvas.getContext("2d");context.drawImage(image,sx,sy,sw,sh,0,0,dw,dh);image=canvas}svgImage.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",image.nodeName==="CANVAS"?image.toDataURL():image.getAttribute("src"));parent.appendChild(svgImage);this.__currentElement=svgImage;this.translate(dx,dy);this.__currentElement=currentElement}};_ctx.prototype.createPattern=function(image,repetition){var pattern=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),id=randomString(this.__ids),img;pattern.setAttribute("id",id);pattern.setAttribute("width",image.width);pattern.setAttribute("height",image.height);if(image.nodeName==="CANVAS"||image.nodeName==="IMG"){img=this.__document.createElementNS("http://www.w3.org/2000/svg","image");img.setAttribute("width",image.width);img.setAttribute("height",image.height);img.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",image.nodeName==="CANVAS"?image.toDataURL():image.getAttribute("src"));pattern.appendChild(img);this.__defs.appendChild(pattern)}else if(image instanceof _ctx){pattern.appendChild(image.__root.childNodes[1]);this.__defs.appendChild(pattern)}return new CanvasPattern(pattern,this)};_ctx.prototype.drawFocusRing=function(){};_ctx.prototype.createImageData=function(){};_ctx.prototype.getImageData=function(){};_ctx.prototype.putImageData=function(){};_ctx.prototype.globalCompositeOperation=function(){};_ctx.prototype.setTransform=function(){};if((typeof window==="undefined"?"undefined":_typeof(window))==="object"){window.C2S=_ctx}if((false?"undefined":_typeof(module))==="object"&&_typeof(module.exports)==="object"){module.exports=_ctx}})()}).call(exports,__webpack_require__(4)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _LabelRowView=__webpack_require__(63);var _LabelRowView2=_interopRequireDefault(_LabelRowView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){var _this=this;this.g=data.g;this.draw();this.listenTo(this.g.zoomer,"change:_alignmentScrollTop",this._adjustScrollingTop);this.g.vis.once("change:loaded",this._adjustScrollingTop,this);this.listenTo(this.g.zoomer,"change:alignmentHeight",this._setHeight);this.listenTo(this.model,"change:reference",this.draw);return this.listenTo(this.model,"reset add remove",function(){_this.draw();return _this.render()})},draw:function draw(){this.removeViews();console.log("redraw columns",this.model.length);for(var i=0;i<this.model.length;i++){if(this.model.at(i).get("hidden")){continue}var view=new _LabelRowView2.default({model:this.model.at(i),g:this.g});view.ordering=i;this.addView("row_"+i,view)}},events:{scroll:"_sendScrollEvent"},_sendScrollEvent:function _sendScrollEvent(){return this.g.zoomer.set("_alignmentScrollTop",this.el.scrollTop,{origin:"label"})},_adjustScrollingTop:function _adjustScrollingTop(){return this.el.scrollTop=this.g.zoomer.get("_alignmentScrollTop")},render:function render(){this.renderSubviews();this.el.className="biojs_msa_labelblock";this.el.style.display="inline-block";this.el.style.verticalAlign="top";this.el.style.overflowY="auto";this.el.style.overflowX="hidden";this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px";this.el.style.lineHeight=""+this.g.zoomer.get("labelLineHeight");this._setHeight();return this},_setHeight:function _setHeight(){return this.el.style.height=this.g.zoomer.get("alignmentHeight")+"px"}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _LabelView=__webpack_require__(64);var _LabelView2=_interopRequireDefault(_LabelView);var _MetaView=__webpack_require__(66);var _MetaView2=_interopRequireDefault(_MetaView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;this.draw();this.listenTo(this.g.vis,"change:labels",this.drawR);this.listenTo(this.g.vis,"change:metacell",this.drawR);this.listenTo(this.g.zoomer,"change:rowHeight",function(){return this.el.style.height=this.g.zoomer.get("rowHeight")+"px"});return this.listenTo(this.g.selcol,"change reset add remove",this.setSelection)},draw:function draw(){this.removeViews();if(this.g.vis.get("labels")){this.addView("labels",new _LabelView2.default({model:this.model,g:this.g}))}if(this.g.vis.get("metacell")){var meta=new _MetaView2.default({model:this.model,g:this.g});return this.addView("metacell",meta)}},drawR:function drawR(){this.draw();return this.render()},render:function render(){this.renderSubviews();this.el.setAttribute("class","biojs_msa_labelrow");this.el.style.height=this.g.zoomer.get("rowHeight")*(this.model.attributes.height||1)+"px";this.setSelection();return this},setSelection:function setSelection(){var sel=this.g.selcol.getSelForRow(this.model.id);if(sel.length>0){return this.el.style.fontWeight="bold"}else{return this.el.style.fontWeight="normal"}}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var view=__webpack_require__(14);var dom=__webpack_require__(65);var LabelView=view.extend({initialize:function initialize(data){this.seq=data.seq;this.g=data.g;return this.manageEvents()},manageEvents:function manageEvents(){var events={};if(this.g.config.get("registerMouseClicks")){events.click="_onclick"}if(this.g.config.get("registerMouseHover")){events.mousein="_onmousein";events.mouseout="_onmouseout"}this.delegateEvents(events);this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents);this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents);this.listenTo(this.g.vis,"change:labelName change:labelId change:labelPartition change:labelCheckbox",this.render);this.listenTo(this.g.zoomer,"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength",this.render);return this.listenTo(this.g.zoomer,"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight",this.render)},render:function render(){dom.removeAllChilds(this.el);this.el.style.width=this.g.zoomer.getLabelWidth()+"px";this.el.setAttribute("class","biojs_msa_labels");if(this.g.vis.get("labelCheckbox")){var checkBox=document.createElement("input");checkBox.setAttribute("type","checkbox");checkBox.value=this.model.get("id");checkBox.name="seq";checkBox.style.width=this.g.zoomer.get("labelCheckLength")+"px";this.el.appendChild(checkBox)}if(this.g.vis.get("labelId")){var id=document.createElement("span");var val=this.model.get("id");if(!isNaN(val)){val++}id.textContent=val;id.style.width=this.g.zoomer.get("labelIdLength")+"px";id.style.display="inline-block";this.el.appendChild(id);this.el.setAttribute("title",val)}if(this.g.vis.get("labelPartition")){var part=document.createElement("span");part.style.width=this.g.zoomer.get("labelPartLength")+"px";var textContent=this.model.get("partition");part.textContent=textContent;part.style.display="inline-block";this.el.appendChild(id);this.el.appendChild(part);this.el.setAttribute("title",textContent)}if(this.g.vis.get("labelName")){var name=document.createElement("span");var _textContent=this.model.get("name");name.textContent=_textContent;if(this.model.get("ref")&&this.g.config.get("hasRef")){name.style.fontWeight="bold"}name.style.width=this.g.zoomer.get("labelNameLength")+"px";this.el.appendChild(name);this.el.setAttribute("title",_textContent)}this.el.style.overflow=scroll;this.el.style.fontSize=this.g.zoomer.get("labelFontsize")+"px";return this},_onclick:function _onclick(evt){var seqId=this.model.get("id");return this.g.trigger("row:click",{seqId:seqId,evt:evt})},_onmousein:function _onmousein(evt){var seqId=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:seqId,evt:evt})},_onmouseout:function _onmouseout(evt){var seqId=this.model.get("id");return this.g.trigger("row:mouseout",{seqId:seqId,evt:evt})}});exports.default=LabelView},function(module,exports){"use strict";var Utils={};Utils.removeToInsertLater=function(element){var nextSibling,parentNode;parentNode=element.parentNode;nextSibling=element.nextSibling;parentNode.removeChild(element);return function(){if(nextSibling){parentNode.insertBefore(element,nextSibling)}else{parentNode.appendChild(element)}}};Utils.removeAllChilds=function(element){var count;count=0;while(element.firstChild){count++;element.removeChild(element.firstChild)}};module.exports=Utils},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bio=__webpack_require__(67);var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);var _lodash=__webpack_require__(3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var view=__webpack_require__(14);var dom=__webpack_require__(65);var MetaView=view.extend({className:"biojs_msa_metaview",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.vis,"change:metacell",this.render);return this.listenTo(this.g.zoomer,"change:metaWidth",this.render)},events:{click:"_onclick",mousein:"_onmousein",mouseout:"_onmouseout"},render:function render(){dom.removeAllChilds(this.el);this.el.style.display="inline-block";var width=this.g.zoomer.getMetaWidth();this.el.style.width=width-10;this.el.style.paddingRight=5;this.el.style.paddingLeft=5;this.el.style.fontSize=this.g.zoomer.get("labelFontsize")-2+"px";if(this.g.vis.get("metaGaps")){var seq=this.model.get("seq");var gaps=[].concat(_toConsumableArray(seq)).reduce(function(memo,c){return c==="-"?++memo:memo},0);gaps=(gaps*100/seq.length).toFixed(0)+"%";var gapSpan=document.createElement("span");gapSpan.textContent=gaps;gapSpan.style.display="inline-block";gapSpan.style.width=35;this.el.appendChild(gapSpan)}if(this.g.vis.get("metaIdentity")){var ident=this.g.stats.identity()[this.model.id];var identSpan=document.createElement("span");if(this.model.get("ref")&&this.g.config.get("hasRef")){identSpan.textContent="ref."}else if(typeof ident!=="undefined"&&ident!==null){identSpan.textContent=ident.toFixed(2)}identSpan.style.display="inline-block";identSpan.style.width=40;this.el.appendChild(identSpan)}if(this.g.vis.get("metaLinks")){if(this.model.attributes.ids){var links=_bio.seqs.buildLinks(this.model.attributes.ids);if(Object.keys(links).length>0){var menu=new _menubuilder2.default({name:"↗"});console.log(Object.keys(links));Object.entries(links).forEach(function(val,key){return menu.addNode(key,function(e){return window.open(val)})});var linkEl=menu.buildDOM();linkEl.style.cursor="pointer";return this.el.appendChild(linkEl)}}}},_onclick:function _onclick(evt){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:evt})})},_onmousein:function _onmousein(evt){return this.g.trigger("meta:mousein",{seqId:this.model.get("id",{evt:evt})})},_onmouseout:function _onmouseout(evt){return this.g.trigger("meta:mouseout",{seqId:this.model.get("id",{evt:evt})})}});exports.default=MetaView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.version=exports.xhr=exports.seqs=exports.parser=exports.newick=exports.matrix=exports.gff=exports.fasta=exports.clustal=undefined;var _clustal2=__webpack_require__(68);var _clustal3=_interopRequireDefault(_clustal2);var _fasta2=__webpack_require__(76);var _fasta3=_interopRequireDefault(_fasta2);var _gff2=__webpack_require__(78);var _gff3=_interopRequireDefault(_gff2);var _matrix2=__webpack_require__(81);var _matrix3=_interopRequireDefault(_matrix2);var _newick2=__webpack_require__(82);var _newick3=_interopRequireDefault(_newick2);var _parser2=__webpack_require__(69);var _parser3=_interopRequireDefault(_parser2);var _seqs2=__webpack_require__(75);var _seqs3=_interopRequireDefault(_seqs2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.clustal=_clustal3.default;exports.fasta=_fasta3.default;exports.gff=_gff3.default;exports.matrix=_matrix3.default;exports.newick=_newick3.default;exports.parser=_parser3.default;exports.seqs=_seqs3.default;var xhr=__webpack_require__(70);exports.xhr=xhr;var VERSION="imported";if(typeof IO_VERSION!=="undefined"){VERSION=IO_VERSION}var version=exports.version=VERSION},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _parser=__webpack_require__(69);var _parser2=_interopRequireDefault(_parser);var _seqs=__webpack_require__(75);var _seqs2=_interopRequireDefault(_seqs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Clustal=void 0;exports.default=Clustal={parse:function parse(text){var seqs=[];if(Object.prototype.toString.call(text)==="[object Array]"){var lines=text}else{var lines=text.split("\n")}if(lines[0].slice(0,6)===!"CLUSTAL"){throw new Error("Invalid CLUSTAL Header")}var k=0;var blockstate=1;var seqCounter=0;while(k<lines.length){k++;var line=lines[k];if(!(line!=null)||line.length===0){blockstate=1;continue}if(line.trim().length===0){blockstate=1;continue}else{if(_seqs2.default.contains(line,"*")){continue}if(blockstate===1){seqCounter=0;blockstate=0}var regex=/^(?:\s*)(\S+)(?:\s+)(\S+)(?:\s*)(\d*)(?:\s*|$)/g;var match=regex.exec(line);if(match!=null){var label=match[1].trim();var sequence=match[2].trim();if(seqCounter>=seqs.length){var obj=_seqs2.default.getMeta(label.trim());label=obj.name;var cSeq=new _seqs2.default.model(sequence,label,seqCounter);cSeq.ids=obj.ids||{};cSeq.details=obj.details||{};var keys=Object.keys(cSeq.ids);if(keys.length>0){cSeq.id=cSeq.ids[keys[0]]}seqs.push(cSeq)}else{seqs[seqCounter].seq+=sequence}seqCounter++}else{console.log("parse error",line)}}}seqs=seqs.filter(function(s){return s.seq.search(/[:.*]/i)===-1&&s.name.search(/[:.*]/i)===-1});return seqs}};_parser2.default.mixin(Clustal)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var xhr=__webpack_require__(70);var GenericReader={};exports.default=GenericReader;GenericReader.read=function(url,callback){var onret=function(_this){return function(err,response,text){return GenericReader._onRetrieval(err,text,callback,_this)}}(this);if(typeof callback==="undefined"){return new Promise(function(resolve,reject){callback=function callback(err,res){if(err){reject(err)}else{resolve(res)}};xhr(url,onret)})}else{return xhr(url,onret)}};GenericReader._onRetrieval=function(err,text,callback,_this){var rText=void 0;if(typeof err!=="undefined"){rText=_this.parse(text)}return callback.call(_this,err,rText)};GenericReader.extend=function(obj,statics){return extend(GenericReader,obj,statics)};GenericReader.mixin=function(proto){var exports=["read"];if((typeof proto==="undefined"?"undefined":_typeof(proto))!=="object"){proto=proto.prototype}exports.forEach(function(name){proto[name]=GenericReader[name]},this);return proto}},function(module,exports,__webpack_require__){"use strict";var window=__webpack_require__(71);var isFunction=__webpack_require__(72);var parseHeaders=__webpack_require__(73);var xtend=__webpack_require__(74);module.exports=createXHR;module.exports.default=createXHR;createXHR.XMLHttpRequest=window.XMLHttpRequest||noop;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest;forEachArray(["get","put","post","patch","head","delete"],function(method){createXHR[method==="delete"?"del":method]=function(uri,options,callback){options=initParams(uri,options,callback);options.method=method.toUpperCase();return _createXHR(options)}});function forEachArray(array,iterator){for(var i=0;i<array.length;i++){iterator(array[i])}}function isEmpty(obj){for(var i in obj){if(obj.hasOwnProperty(i))return false}return true}function initParams(uri,options,callback){var params=uri;if(isFunction(options)){callback=options;if(typeof uri==="string"){params={uri:uri}}}else{params=xtend(options,{uri:uri})}params.callback=callback;return params}function createXHR(uri,options,callback){options=initParams(uri,options,callback);return _createXHR(options)}function _createXHR(options){if(typeof options.callback==="undefined"){throw new Error("callback argument missing")}var called=false;var callback=function cbOnce(err,response,body){if(!called){called=true;options.callback(err,response,body)}};function readystatechange(){if(xhr.readyState===4){setTimeout(loadFunc,0)}}function getBody(){var body=undefined;if(xhr.response){body=xhr.response}else{body=xhr.responseText||getXml(xhr)}if(isJson){try{body=JSON.parse(body)}catch(e){}}return body}function errorFunc(evt){clearTimeout(timeoutTimer);if(!(evt instanceof Error)){evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))}evt.statusCode=0;return callback(evt,failureResponse)}function loadFunc(){if(aborted)return;var status;clearTimeout(timeoutTimer);if(options.useXDR&&xhr.status===undefined){status=200}else{status=xhr.status===1223?204:xhr.status}var response=failureResponse;var err=null;if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr};if(xhr.getAllResponseHeaders){response.headers=parseHeaders(xhr.getAllResponseHeaders())}}else{err=new Error("Internal XMLHttpRequest Error")}return callback(err,response,response.body)}var xhr=options.xhr||null;if(!xhr){if(options.cors||options.useXDR){xhr=new createXHR.XDomainRequest}else{xhr=new createXHR.XMLHttpRequest}}var key;var aborted;var uri=xhr.url=options.uri||options.url;var method=xhr.method=options.method||"GET";var body=options.body||options.data;var headers=xhr.headers=options.headers||{};var sync=!!options.sync;var isJson=false;var timeoutTimer;var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};if("json"in options&&options.json!==false){isJson=true;headers["accept"]||headers["Accept"]||(headers["Accept"]="application/json");if(method!=="GET"&&method!=="HEAD"){headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json");body=JSON.stringify(options.json===true?body:options.json)}}xhr.onreadystatechange=readystatechange;xhr.onload=loadFunc;xhr.onerror=errorFunc;xhr.onprogress=function(){};xhr.onabort=function(){aborted=true};xhr.ontimeout=errorFunc;xhr.open(method,uri,!sync,options.username,options.password);if(!sync){xhr.withCredentials=!!options.withCredentials}if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){if(aborted)return;aborted=true;xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";errorFunc(e)},options.timeout)}if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key])}}}else if(options.headers&&!isEmpty(options.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in options){xhr.responseType=options.responseType}if("beforeSend"in options&&typeof options.beforeSend==="function"){options.beforeSend(xhr)}xhr.send(body||null);return xhr}function getXml(xhr){try{if(xhr.responseType==="document"){return xhr.responseXML}var firefoxBugTakenEffect=xhr.responseXML&&xhr.responseXML.documentElement.nodeName==="parsererror";if(xhr.responseType===""&&!firefoxBugTakenEffect){return xhr.responseXML}}catch(e){}return null}function noop(){}},function(module,exports){(function(global){"use strict";var win;if(typeof window!=="undefined"){win=window}else if(typeof global!=="undefined"){win=global}else if(typeof self!=="undefined"){win=self}else{win={}}module.exports=win}).call(exports,function(){return this}())},function(module,exports){"use strict";module.exports=isFunction;var toString=Object.prototype.toString;function isFunction(fn){if(!fn){return false}var string=toString.call(fn);return string==="[object Function]"||typeof fn==="function"&&string!=="[object RegExp]"||typeof window!=="undefined"&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}},function(module,exports){"use strict";var trim=function trim(string){return string.replace(/^\s+|\s+$/g,"")},isArray=function isArray(arg){return Object.prototype.toString.call(arg)==="[object Array]"};module.exports=function(headers){if(!headers)return{};var result={};var headersArr=trim(headers).split("\n");for(var i=0;i<headersArr.length;i++){var row=headersArr[i];var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));if(typeof result[key]==="undefined"){result[key]=value}else if(isArray(result[key])){result[key].push(value)}else{result[key]=[result[key],value]}}return result}},function(module,exports){"use strict";module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var st={};exports.default=st;st.getMeta=function(label){var full_id=false,full_desc=false;var name,ids={},details={},description;var label_parts=label.split(" ");if(label_parts.length>=1){full_id=label_parts.shift();full_desc=label_parts.join(" ")}else{full_id=label}if(full_id){var id_parts=full_id.split("|");name=id_parts.pop();details.en=name;while(id_parts.length!=0){var db=id_parts.shift();var id=id_parts.shift();ids[db]=id}}else{name=full_id}if(full_desc){var kv_parts=full_desc.split("=");if(kv_parts.length>1){var current_key,next_key;var kv;var kv_idx_max=kv_parts.length-1;var kv_idx=0;kv_parts.forEach(function(value_and_maybe_next_key){value_and_maybe_next_key=value_and_maybe_next_key.trim();var value_parts=value_and_maybe_next_key.split(" ");var value;if(value_parts.length>1){next_key=value_parts.pop();value=value_parts.join(" ")}else{value=value_and_maybe_next_key}if(current_key){var key=current_key.toLowerCase();details[key]=value}else{description=value}current_key=next_key})}else{description=kv_parts.shift()}}var meta={name:name,ids:ids,details:details};if(description){meta.desc=description}return meta};var findSepInArr=function findSepInArr(arr,sep){for(var i=0;i<arr.lenght;i++){if(arr[i].indexOf(i)){return i}}return arr.length-1};var strToDict=function strToDict(str,sep,toJoin){toJoin=toJoin||{};var entries=str.split(sep);toJoin[entries[0].toLowerCase()]=entries[1];return toJoin};var identDB={sp:{link:"http://www.uniprot.org/%s",name:"Uniprot"},tr:{link:"http://www.uniprot.org/%s",name:"Trembl"},gb:{link:"http://www.ncbi.nlm.nih.gov/nuccore/%s",name:"Genbank"},pdb:{link:"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s",name:"PDB"}};st.buildLinks=function(meta){var links={};meta=meta||{};Object.keys(meta).forEach(function(id){if(id in identDB){var entry=identDB[id];var link=entry.link.replace("%s",meta[id]);links[entry.name]=link}});return links};st.contains=function(text,search){return"".indexOf.call(text,search,0)!==-1};st.splitNChars=function(txt,num){var i,_ref;num=num||80;var result=[];for(i=0,_ref=txt.length-1;i<=_ref;i+=num){result.push(txt.substr(i,num))}return result};st.reverse=function(seq){return seq.split("").reverse().join("")};st.complement=function(seq){var newSeq=seq+"";var replacements=[[/g/g,"0"],[/c/g,"1"],[/0/g,"c"],[/1/g,"g"],[/G/g,"0"],[/C/g,"1"],[/0/g,"C"],[/1/g,"G"],[/a/g,"0"],[/t/g,"1"],[/0/g,"t"],[/1/g,"a"],[/A/g,"0"],[/T/g,"1"],[/0/g,"T"],[/1/g,"A"]];for(var rep in replacements){newSeq=newSeq.replace(replacements[rep][0],replacements[rep][1])}return newSeq};st.reverseComplement=function(seq){return st.reverse(st.complement(seq))};st.model=function Seq(seq,name,id){this.seq=seq;this.name=name;this.id=id;this.ids={}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _seqs=__webpack_require__(75);var _seqs2=_interopRequireDefault(_seqs);var _extend2=__webpack_require__(77);var _extend3=_interopRequireDefault(_extend2);var _parser=__webpack_require__(69);var _parser2=_interopRequireDefault(_parser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Fasta=void 0;exports.default=Fasta={getMeta:_seqs2.default.getMeta,extend:function extend(metaParser){var customFasta=(0,_extend3.default)(Fasta);Fasta.getMeta=metaParser;return customFasta},parse:function parse(text){var seqs=[];if(!text||text.length===0){return[]}if(Object.prototype.toString.call(text)!=="[object Array]"){text=text.split("\n")}var _Fasta=Fasta,getMeta=_Fasta.getMeta;for(var i=0;i<text.length;i++){var line=text[i];if(line[0]===">"||line[0]===";"){var label=line.slice(1).trim();var obj=getMeta(label.trim());label=obj.name;var id=obj.id||seqs.length;var currentSeq=new _seqs2.default.model("",obj.name,id);currentSeq.ids=obj.ids||{};currentSeq.details=obj.details||{};seqs.push(currentSeq)}else{currentSeq.seq+=line}}return seqs},write:function write(seqs,access){var text="";for(var i=0;i<seqs.length;i++){var seq=seqs[i];if(access!=null){seq=access(seq)}text+=">"+seq.name+"\n";text+=_seqs2.default.splitNChars(seq.seq,80).join("\n");text+="\n"}return text}};_parser2.default.mixin(Fasta)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(out){out=out||{};var iterable=__range__(0,arguments.length,false);for(var j=0;j<iterable.length;j++){var i=iterable[j];if(!arguments[i]){continue}for(var k=0;k<arguments[i].length;k++){var key=arguments[i][k];if(arguments[i].hasOwnProperty(key)){out[key]=arguments[i][key]}}}return out};function __range__(left,right,inclusive){var range=[];var ascending=left<right;var end=!inclusive?right:ascending?right+1:right-1;for(var i=left;ascending?i<end:i>end;ascending?i++:i--){range.push(i)}return range}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _parser=__webpack_require__(69);var _parser2=_interopRequireDefault(_parser);var _utils=__webpack_require__(79);var _utils2=_interopRequireDefault(_utils);var _jalview=__webpack_require__(80);var _jalview2=_interopRequireDefault(_jalview);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var gff=function gff(){};_parser2.default.mixin(gff);exports.default=gff;gff.parseLines=function(file){var lines=file.split("\n");var config={};var arr=[];config.type=gff._guessType(lines);var offset=0;if(config.type==="jalview"){var ret=_jalview2.default.readHeader(lines);offset=ret.offset;config.colors=ret.colors;arr=ret.features}for(var i=offset;i<lines.length;i++){var line=lines[i];if(line.length===0||line[0]==="#")continue;line=gff.parseLine(line);if(line!==undefined)arr.push(line)}return{features:arr,config:config}};gff._guessType=function(line){if(line[0].substring(0,15)==="##gff-version 3"){return"gff3"}else if(line[0].indexOf("#")<0&&line[0].split("\t").length===2){return"jalview"}return"gff3"};gff.parseSeqs=gff.parse=function(file){var obj=gff.parseLines(file);var seqs={};obj.features.forEach(function(entry){var key=entry.seqname;if(seqs[key]===undefined)seqs[key]=[];delete entry.seqname;seqs[key].push(entry)});delete obj.features;obj.seqs=seqs;return obj};gff.parseLine=function(line){var tLine={};var columns=line.split(/\s+/);if(columns.length===1)return;tLine.seqname=columns[0];tLine.source=columns[1];tLine.feature=columns[2];tLine.start=parseInt(columns[3]);tLine.end=parseInt(columns[4]);tLine.score=columns[5];tLine.strand=columns[6];tLine.frame=columns[7];var attr=columns.slice(8).join(" ");Object.keys(tLine).forEach(function(key){if(typeof tLine[key]==="string"){tLine[key]=tLine[key].trim()}if(tLine[key]==="."){tLine[key]=undefined}});if(tLine.score){tLine.score=parseFloat(tLine.score)}if(tLine.frame){tLine.frame=parseInt(tLine.frame)}tLine.attributes=_utils2.default.extractKeys(attr);return tLine};gff.exportLine=function(line){var attrs=Object.keys(line.attributes).map(function(key){return key+"="+line.attributes[key]}).join(";");var cells=[line.seqname,line.source,line.feature,line.start,line.end,line.score,line.strand,line.frame,attrs];cells=cells.map(function(e){if(e===undefined){return"."}return e});return cells.join("\t")};gff.exportLines=function(lines){return"##gff-version 3\n"+lines.map(gff.exportLine).join("\n")};gff.exportSeqs=gff.export=function(seqs){var lines=[];var pLine=function pLine(e){e.seqname=key;lines.push(e)};for(var key in seqs){seqs[key].forEach(pLine)}return gff.exportLines(lines)};gff.utils=_utils2.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractKeys=extractKeys;exports.rgbToHex=rgbToHex;function extractKeys(attr){var attributes={};var attrArr=attr.split(";");attrArr.forEach(function(el){var keyArr,key,val;if(el.indexOf("=")>0){keyArr=el.split("=");key=keyArr[0];val=keyArr[1];attributes[key]=val}else if(el.indexOf(" ")>0){keyArr=el.split(" ");key=keyArr[0];val=keyArr[1].replace(/"/g,"");attributes[key]=val}});return attributes}function componentToHex(c){var hex=c.toString(16);return hex.length===1?"0"+hex:hex}function rgbToHex(r,g,b){if(r.length===3){return rgbToHex(r[0],r[1],r[2])}return"#"+componentToHex(r)+componentToHex(g)+componentToHex(b)}exports.default={extractKeys:extractKeys,rgbToHex:rgbToHex}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _utils=__webpack_require__(79);var jalview={};exports.default=jalview;jalview.readHeader=function(lines){var colors={};var i=0;var features=[];var currentGroup;for(;i<lines.length;i++){var line=lines[i];if(line.indexOf("#")>=0){break}var columns=line.split(/\t/);var firstCell=columns[0].trim();if(firstCell==="GFF"){break}else if(columns.length===2){if(firstCell==="startgroup"){currentGroup=columns[1].trim()}else if(firstCell==="endgroup"){currentGroup="";continue}else{colors[columns[0]]=jalview.parseColor(columns[1])}}else if(columns.length>=5){var arr=jalview.parseLine(columns);if(currentGroup){arr.attributes.Parent=currentGroup}features.push(arr)}}return{offset:i,colors:colors,features:features}};jalview.parseColor=function(cell){if(cell.indexOf(",")>=0){return(0,_utils.rgbToHex)(cell.split(",").map(function(el){return parseInt(el)}))}if(cell.length===6&&parseInt(cell.charAt(0),16)<=16&&cell!=="bisque"){return"#"+cell}return cell};jalview.parseLine=function(columns){var obj={attributes:{}};obj.attributes.Name=columns[0].trim();obj.seqname=columns[1].trim();obj.start=parseInt(columns[3]);obj.end=parseInt(columns[4]);obj.feature=columns[5].trim();if(obj.seqname==="ID_NOT_SPECIFIED"){obj.seqname=columns[2].trim()}return obj}},function(module,exports,__webpack_require__){"use strict";var _parser=__webpack_require__(69);var _parser2=_interopRequireDefault(_parser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MatrixReader=function MatrixReader(text){if(this.constructor!=MatrixReader)return new MatrixReader(text);this.matrix={};this.parsingOrder=[];if(text!=undefined){this.parse(text)}return this};_parser2.default.mixin(MatrixReader);module.exports=MatrixReader;MatrixReader.prototype.parse=function(text){text.split("\n").forEach(function(el){this.parseLine(el)}.bind(this));this.buildMatrix();return this.matrix};MatrixReader.read=function(url,cb){return(new MatrixReader).read(url,cb)};MatrixReader.parse=function(text){return(new MatrixReader).parse(text)};MatrixReader.prototype.parseLine=function(line){var c=line.charAt(0);if(c==="#"){return}else{this.parsingOrder.push(c);var intStr=line.substring(1);var ints=intStr.split(/\s+/).filter(function(e){return e.length>0}).map(function(e){return parseInt(e)});var m={};for(var i=0;i<ints.length;i++){m[this.parsingOrder[i]]=ints[i]}this.matrix[c]=m}};MatrixReader.prototype.export=function(){return MatrixReader.export(this.matrix)};MatrixReader.export=function(matrix){var lines=[];var max=1;if("matrix"in matrix){matrix=matrix.matrix}for(var key in matrix){var line=key;var keys=Object.keys(matrix[key]);for(var i=0;i<max;i++){line+="\t"+matrix[key][keys[i]]}lines.push(line);max++}return lines.join("\n")};MatrixReader.prototype.buildMatrix=function(){for(var i=this.parsingOrder.length-1;i>=0;i--){var curC=this.parsingOrder[i];var map=this.matrix[curC];for(var key in map){this.matrix[key][curC]=map[key]}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseNhx=exports.parse=undefined;var _newick=__webpack_require__(83);var _newick2=_interopRequireDefault(_newick);var _extended_newick=__webpack_require__(84);var _extended_newick2=_interopRequireDefault(_extended_newick);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var newick={};newick.parse=_newick2.default;newick.parseNhx=_extended_newick2.default;exports.default=newick;exports.parse=_newick2.default;exports.parseNhx=_extended_newick2.default},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=parse_newick;function parse_newick(s){var ancestors=[];var tree={};var tokens=s.split(/\s*(;|\(|\)|,|:)\s*/);for(var i=0;i<tokens.length;i++){var token=tokens[i];var subtree=void 0;switch(token){case"(":subtree={};tree.children=[subtree];ancestors.push(tree);tree=subtree;break;case",":subtree={};ancestors[ancestors.length-1].children.push(subtree);tree=subtree;break;case")":tree=ancestors.pop();break;case":":break;default:var x=tokens[i-1];if(x==")"||x=="("||x==","){tree.name=token}else if(x==":"){tree.branch_length=parseFloat(token)}}}return tree}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=parse_nhx;function parse_nhx(s){var ancestors=[];var tree={};var tokens=s.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/);for(var i=0;i<tokens.length;i++){var token=tokens[i];var subtree=void 0;switch(token){case"(":subtree={};tree.children=[subtree];ancestors.push(tree);tree=subtree;break;case",":subtree={};ancestors[ancestors.length-1].children.push(subtree);tree=subtree;break;case")":tree=ancestors.pop();break;case":":break;default:var x=tokens[i-1];if(x==")"||x=="("||x==","){tree.name=token}else if(x==":"){var test_type=typeof token==="undefined"?"undefined":_typeof(token);if(!isNaN(token)){tree.branch_length=parseFloat(token)}}else if(x=="="){var x2=tokens[i-2];switch(x2){case"D":tree.duplication=token;break;case"G":tree.gene_id=token;break;case"T":tree.taxon_id=token;break}}else{var test}}}return tree}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menulib=__webpack_require__(86);var _menulib2=_interopRequireDefault(_menulib);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MenuBuilder=_menulib2.default.extend({buildDOM:function buildDOM(){this.on("new:node",this.buildNode);this.on("new:button",this.buildButton);this.on("new:menu",this.buildMenu);return _menulib2.default.prototype.buildDOM.call(this)},buildNode:function buildNode(li){if(this.g!=null){return li.style.lineHeight=this.g.menuconfig.get("menuItemLineHeight")}},buildButton:function buildButton(btn){if(this.g!=null){btn.style.fontSize=this.g.menuconfig.get("menuFontsize");btn.style.marginLeft=this.g.menuconfig.get("menuMarginLeft");return btn.style.padding=this.g.menuconfig.get("menuPadding")}},buildMenu:function buildMenu(menu){if(this.g!=null){return menu.style.fontSize=this.g.menuconfig.get("menuItemFontsize")}}});exports.default=MenuBuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var jbone=__webpack_require__(15);var view=__webpack_require__(14);var MenuBuilder=view.extend({initialize:function initialize(opts){this._nodes=[];this.name=opts.name||"";this.el.className+="smenubar"},render:function render(){var fc=this.el.firstChild;while(fc){this.el.removeChild(fc);fc=this.el.firstChild}this.el.appendChild(this.buildDOM())},setName:function setName(name){this.name=name},addNode:function addNode(label,callback,opts){var style=void 0;if(opts!=null){style=opts.style}if(this._nodes==null){this._nodes=[]}this._nodes.push({label:label,callback:callback,style:style})},getNode:function getNode(label){var rNode=void 0;this._nodes.forEach(function(el){if(el.label===label){rNode=el}});return rNode},modifyNode:function modifyNode(label,callback,opts){var node=this.getNode(label);node.callback=callback||node.callback;opts=opts||{};node.style=opts.style||node.style},renameNode:function renameNode(label,newLabel){var node=this.getNode(label);node.label=newLabel||node.label},removeNode:function removeNode(label){var node=this.getNode(label);this._nodes.splice(this._nodes.indexOf(node),1)},removeAllNodes:function removeAllNodes(){this._nodes=[]},buildDOM:function buildDOM(){var div=document.createElement("div");div.className="dropdown";div.appendChild(this._buildM({nodes:this._nodes,name:this.name}));return div},_buildM:function _buildM(data){var displayedButton=void 0,frag=void 0,key=void 0,li=void 0,node=void 0,style=void 0,_ref=void 0;var nodes=data.nodes;var name=data.name;var menuUl=document.createElement("ul");menuUl.className="dropdown-menu";menuUl.setAttribute("aria-labelledby",name.replace(/\s+/g,"")+"DropDown");menuUl.style.display="none";for(var i=0,_len=nodes.length;i<_len;i++){node=nodes[i];li=document.createElement("li");li.className="dropdown-item";li.textContent=node.label;_ref=node.style;for(key in _ref){style=_ref[key];li.style[key]=style}li.addEventListener("click",node.callback);this.trigger("new:node",li);menuUl.appendChild(li)}this.trigger("new:menu",menuUl);displayedButton=document.createElement("a");displayedButton.textContent=name;displayedButton.className="btn btn-secondary dropdown-toggle";displayedButton.setAttribute("role","button");displayedButton.setAttribute("data-toggle","dropdown");displayedButton.id=name.replace(/\s+/g,"")+"DropDown";this.trigger("new:button",displayedButton);jbone(displayedButton).on("click",function(_this){return function(e){_this._showMenu(e,menuUl,displayedButton);return window.setTimeout(function(){return jbone(document.body).one("click",function(e){return menuUl.style.display="none"})},5)}}(this));frag=document.createDocumentFragment();frag.appendChild(displayedButton);frag.appendChild(menuUl);return frag},_showMenu:function _showMenu(e,menu,target){var rect=void 0;menu.style.display="block";menu.style.position="absolute";menu.className+=" show";rect=target.getBoundingClientRect()}});exports.default=MenuBuilder},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _LabelHeader=__webpack_require__(88);var _LabelHeader2=_interopRequireDefault(_LabelHeader);var _RightHeaderBlock=__webpack_require__(89);var _RightHeaderBlock2=_interopRequireDefault(_RightHeaderBlock);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){var _this=this;this.g=data.g;this.draw();return this.listenTo(this.g.vis,"change:labels change:metacell change:leftHeader",function(){_this.draw();return _this.render()})},draw:function draw(){this.removeViews();if(this.g.vis.get("leftHeader")&&(this.g.vis.get("labels")||this.g.vis.get("metacell"))){var lHeader=new _LabelHeader2.default({model:this.model,g:this.g});lHeader.ordering=-50;this.addView("lHeader",lHeader)}var rHeader=new _RightHeaderBlock2.default({model:this.model,g:this.g});rHeader.ordering=0;return this.addView("rHeader",rHeader)},render:function render(){this.renderSubviews();return this.el.className="biojs_msa_header"}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var k=__webpack_require__(44);var view=__webpack_require__(14);var dom=__webpack_require__(65);var LabelHeader=view.extend({className:"biojs_msa_headers",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.vis,"change:metacell change:labels",this.render);return this.listenTo(this.g.zoomer,"change:labelWidth change:metaWidth",this.render)},render:function render(){dom.removeAllChilds(this.el);var width=0;width+=this.g.zoomer.getLeftBlockWidth();this.el.style.width=width+"px";if(this.g.vis.get("labels")){this.el.appendChild(this.labelDOM())}if(this.g.vis.get("metacell")){this.el.appendChild(this.metaDOM())}this.el.style.display="inline-block";this.el.style.fontSize=this.g.zoomer.get("markerFontsize");return this},labelDOM:function labelDOM(){var labelHeader=k.mk("div");labelHeader.style.width=this.g.zoomer.getLabelWidth();labelHeader.style.display="inline-block";if(this.g.vis.get("labelCheckbox")){labelHeader.appendChild(this.addEl(".",10))}if(this.g.vis.get("labelId")){labelHeader.appendChild(this.addEl("ID",this.g.zoomer.get("labelIdLength")))}if(this.g.vis.get("labelPartition")){labelHeader.appendChild(this.addEl("part",15))}if(this.g.vis.get("labelName")){var name=this.addEl("Label");labelHeader.appendChild(name)}return labelHeader},addEl:function addEl(content,width){var id=document.createElement("span");id.textContent=content;if(typeof width!=="undefined"&&width!==null){id.style.width=width+"px"}id.style.display="inline-block";return id},metaDOM:function metaDOM(){var metaHeader=k.mk("div");metaHeader.style.width=this.g.zoomer.getMetaWidth();metaHeader.style.display="inline-block";if(this.g.vis.get("metaGaps")){metaHeader.appendChild(this.addEl("Gaps",this.g.zoomer.get("metaGapWidth")))}if(this.g.vis.get("metaIdentity")){metaHeader.appendChild(this.addEl("Ident",this.g.zoomer.get("metaIdentWidth")))}return metaHeader}});exports.default=LabelHeader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _MarkerView=__webpack_require__(90);var _MarkerView2=_interopRequireDefault(_MarkerView);var _ConservationView=__webpack_require__(92);var _ConservationView2=_interopRequireDefault(_ConservationView);var _SeqLogoWrapper=__webpack_require__(93);var _SeqLogoWrapper2=_interopRequireDefault(_SeqLogoWrapper);var _GapView=__webpack_require__(109);var _GapView2=_interopRequireDefault(_GapView);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;this.blockEvents=false;this.listenTo(this.g.vis,"change:header",function(){this.draw();return this.render()});this.listenTo(this.g.vis,"change",this._setSpacer);this.listenTo(this.g.zoomer,"change:alignmentWidth",this._setWidth);this.listenTo(this.g.zoomer,"change:_alignmentScrollLeft",this._adjustScrollingLeft);this.listenTo(this.g.columns,"change:hidden",function(){this.draw();return this.render()});this.draw();return this.g.vis.once("change:loaded",this._adjustScrollingLeft,this)},events:{scroll:"_sendScrollEvent"},draw:function draw(){this.removeViews();if(this.g.vis.get("conserv")){var conserv=new _ConservationView2.default({model:this.model,g:this.g});conserv.ordering=-20;this.addView("conserv",conserv)}if(this.g.vis.get("markers")){var marker=new _MarkerView2.default({model:this.model,g:this.g});marker.ordering=-10;this.addView("marker",marker)}if(this.g.vis.get("seqlogo")){var seqlogo=new _SeqLogoWrapper2.default({model:this.model,g:this.g});seqlogo.ordering=-30;this.addView("seqlogo",seqlogo)}if(this.g.vis.get("gapHeader")){var gapview=new _GapView2.default({model:this.model,g:this.g});gapview.ordering=-25;return this.addView("gapview",gapview)}},render:function render(){this.renderSubviews();this._setSpacer();this.el.className="biojs_msa_rheader";this.el.style.overflowX="auto";this.el.style.display="inline-block";this._setWidth();this._adjustScrollingLeft();return this},_sendScrollEvent:function _sendScrollEvent(){if(!this.blockEvents){this.g.zoomer.set("_alignmentScrollLeft",this.el.scrollLeft,{origin:"header"})}return this.blockEvents=false},_adjustScrollingLeft:function _adjustScrollingLeft(model,value,options){if(!((typeof options!=="undefined"&&options!==null?options.origin:undefined)!=null)||options.origin!=="header"){var scrollLeft=this.g.zoomer.get("_alignmentScrollLeft");this.blockEvents=true;return this.el.scrollLeft=scrollLeft}},_setSpacer:function _setSpacer(){return this.el.style.marginLeft=this._getLabelWidth()+"px"},_getLabelWidth:function _getLabelWidth(){var paddingLeft=0;if(!this.g.vis.get("leftHeader")){paddingLeft+=this.g.zoomer.getLeftBlockWidth()}return paddingLeft},_setWidth:function _setWidth(){return this.el.style.width=this.g.zoomer.getAlignmentWidth()+"px"}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _svg=__webpack_require__(91);var svg=_interopRequireWildcard(_svg);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var view=__webpack_require__(14);var dom=__webpack_require__(65);var jbone=__webpack_require__(15);var MarkerView=view.extend({className:"biojs_msa_marker",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize",this.render);this.listenTo(this.g.vis,"change:labels change:metacell",this.render);return this.manageEvents()},render:function render(){dom.removeAllChilds(this.el);var fontSize=this.g.zoomer.get("markerFontsize");var cellWidth=this.g.zoomer.get("columnWidth");var stepSize=this.g.zoomer.get("stepSize");var markerStepSize=this.g.zoomer.get("markerStepSize");var hidden=this.g.columns.get("hidden");this.el.style.fontSize=fontSize;var container=document.createElement("span");var nMax=this.model.getMaxLength();for(var n=0;n<nMax;n++){if(hidden.indexOf(n)>=0){var el=this.markerHidden(n,stepSize);if(!!el)container.appendChild(el);n+=stepSize;continue}var span=document.createElement("span");span.className="msa-col-header";span.style.width=cellWidth+"px";span.style.display="inline-block";if((n+1)%markerStepSize===0){span.textContent=n+1}else if((n+1)%stepSize===0){span.textContent="."}else{span.textContent=" "}span.rowPos=n;container.appendChild(span)}this.el.appendChild(container);return this},markerHidden:function markerHidden(n,stepSize){var _this=this;var hidden=this.g.columns.get("hidden").slice(0);var min=Math.max(0,n-stepSize);var prevHidden=true;for(var j=min;j<=n;j++){prevHidden&=hidden.indexOf(j)>=0}if(prevHidden){return}var nMax=this.model.getMaxLength();var length=0;var index=-1;for(var n2=n;n2<=nMax;n2++){if(!(index>=0)){index=hidden.indexOf(n2)}if(hidden.indexOf(n2)>=0){length++}else{break}}var s=svg.base({height:10,width:10});s.style.position="relative";var triangle=svg.polygon({points:"0,0 5,5 10,0",style:"fill:lime;stroke:purple;stroke-width:1"});jbone(triangle).on("click",function(evt){hidden.splice(index,length);return _this.g.columns.set("hidden",hidden)});s.appendChild(triangle);return s},manageEvents:function manageEvents(){var events={};if(this.g.config.get("registerMouseClicks")){events.click="_onclick"}if(this.g.config.get("registerMouseHover")){events.mousein="_onmousein";events.mouseout="_onmouseout"}this.delegateEvents(events);this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents);return this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onclick:function _onclick(evt){var rowPos=evt.target.rowPos;var stepSize=this.g.zoomer.get("stepSize");return this.g.trigger("column:click",{rowPos:rowPos,stepSize:stepSize,evt:evt})},_onmousein:function _onmousein(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);var stepSize=this.g.zoomer.get("stepSize");return this.g.trigger("column:mousein",{rowPos:rowPos,stepSize:stepSize,evt:evt})},_onmouseout:function _onmouseout(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);var stepSize=this.g.zoomer.get("stepSize");return this.g.trigger("column:mouseout",{rowPos:rowPos,stepSize:stepSize,evt:evt})}});exports.default=MarkerView},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var svgns="http://www.w3.org/2000/svg";var setAttr=function setAttr(obj,opts){for(var name in opts){var value=opts[name];obj.setAttributeNS(null,name,value)}return obj};var Base=function Base(opts){var svg=document.createElementNS(svgns,"svg");svg.setAttribute("width",opts.width);svg.setAttribute("height",opts.height);return svg};var Rect=function Rect(opts){var rect=document.createElementNS(svgns,"rect");return setAttr(rect,opts)};var Line=function Line(opts){var line=document.createElementNS(svgns,"line");return setAttr(line,opts)};var Polygon=function Polygon(opts){var line=document.createElementNS(svgns,"polygon");return setAttr(line,opts)};exports.base=Base;exports.line=Line;exports.rect=Rect;exports.polygon=Polygon},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _svg=__webpack_require__(91);var svg=_interopRequireWildcard(_svg);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var view=__webpack_require__(14);var dom=__webpack_require__(65);var ConservationView=view.extend({className:"biojs_msa_conserv",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render);this.listenTo(this.g.vis,"change:labels change:metacell",this.render);this.listenTo(this.g.columns,"change:scaling",this.render);this.listenTo(this.g.stats,"reset",this.render);var opts=_.extend({},{fillColor:["#660","#ff0"],strokeColor:"#330",maxHeight:20,rectStyler:function rectStyler(rect,data){return rect}},this.g.conservationConfig);this.fillColor=opts.fillColor;this.strokeColor=opts.strokeColor;this.maxHeight=opts.maxHeight;this.rectStyler=opts.rectStyler;return this.manageEvents()},colorer:function colorer(colorRange){var colorer=function colorer(){return"none"};if(typeof colorRange==="string"){colorer=function colorer(){return colorRange}}else if(Array.isArray(colorRange)){if(colorRange.length!=2){console.error("ERROR: colorRange array should have exactly two elements",colorRange)}var d3BundledScale=typeof d3!="undefined"&&!!d3.scale;var d3SeperatedScale=typeof d3_scale!="undefined";if(!(d3BundledScale||d3SeperatedScale)){console.warn("providing a [min/max] range as input requires d3 to be included - only using the first color");colorer=function colorer(d){return colorRange[0]}}else{var d3LinearScale=d3BundledScale?d3.scale.linear():d3_scale.scaleLinear();var scale=d3LinearScale.domain([0,this.maxHeight]).range(colorRange);colorer=function colorer(d){return scale(d.height)}}}else{console.warn("expected colorRange to be '#rgb' or ['#rgb', '#rgb']",colorRange,"("+(typeof colorRange==="undefined"?"undefined":_typeof(colorRange))+")")}return colorer},render:function render(){var conserv=this.g.stats.scale(this.g.stats.conservation());dom.removeAllChilds(this.el);var nMax=this.model.getMaxLength();var cellWidth=this.g.zoomer.get("columnWidth");var maxHeight=this.maxHeight;var width=cellWidth*(nMax-this.g.columns.get("hidden").length);var s=svg.base({height:maxHeight,width:width});s.style.display="inline-block";s.style.cursor="pointer";var rectData=this.rectData;var fillColorer=this.colorer(this.fillColor);var strokeColorer=this.colorer(this.strokeColor);var rectStyler=this.rectStyler;var stepSize=this.g.zoomer.get("stepSize");var hidden=this.g.columns.get("hidden");var x=0;var n=0;while(n<nMax){if(hidden.indexOf(n)>=0){n+=stepSize;continue}width=cellWidth*stepSize;var avgHeight=0;var end=stepSize-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){avgHeight+=conserv[n]}var height=maxHeight*(avgHeight/stepSize);var d={x:x,y:maxHeight-height,maxheight:maxHeight,width:width-cellWidth/4,height:height,rowPos:n};var rect=svg.rect(d);rect.style.stroke=strokeColorer(d);rect.style.fill=fillColorer(d);if(typeof rectStyler==="function"){rectStyler(rect,d)}rect.rowPos=n;s.appendChild(rect);x+=width;n+=stepSize}this.el.appendChild(s);return this},_onclick:function _onclick(evt){var _this=this;var rowPos=evt.target.rowPos;var stepSize=this.g.zoomer.get("stepSize");return function(){var result=[];var end=stepSize-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){result.push(_this.g.trigger("bar:click",{rowPos:rowPos+i,evt:evt}))}return result}()},manageEvents:function manageEvents(){var events={};if(this.g.config.get("registerMouseClicks")){events.click="_onclick"}if(this.g.config.get("registerMouseHover")){events.mousein="_onmousein";events.mouseout="_onmouseout"}this.delegateEvents(events);this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents);return this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function _onmousein(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);return this.g.trigger("bar:mousein",{rowPos:rowPos,evt:evt})},_onmouseout:function _onmouseout(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);return this.g.trigger("bar:mouseout",{rowPos:rowPos,evt:evt})}});exports.default=ConservationView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SeqLogoView=__webpack_require__(94);var view=__webpack_require__(14);var dom=__webpack_require__(65);var SeqLogoWrapper=view.extend({initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:alignmentWidth",this.render);this.listenTo(this.g.colorscheme,"change",function(){var colors=this.g.colorscheme.getSelectedScheme();this.seqlogo.changeColors(colors);return this.render()});this.listenTo(this.g.zoomer,"change:columnWidth",function(){this.seqlogo.column_width=this.g.zoomer.get("columnWidth");return this.render()});this.listenTo(this.g.stats,"reset",function(){this.draw();return this.render()});return this.draw()},draw:function draw(){dom.removeAllChilds(this.el);console.log("redraw seqlogo");var arr=this.g.stats.conservResidue({scaled:true});arr=_.map(arr,function(el){return _.pick(el,function(e,k){return k!=="-"})});var data={alphabet:"aa",heightArr:arr};var colors=this.g.colorscheme.getSelectedScheme();return this.seqlogo=new SeqLogoView({model:this.model,g:this.g,data:data,yaxis:false,scroller:false,xaxis:false,height:100,column_width:this.g.zoomer.get("columnWidth"),positionMarker:false,zoom:1,el:this.el,colors:colors})},render:function render(){return this.seqlogo.render()}});exports.default=SeqLogoWrapper},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(95)},function(module,exports,__webpack_require__){"use strict";_=__webpack_require__(11);var canvasSupport=__webpack_require__(96);var _render=__webpack_require__(97);var Letter=__webpack_require__(103);var view=__webpack_require__(14);var axis=__webpack_require__(104);var eventListener=__webpack_require__(105);var settings=__webpack_require__(106);var jbone=__webpack_require__(15);module.exports=view.extend({options:{xaxis:true,yaxis:true,height:300,column_width:34,debug:true,scale_height_enabled:true,scaled_max:true,zoom_buttons:true,colorscheme:"default",data:undefined,start:1,end:undefined,zoom:.4,colors:undefined,divider:false,show_probs:false,divider_step:5,show_divider:false,border:false,settings:false,scroller:true,positionMarker:true},loadDefault:function loadDefault(options){this.data=options.data;this.display_ali_map=0;this.alphabet=options.data.alphabet||"dna";this.start=options.start;this.zoom=parseFloat(options.zoom)||.4;this.default_zoom=this.zoom;this.column_width=options.column_width;this.height=options.height;this.canvas_width=5e3;this.scale_height_enabled=options.scale_height_enabled;this.scrollme=null;this.previous_target=0;this.rendered=[];this.previous_zoom=0;if(this.data.max_height==undefined){this.data.max_height=this.calcMaxHeight(this.data.heightArr)}if(!this.data.insert_probs||!this.data.delete_probs){this.options.show_probs=false}if(options.scaled_max){this.data.max_height=options.data.max_height_obs||this.data.max_height||2}else{this.data.max_height=options.data.max_height_theory||this.data.max_height||2}if(options.colors){this.changeColors(options.colors)}else{if(this.alphabet==="aa"){this.aa_colors=__webpack_require__(107);this.changeColors(this.aa_colors)}else{this.dna_colors=__webpack_require__(108);this.changeColors(this.dna_colors)}}},initialize:function initialize(options){if(!canvasSupport()){this.el.textContent="Your browser doesn't support canvas.";return}if(options.data==undefined){this.el.textContent="No data added."}_.extend(this.options,options);var opt=this.options;this.loadDefault(opt);if(!this.options.show_probs){this.info_content_height=this.height}else{if(this.data.processing&&/^observed|weighted/.test(this.data.processing)){this.show_inserts=0;this.info_content_height=this.height-14}else{this.show_inserts=1;this.info_content_height=this.height-44}}this.$el=jbone(this.el);this.initDivs();if(this.options.settings){var form=settings(this,opt);this.$el.append(form)}eventListener(this.$el,this,this.logo_graphic)},initDivs:function initDivs(){var logo_graphic=mk("div");logo_graphic.className="logo_graphic";this.logo_graphic=jbone(logo_graphic);var container=mk("div");container.className="logo_container";container.style.height=this.height;this.container=jbone(container);this.container.append(logo_graphic);this.$el.append(container);if(this.options.divider){var divider=mk("div");divider.className="logo_divider";this.$el.append(divider)}this.dom_element=jbone(logo_graphic);this.called_on=this.$el;if(this.options.xaxis){axis.render_x_axis_label.call(this)}if(this.options.yaxis){axis.render_y_axis_label.call(this)}else{this.container[0].style.marginLeft="0px"}},render:function render(){_render.call(this);return this},changeColors:function changeColors(colors){this.colors=colors;var bUseColorObject=colors!=undefined&&colors.type!=undefined;if(bUseColorObject){this.colorscheme="dynamic"}this.buildAlphabet()},buildAlphabet:function buildAlphabet(){this.letters={};var colors=this.colors;if(this.colorscheme=="dynamic"){var tColors="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");colors={};tColors.forEach(function(e){colors[e]=""})}for(var letter in colors){if(colors.hasOwnProperty(letter)){var loptions={color:colors[letter]};this.letters[letter]=new Letter(letter,loptions)}}},toggleColorscheme:function toggleColorscheme(scheme){var col_total=this.currentColumn();if(scheme){if(scheme==="default"){this.colorscheme="default"}else{this.colorscheme="consensus"}}else{if(this.colorscheme==="default"){this.colorscheme="consensus"}else{this.colorscheme="default"}}this.rendered=[];this.scrollme.reflow();this.scrollToColumn(col_total+1);this.scrollToColumn(col_total)},toggleScale:function toggleScale(scale){var col_total=this.currentColumn();if(scale){if(scale==="obs"){this.data.max_height=this.data.max_height_obs}else{this.data.max_height=this.data.max_height_theory}}else{if(this.data.max_height===this.data.max_height_obs){this.data.max_height=this.data.max_height_theory}else{this.data.max_height=this.data.max_height_obs}}this.rendered=[];if(this.logoYAxis){this.logoYAxis.remove()}axis.render_y_axis_label.call(this);this.scrollme.reflow();this.scrollToColumn(col_total+1);this.scrollToColumn(col_total)},toggleAliMap:function toggleAliMap(coords){var col_total=this.currentColumn();if(coords){if(coords==="model"){this.display_ali_map=0}else{this.display_ali_map=1}}else{if(this.display_ali_map===1){this.display_ali_map=0}else{this.display_ali_map=1}}axis.render_x_axis_label(this);this.rendered=[];this.scrollme.reflow();this.scrollToColumn(col_total+1);this.scrollToColumn(col_total)},currentColumn:function currentColumn(){var before_left=this.scrollme.scroller.getValues().left,col_width=this.column_width*this.zoom,col_count=before_left/col_width,half_visible_columns=this.container.width()/col_width/2,col_total=Math.ceil(col_count+half_visible_columns);return col_total},changeZoom:function changeZoom(options){var zoom_level=.3,expected_width=null;if(options.target){zoom_level=options.target}else if(options.distance){zoom_level=(parseFloat(this.zoom)-parseFloat(options.distance)).toFixed(1);if(options.direction==="+"){zoom_level=(parseFloat(this.zoom)+parseFloat(options.distance)).toFixed(1)}}if(zoom_level>1){zoom_level=1}else if(zoom_level<.1){zoom_level=.1}expected_width=this.logo_graphic.width()*zoom_level/this.zoom;if(expected_width>this.container.width()){if(!options.column){var col_total=this.currentColumn();this.zoom=zoom_level;this.render({zoom:this.zoom});this.scrollme.reflow();this.scrollToColumn(col_total)}else{this.zoom=zoom_level;this.render({zoom:this.zoom});this.scrollme.reflow();var coords=this.coordinatesFromColumn(options.column);this.scrollme.scroller.scrollTo(coords-options.offset)}}return this.zoom},columnFromCoordinates:function columnFromCoordinates(x){var column=Math.ceil(x/(this.column_width*this.zoom));return column},coordinatesFromColumn:function coordinatesFromColumn(col){var new_column=col-1,x=new_column*(this.column_width*this.zoom)+this.column_width*this.zoom/2;return x},scrollToColumn:function scrollToColumn(num,animate){var half_view=this.logo_container.width()/2,new_left=this.coordinatesFromColumn(num);this.scrollme.scroller.scrollTo(new_left-half_view,0,animate)},calcMaxHeight:function calcMaxHeight(columns){return columns.reduce(function(m,c){var col=0;for(var k in c){col+=c[k]}return col>m?col:m},0)}});var mk=function mk(name){return document.createElement(name)}},function(module,exports){"use strict";var canv_support=null;module.exports=function canvasSupport(){if(!canv_support){var elem=document.createElement("canvas");canv_support=!!(elem.getContext&&elem.getContext("2d"))}return canv_support}},function(module,exports,__webpack_require__){"use strict";var renderWithText=__webpack_require__(98);var renderWithRect=__webpack_require__(102);var jbone=__webpack_require__(15);module.exports=function(options){if(!this.data){return}options=options||{};var zoom=options.zoom||this.zoom,target=options.target||1,scaled=options.scaled||null;var parent_width=this.dom_element.parent().attr("width"),max_canvas_width=1,end=null,start=null,i=0;this.previous_target=target;if(options.start){this.start=options.start}if(options.end){this.end=options.end}if(zoom<=.1){zoom=.1}else if(zoom>=1){zoom=1}this.zoom=zoom;end=this.end||this.data.heightArr.length;start=this.start||1;end=end>this.data.heightArr.length?this.data.heightArr.length:end;end=end<start?start:end;start=start>end?end:start;start=start>1?start:1;this.y=this.height-20;this.max_width=this.column_width*(end-start+1);if(parent_width>this.max_width){zoom=1;this.zoom_enabled=false}this.zoom=zoom;this.zoomed_column=this.column_width*zoom;this.total_width=this.zoomed_column*(end-start+1);if(zoom<1){while(this.total_width<parent_width){this.zoom+=.1;this.zoomed_column=this.column_width*this.zoom;this.total_width=this.zoomed_column*(end-start+1);this.zoom_enabled=false;if(zoom>=1){break}}}if(target>this.total_width){target=this.total_width}this.dom_element.attr({width:this.total_width+"px"}).css({width:this.total_width+"px"});this.canvas_width=this.total_width;var canvas_count=Math.ceil(this.total_width/this.canvas_width);this.columns_per_canvas=Math.ceil(this.canvas_width/this.zoomed_column);if(this.previous_zoom!==this.zoom){this.dom_element.find("canvas").remove();this.previous_zoom=this.zoom;this.rendered=[]}this.canvases=[];this.contexts=[];for(i=0;i<canvas_count;i++){var split_start=this.columns_per_canvas*i+start,split_end=split_start+this.columns_per_canvas-1;if(split_end>end){split_end=end}var adjusted_width=(split_end-split_start+1)*this.zoomed_column;if(adjusted_width>max_canvas_width){max_canvas_width=adjusted_width}var canv_start=max_canvas_width*i,canv_end=canv_start+adjusted_width;if(target<canv_end+canv_end/2&&target>canv_start-canv_start/2){this.canvases[i]=attach_canvas(this.dom_element,this.height,adjusted_width,i,max_canvas_width);this.contexts[i]=this.canvases[i].getContext("2d");this.contexts[i].setTransform(1,0,0,1,0,0);this.contexts[i].clearRect(0,0,adjusted_width,this.height);this.contexts[i].fillStyle="#ffffff";this.contexts[i].fillRect(0,0,canv_end,this.height);if(this.zoomed_column>12){var fontsize=parseInt(10*zoom,10);fontsize=fontsize>10?10:fontsize;if(this.debug){renderWithRect.call(this,split_start,split_end,i,1)}renderWithText.call(this,split_start,split_end,i,fontsize)}else{renderWithRect.call(this,split_start,split_end,i)}}}if(!this.scrollme&&this.options.scroller){this.scrollme=new EasyScroller(this.dom_element[0],{scrollingX:1,scrollingY:0,eventTarget:this.called_on})}if(target!==1){this.scrollme.reflow()}return};function attach_canvas(DOMid,height,width,id,canv_width){var canvas=jbone(DOMid).find("#canv_"+id);if(!canvas.length){jbone(DOMid).append('<canvas class="canvas_logo" id="canv_'+id+'"  height="'+height+'" width="'+width+'" style="left:'+canv_width*id+'px"></canvas>');canvas=jbone(DOMid).find("#canv_"+id)}jbone(canvas).attr("width",width).attr("height",height);return canvas[0]}},function(module,exports,__webpack_require__){"use strict";var draw_border=__webpack_require__(99);var draw_ticks=__webpack_require__(100);var draw_column_number=__webpack_require__(101);module.exports=function(start,end,context_num,fontsize){var x=0,column_num=start,column_label=null,i=0,top_height=Math.abs(this.data.max_height),bottom_height=isNaN(this.data.min_height_obs)?0:parseInt(this.data.min_height_obs,10),total_height=top_height+Math.abs(bottom_height),top_percentage=Math.round(Math.abs(this.data.max_height)*100/total_height),top_pix_height=Math.round(this.info_content_height*top_percentage/100),bottom_pix_height=this.info_content_height-top_pix_height,top_pix_conversion=top_pix_height/this.info_content_height,bottom_pix_conversion=bottom_pix_height/this.info_content_height;if(end+3<=this.end){end+=3}for(i=start;i<=end;i++){if(this.data.mmline&&this.data.mmline[i-1]===1){this.contexts[context_num].fillStyle="#cccccc";this.contexts[context_num].fillRect(x,10,this.zoomed_column,this.height-40)}else{var column=this.data.heightArr[i-1],col_positions=[];if(column){var previous_height=0,letters=column.length,previous_neg_height=top_pix_height,j=0,color=null;for(var j in column){var letter=column[j],values=[j,letter];var x_pos=x+this.zoomed_column/2,letter_height=null;if(values[1]>.01){letter_height=parseFloat(values[1])/this.data.max_height;var y_pos=this.info_content_height-2-previous_height,glyph_height=(this.info_content_height-2)*letter_height;col_positions[j]=[glyph_height,this.zoomed_column,x_pos,y_pos];previous_height=previous_height+glyph_height}}for(var j in column){if(col_positions[j]&&this.letters[j]){if(this.colorscheme==="dynamic"){color=this.colors.getColor(j,{pos:i-1})}else{if(this.colorscheme==="consensus"){color=this.cmap[i-1][j]||"#7a7a7a"}else{color=null}}this.letters[j].draw(this.contexts[context_num],col_positions[j][0],col_positions[j][1],col_positions[j][2],col_positions[j][3],color)}}}}if(this.display_ali_map){column_label=this.data.ali_map[i-1]}else{column_label=column_num}if(this.options.show_divider){if(this.zoom<.7){if(i%this.options.divider_step===0){draw_column_divider(this,{context_num:context_num,x:x,fontsize:10,column_num:column_label,ralign:true})}}else{draw_column_divider(this,{context_num:context_num,x:x,fontsize:fontsize,column_num:column_label})}}if(this.options.show_probs){draw_delete_odds(this.contexts[context_num],x,this.height,this.zoomed_column,this.data.delete_probs[i-1],fontsize,this.show_inserts);draw_ticks(this.contexts[context_num],x,this.height-15,5);if(this.show_inserts){draw_insert_odds(this.contexts[context_num],x,this.height,this.zoomed_column,this.data.insert_probs[i-1],fontsize);draw_insert_length(this.contexts[context_num],x,this.height-5,this.zoomed_column,this.data.insert_lengths[i-1],fontsize);draw_ticks(this.contexts[context_num],x,this.height-45,5);draw_ticks(this.contexts[context_num],x,this.height-30,5)}}x+=this.zoomed_column;column_num++}if(this.options.show_probs){if(this.show_inserts){draw_border(this.contexts[context_num],this.height-30,this.total_width);draw_border(this.contexts[context_num],this.height-45,this.total_width)}draw_border(this.contexts[context_num],this.height-15,this.total_width)}if(this.options.border){draw_border(this.contexts[context_num],0,this.total_width)}};function draw_delete_odds(context,x,height,col_width,text,fontsize,show_inserts){var y=height-4,fill="#ffffff",textfill="#555555";if(show_inserts){y=height-35}if(text<.75){fill="#2171b5";textfill="#ffffff"}else if(text<.85){fill="#6baed6"}else if(text<.95){fill="#bdd7e7"}draw_rect_with_text(context,x,y,text,fontsize,col_width,fill,textfill)}function draw_rect_with_text(context,x,y,text,fontsize,col_width,fill,textfill){context.font=fontsize+"px Arial";context.fillStyle=fill;context.fillRect(x,y-10,col_width,14);context.textAlign="center";context.fillStyle=textfill;context.fillText(text,x+col_width/2,y)}function draw_column_divider(inst,opts){var div_x=opts.ralign?opts.x+inst.zoomed_column:opts.x,num_x=opts.ralign?opts.x+2:opts.x;draw_ticks(inst.contexts[opts.context_num],div_x,inst.height-30,-30-inst.height,"#dddddd");draw_ticks(inst.contexts[opts.context_num],div_x,0,5);draw_column_number(inst.contexts[opts.context_num],num_x,10,inst.zoomed_column,opts.column_num,opts.fontsize,opts.ralign)}function draw_insert_odds(context,x,height,col_width,text,fontsize){var y=height-20,fill="#ffffff",textfill="#555555";if(text>.1){fill="#d7301f";textfill="#ffffff"}else if(text>.05){fill="#fc8d59"}else if(text>.03){fill="#fdcc8a"}draw_rect_with_text(context,x,y,text,fontsize,col_width,fill,textfill);if(text>.03){draw_ticks(context,x+col_width,height-30,-30-height,fill)}}function draw_insert_length(context,x,y,col_width,text,fontsize){var fill="#ffffff",textfill="#555555";if(text>9){fill="#d7301f";textfill="#ffffff"}else if(text>7){fill="#fc8d59"}else if(text>4){fill="#fdcc8a"}draw_rect_with_text(context,x,y,text,fontsize,col_width,fill,textfill)}},function(module,exports){"use strict";module.exports=function draw_border(context,y,width){context.beginPath();context.moveTo(0,y);context.lineTo(width,y);context.lineWidth=1;context.strokeStyle="#999999";context.stroke()}},function(module,exports){"use strict";module.exports=function draw_ticks(context,x,y,height,color){color=color||"#999999";context.beginPath();context.moveTo(x,y);context.lineTo(x,y+height);context.lineWidth=1;context.strokeStyle=color;context.stroke()}},function(module,exports){"use strict";module.exports=function draw_column_number(context,x,y,col_width,col_num,fontsize,right){context.font=fontsize+"px Arial";context.textAlign=right?"right":"center";context.fillStyle="#666666";context.fillText(col_num,x+col_width/2,y)}},function(module,exports,__webpack_require__){"use strict";var draw_border=__webpack_require__(99);var draw_ticks=__webpack_require__(100);var draw_column_number=__webpack_require__(101);module.exports=function(start,end,context_num,borders){var x=0,column_num=start,column_label=null,i=0,top_height=Math.abs(this.data.max_height),bottom_height=Math.abs(this.data.min_height_obs),total_height=top_height+bottom_height,top_percentage=Math.round(Math.abs(this.data.max_height)*100/total_height),top_pix_height=Math.round(this.info_content_height*top_percentage/100),bottom_pix_height=this.info_content_height-top_pix_height,mod=10;for(i=start;i<=end;i++){if(this.data.mmline&&this.data.mmline[i-1]===1){this.contexts[context_num].fillStyle="#cccccc";this.contexts[context_num].fillRect(x,10,this.zoomed_column,this.height-40)}else{var column=this.data.heightArr[i-1],previous_height=0,previous_neg_height=top_pix_height,letters=column.length,j=0;for(var j in column){var values=[j,column[j]];if(values[1]>.01){var letter_height=parseFloat(values[1])/this.data.max_height,x_pos=x,glyph_height=(this.info_content_height-2)*letter_height,y_pos=this.info_content_height-2-previous_height-glyph_height,color=null;if(this.colorscheme==="dynamic"){color=this.colors.getColor(values[0],{pos:i-1})}else{if(this.colorscheme==="consensus"){color=this.cmap[i-1][values[0]]||"#7a7a7a"}else{color=this.colors[values[0]]}}if(borders){this.contexts[context_num].strokeStyle=color;this.contexts[context_num].strokeRect(x_pos,y_pos,this.zoomed_column,glyph_height)}else{this.contexts[context_num].fillStyle=color;this.contexts[context_num].fillRect(x_pos,y_pos,this.zoomed_column,glyph_height)}previous_height=previous_height+glyph_height}}}if(this.zoom<.2){mod=20}else if(this.zoom<.3){mod=10}if(this.options.positionMarker){if(i%mod===0){if(this.options.show_probs){draw_ticks(this.contexts[context_num],x+this.zoomed_column,this.height-30,parseFloat(this.height),"#dddddd")}draw_ticks(this.contexts[context_num],x+this.zoomed_column,0,5);if(this.display_ali_map){column_label=this.data.ali_map[i-1]}else{column_label=column_num}draw_column_number(this.contexts[context_num],x-2,10,this.zoomed_column,column_label,10,true)}}if(this.options.show_probs){draw_small_insert(this.contexts[context_num],x,this.height-42,this.zoomed_column,this.data.insert_probs[i-1],this.data.insert_lengths[i-1],this.data.delete_probs[i-1],this.show_inserts)}if(this.options.show_probs){if(this.show_inserts){draw_border(this.contexts[context_num],this.height-45,this.total_width)}else{draw_border(this.contexts[context_num],this.height-15,this.total_width)}}if(this.options.border){draw_border(this.contexts[context_num],0,this.total_width)}x+=this.zoomed_column;column_num++}};function draw_small_insert(context,x,y,col_width,in_odds,in_length,del_odds,show_inserts){var fill="#ffffff";if(show_inserts){if(in_odds>.1){fill="#d7301f"}else if(in_odds>.05){fill="#fc8d59"}else if(in_odds>.03){fill="#fdcc8a"}context.fillStyle=fill;context.fillRect(x,y+15,col_width,10);fill="#ffffff";if(in_length>9){fill="#d7301f"}else if(in_length>7){fill="#fc8d59"}else if(in_length>4){fill="#fdcc8a"}context.fillStyle=fill;context.fillRect(x,y+30,col_width,10)}else{y=y+30}fill="#ffffff";if(del_odds<.75){fill="#2171b5"}else if(del_odds<.85){fill="#6baed6"}else if(del_odds<.95){fill="#bdd7e7"}context.fillStyle=fill;context.fillRect(x,y,col_width,10)}},function(module,exports){"use strict";module.exports=function Letter(letter,options){options=options||{};this.value=letter;this.width=parseInt(options.width,10)||100;if(this.value==="W"){this.width+=this.width*30/100}this.height=parseInt(options.height,10)||100;this.color=options.color||"#000000";this.fontSize=options.fontSize||138;this.scaled=function(){};this.draw=function(ext_ctx,target_height,target_width,x,y,color){var h_ratio=target_height/this.height,w_ratio=target_width/this.width,prev_font=ext_ctx.font;ext_ctx.transform(w_ratio,0,0,h_ratio,x,y);ext_ctx.fillStyle=color||this.color;ext_ctx.textAlign="center";ext_ctx.font="bold "+this.fontSize+"px Arial";ext_ctx.fillText(this.value,0,0);ext_ctx.setTransform(1,0,0,1,0,0);ext_ctx.fillStyle="#000000";ext_ctx.font=prev_font}}},function(module,exports){"use strict";module.exports={render_x_axis_label:function render_x_axis_label(){var label="Model Position";if(this.display_ali_map){label="Alignment Column"}this.called_on.find(".logo_xaxis").remove();this.called_on.prepend('<div class="logo_xaxis" class="centered" style="margin-left:40px"><p class="xaxis_text" style="width:10em;margin:1em auto">'+label+"</p></div>")},render_y_axis_label:function render_y_axis_label(){this.dom_element.parent().before('<canvas class="logo_yaxis" height="'+this.options.height+'" width="55"></canvas>');var canvas=this.called_on.find(".logo_yaxis"),top_pix_height=0,bottom_pix_height=0,top_height=Math.abs(this.data.max_height),bottom_height=isNaN(this.data.min_height_obs)?0:parseInt(this.data.min_height_obs,10),context=null,axis_label="Information Content (bits)";context=canvas[0].getContext("2d");context.beginPath();context.moveTo(55,1);context.lineTo(40,1);context.moveTo(55,this.info_content_height);context.lineTo(40,this.info_content_height);context.moveTo(55,this.info_content_height/2);context.lineTo(40,this.info_content_height/2);context.lineWidth=1;context.strokeStyle="#666666";context.stroke();context.fillStyle="#666666";context.textAlign="right";context.font="bold 10px Arial";context.textBaseline="top";context.fillText(parseFloat(this.data.max_height).toFixed(1),38,0);context.textBaseline="middle";context.fillText(parseFloat(this.data.max_height/2).toFixed(1),38,this.info_content_height/2);context.fillText("0",38,this.info_content_height);if(this.data.height_calc==="score"){axis_label="Score (bits)"}context.save();context.translate(5,this.height/2-20);context.rotate(-Math.PI/2);context.textAlign="center";context.font="normal 12px Arial";context.fillText(axis_label,1,0);context.restore();context.fillText("occupancy",55,this.info_content_height+7);if(this.show_inserts){context.fillText("ins. prob.",50,280);context.fillText("ins. len.",46,296)}}}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(15);module.exports=function($el,logo,logo_graphic){$el.find(".logo_settings_switch, .logo_settings .close").on("click",function(e){e.preventDefault();$(".logo_settings").toggle()});$el.find(".logo_reset").on("click",function(e){e.preventDefault();logo.changeZoom({target:logo.default_zoom})});$el.find(".logo_change").on("click",function(e){e.preventDefault()});$el.find(".logo_zoomin").on("click",function(e){e.preventDefault();logo.changeZoom({distance:.1,direction:"+"})});$el.find(".logo_zoomout").on("click",function(e){e.preventDefault();logo.changeZoom({distance:.1,direction:"-"})});$el.find(".logo_scale").on("change",function(e){logo.toggleScale(this.value)});$el.find(".logo_color").on("change",function(e){logo.toggleColorscheme(this.value)});$el.find(".logo_ali_map").on("change",function(e){logo.toggleAliMap(this.value)});$el.find(".logo_position").on("change",function(){if(!this.value.match(/^\d+$/m)){return}logo.scrollToColumn(this.value,1)});logo_graphic.on("dblclick",function(e){console.log("dblclick",logo);offset=logo.logo_graphic.offset(),x=parseInt(e.pageX-offset.left,10),window_position=e.pageX-$el.parent().offset().left,col=logo.columnFromCoordinates(x),console.log("col",col);current=logo.zoom;if(current<1){logo.changeZoom({target:1,offset:window_position,column:col})}else{logo.changeZoom({target:.3,offset:window_position,column:col})}return});$(document).on($el.attr("id")+".scrolledTo",function(e,left,top,zoom){logo.render({target:left})});$(document).on("keydown",function(e){if(!e.ctrlKey){if(e.which===61||e.which===107){zoom+=.1;logo.changeZoom({distance:.1,direction:"+"})}if(e.which===109||e.which===0){zoom=zoom-.1;logo.changeZoom({distance:.1,direction:"-"})}}})}},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(15);module.exports=function(logo,options){var form=$('<form class="logo_form"><fieldset><label for="position">Column number</label>'+'<input type="text" name="position" class="logo_position"></input>'+'<button class="button logo_change">Go</button></fieldset>'+"</form>");var settings=$('<div class="logo_settings"></div>');settings.append('<span class="close">x</span>');if(logo.scale_height_enabled&&logo.data.max_height_obs<logo.data.max_height_theory){var obs_checked="",theory_checked="",theory_help="",obs_help="";if(logo.data.max_height_obs===logo.data.max_height){obs_checked="checked"}else{theory_checked="checked"}}var scale_controls="<fieldset><legend>Scale</legend>"+'<label><input type="radio" name="scale" class="logo_scale" value="obs" '+obs_checked+"/>Maximum Observed "+obs_help+"</label></br>"+'<label><input type="radio" name="scale" class="logo_scale" value="theory" '+theory_checked+"/>Maximum Theoretical "+theory_help+"</label>"+"</fieldset>";settings.append(scale_controls);if(logo.data.height_calc!=="score"&&logo.data.alphabet==="aa"&&logo.data.probs_arr){var def_color=null,con_color=null,def_help="",con_help="";if(logo.colorscheme==="default"){def_color="checked"}else{con_color="checked"}if(options.help){def_help='<a class="help" href="/help#colors_default" title="Each letter receives its own color.">'+'<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';con_help='<a class="help" href="/help#colors_consensus" title="Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.">'+'<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>'}var color_controls="<fieldset><legend>Color Scheme</legend>"+'<label><input type="radio" name="color" class="logo_color" value="default" '+def_color+"/>Default "+def_help+"</label></br>"+'<label><input type="radio" name="color" class="logo_color" value="consensus" '+con_color+"/>Consensus Colors "+con_help+"</label>"+"</fieldset>";settings.append(color_controls)}if(logo.data.ali_map){var mod_checked=null,ali_checked=null,mod_help="",ali_help="";if(logo.display_ali_map===0){mod_checked="checked"}else{ali_checked="checked"}if(options.help){mod_help='<a class="help" href="/help#coords_model" title="The coordinates along the top of the plot show the model position.">'+'<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>';ali_help='<a class="help" href="/help#coords_ali" title="The coordinates along the top of the plot show the column in the alignment associated with the model">'+'<span aria-hidden="true" data-icon="?"></span><span class="reader-text">help</span></a>'}var ali_controls="<fieldset><legend>Coordinates</legend>"+'<label><input type="radio" name="coords" class="logo_ali_map" value="model" '+mod_checked+"/>Model "+mod_help+"</label></br>"+'<label><input type="radio" name="coords" class="logo_ali_map" value="alignment" '+ali_checked+"/>Alignment "+ali_help+"</label>"+"</fieldset>";settings.append(ali_controls)}var controls=$('<div class="logo_controls"></div>');if(logo.zoom_enabled){controls.append('<button class="logo_zoomout button">-</button>'+'<button class="logo_zoomin button">+</button>')}if(settings.children().length>0){controls.append('<button class="logo_settings_switch button">Settings</button>');controls.append(settings)}form.append(controls);return form}},function(module,exports){"use strict";module.exports={A:"#FF9966",C:"#009999",D:"#FF0000",E:"#CC0033",F:"#00FF00",G:"#f2f20c",H:"#660033",I:"#CC9933",K:"#663300",L:"#FF9933",M:"#CC99CC",N:"#336666",P:"#0099FF",Q:"#6666CC",R:"#990000",S:"#0000FF",T:"#00FFFF",V:"#FFCC33",W:"#66CC66",Y:"#006600"}},function(module,exports){"use strict";module.exports={A:"#cbf751",C:"#5ec0cc",G:"#ffdf59",T:"#b51f16",U:"#b51f16"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _svg=__webpack_require__(91);var svg=_interopRequireWildcard(_svg);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj.default=obj;return newObj}}var view=__webpack_require__(14);var dom=__webpack_require__(65);var ConservationView=view.extend({className:"biojs_msa_gapview",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:stepSize change:labelWidth change:columnWidth",this.render);this.listenTo(this.g.vis,"change:labels change:metacell",this.render);this.listenTo(this.g.columns,"change:scaling",this.render);this.listenTo(this.model,"reset",this.render);return this.manageEvents()},render:function render(){var gaps=this.g.stats.gaps();dom.removeAllChilds(this.el);var nMax=this.model.getMaxLength();var cellWidth=this.g.zoomer.get("columnWidth");var maxHeight=20;var width=cellWidth*(nMax-this.g.columns.get("hidden").length);var s=svg.base({height:maxHeight,width:width});s.style.display="inline-block";s.style.cursor="pointer";var stepSize=this.g.zoomer.get("stepSize");var hidden=this.g.columns.get("hidden");var x=0;var n=0;while(n<nMax){if(hidden.indexOf(n)>=0){n+=stepSize;continue}width=cellWidth*stepSize;var avgHeight=0;var end=stepSize-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){avgHeight+=gaps[n]}var height=maxHeight*(avgHeight/stepSize);var rect=svg.rect({x:x,y:maxHeight-height,width:width-cellWidth/4,height:height,style:"stroke:red;stroke-width:1;"});rect.rowPos=n;s.appendChild(rect);x+=width;n+=stepSize}this.el.appendChild(s);return this},_onclick:function _onclick(evt){var _this=this;var rowPos=evt.target.rowPos;var stepSize=this.g.zoomer.get("stepSize");return function(){var result=[];var end=stepSize-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){result.push(_this.g.trigger("gap:click",{rowPos:rowPos+i,evt:evt}))}return result}()},manageEvents:function manageEvents(){var events={};if(this.g.config.get("registerMouseClicks")){events.click="_onclick"}if(this.g.config.get("registerMouseHover")){events.mousein="_onmousein";events.mouseout="_onmouseout"}this.delegateEvents(events);this.listenTo(this.g.config,"change:registerMouseHover",this.manageEvents);return this.listenTo(this.g.config,"change:registerMouseClick",this.manageEvents)},_onmousein:function _onmousein(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);return this.g.trigger("gap:mousein",{rowPos:rowPos,evt:evt})},_onmouseout:function _onmouseout(evt){var rowPos=this.g.zoomer.get("stepSize"*evt.rowPos);return this.g.trigger("gap:mouseout",{rowPos:rowPos,evt:evt})}});exports.default=ConservationView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Selection=__webpack_require__(2);var view=__webpack_require__(14);var mouse=__webpack_require__(60);var jbone=__webpack_require__(15);var OverviewBox=view.extend({className:"biojs_msa_overviewbox",tagName:"canvas",initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop",this.rerender);this.listenTo(this.g.zoomer,"change:alignmentHeight change:alignmentWidth",this.rerender);this.listenTo(this.g.zoomer,"change:overviewboxWidth change:overviewboxHeigth",this.rerender);this.listenTo(this.g.selcol,"add reset change",this.rerender);this.listenTo(this.g.columns,"change:hidden",this.rerender);this.listenTo(this.g.colorscheme,"change:showLowerCase",this.rerender);this.listenTo(this.model,"change",_.debounce(this.rerender,5));this.color=this.g.colorscheme.getSelectedScheme();this.listenTo(this.g.colorscheme,"change:scheme",function(){this.color=this.g.colorscheme.getSelectedScheme();return this.rerender()});return this.dragStart=[]},events:{click:"_onclick",mousedown:"_onmousedown"},rerender:function rerender(){if(!this.g.config.get("manualRendering")){return this.render()}},render:function render(){this._createCanvas();this.el.textContent="overview";this.el.style.marginTop=this.g.zoomer.get("overviewboxPaddingTop");this.ctx.fillStyle="#999999";this.ctx.fillRect(0,0,this.el.width,this.el.height);var len=this.model.length;var hidden=this.g.columns.get("hidden");var showLowerCase=this.g.colorscheme.get("showLowerCase");var y=-this.coords.boxes_size.y;for(var ybox=0;ybox<this.coords.boxes.y;ybox++){var seqs=[];var seq_hidden=[];for(var i=Math.floor(ybox*this.coords.resid_per_box.y);i<Math.floor((ybox+1)*this.coords.resid_per_box.y)&&i<len;i++){if(!this.model.at(i)){continue}seqs.push(this.model.at(i).get("seq"));seq_hidden.push(this.model.at(i).get("hidden"))}var x=0;y=y+this.coords.boxes_size.y;for(var xbox=0;xbox<this.coords.boxes.x;xbox++){var colors=[];for(var _i=0;_i<seqs.length;_i++){for(var j=Math.floor(xbox*this.coords.resid_per_box.x);j<Math.floor((xbox+1)*this.coords.resid_per_box.x)&&j<seqs[_i].length;j++){if(seq_hidden[_i]){colors.push("grey");continue}var c=seqs[_i][j];if(showLowerCase){c=c.toUpperCase()}var color=this.color.getColor(c,{pos:j});if(hidden.indexOf(j)>=0){color="grey"}if(typeof color!=="undefined"&&color!==null){colors.push(color)}}}if(colors.length!==0){this.ctx.fillStyle=this._mode(colors);this.ctx.fillRect(x,y,this.coords.boxes_size.x,this.coords.boxes_size.y)}x=x+this.coords.boxes_size.x}}return this._drawSelection()},coords:{screen_to_model:function screen_to_model(val,coord){var pos=val*this.resid_per_box[coord]/this.boxes_size[coord];return Math.floor(pos)},model_to_screen:function model_to_screen(val,coord){return Math.floor(val*this.boxes_size[coord]/this.resid_per_box[coord])},updatecoords_transform:function updatecoords_transform(overviewBox){var rectHeight=overviewBox.g.zoomer.get("boxRectHeight");var rectWidth=overviewBox.g.zoomer.get("boxRectWidth");var setting_w=overviewBox.g.zoomer.get("overviewboxWidth");var setting_h=overviewBox.g.zoomer.get("overviewboxHeight");var contWidth=setting_w==="fixed"?overviewBox.model.getMaxLength()*rectWidth:Math.min(overviewBox.g.zoomer.get("alignmentWidth")+overviewBox.g.zoomer.getLeftBlockWidth(),overviewBox.model.getMaxLength()*rectWidth);var contHeight=setting_h==="fixed"?overviewBox.model.length*rectHeight:Math.min(isNaN(parseInt(setting_h,10))?1e10:parseInt(setting_h,10),overviewBox.model.length*rectHeight);this.container_size={x:contWidth,y:contHeight};this.boxes_size={x:rectWidth,y:rectHeight};this.resid_per_box={x:Math.max(1,overviewBox.model.getMaxLength()/contWidth*rectWidth),y:Math.max(1,overviewBox.model.length/contHeight*rectHeight)};this.boxes={x:Math.ceil(contWidth/rectWidth),y:Math.ceil(contHeight/rectHeight)}}},_mode:function _mode(arr){return arr.sort(function(a,b){return arr.filter(function(v){return v===a}).length-arr.filter(function(v){return v===b}).length}).pop()},_drawSelection:function _drawSelection(){var _this=this;if(this.dragStart.length>0&&!this.prolongSelection){return}this.ctx.fillStyle="#666666";this.ctx.globalAlpha=.9;var len=this.g.selcol.length;var _loop=function _loop(i){var sel=_this.g.selcol.at(i);if(!sel)return"continue";var seq=void 0,pos=void 0;if(sel.get("type")==="column"){_this.ctx.fillRect(_this.coords.boxes_size.x*sel.get("xStart"),0,_this.coords.boxes_size.x*(sel.get("xEnd")-sel.get("xStart")+1),_this.coords.container_size.y)}else if(sel.get("type")==="row"){seq=_this.model.filter(function(el){return el.get("id")===sel.get("seqId")})[0];pos=_this.model.indexOf(seq);_this.ctx.fillRect(0,_this.coords.model_to_screen(pos,"y"),_this.coords.model_to_screen(seq.get("seq").length,"x"),_this.coords.boxes_size.y)}else if(sel.get("type")==="pos"){seq=_this.model.filter(function(el){return el.get("id")===sel.get("seqId")})[0];pos=_this.model.indexOf(seq);_this.ctx.fillRect(_this.coords.model_to_screen(sel.get("xStart"),"x"),_this.coords.model_to_screen(pos,"y"),_this.coords.model_to_screen(sel.get("xEnd")-sel.get("xStart")+1,"x"),_this.coords.boxes_size.y)}};for(var i=0;i<len;i++){var _ret=_loop(i);if(_ret==="continue")continue}return this.ctx.globalAlpha=1},_onclick:function _onclick(evt){return this.g.trigger("meta:click",{seqId:this.model.get("id",{evt:evt})})},_onmousemove:function _onmousemove(e){if(this.dragStart.length===0){return}this.render();this.ctx.fillStyle="#666666";this.ctx.globalAlpha=.9;var rect=this._calcSelection(mouse.abs(e));this.ctx.fillRect(rect[0][0],rect[1][0],rect[0][1]-rect[0][0],rect[1][1]-rect[1][0]);e.preventDefault();return e.stopPropagation()},_onmousedown:function _onmousedown(e){var _this2=this;this.dragStart=mouse.abs(e);this.dragStartRel=mouse.rel(e);if(e.ctrlKey||e.metaKey){this.prolongSelection=true}else{this.prolongSelection=false}jbone(document.body).on("mousemove.overmove",function(e){return _this2._onmousemove(e)});jbone(document.body).on("mouseup.overup",function(e){return _this2._onmouseup(e)});return this.dragStart},_calcSelection:function _calcSelection(dragMove){var dragRel=[dragMove[0]-this.dragStart[0],dragMove[1]-this.dragStart[1]];for(var i=0;i<=1;i++){dragRel[i]=this.dragStartRel[i]+dragRel[i]}var rect=[[this.dragStartRel[0],dragRel[0]],[this.dragStartRel[1],dragRel[1]]];for(var _i2=0;_i2<=1;_i2++){if(rect[_i2][1]<rect[_i2][0]){rect[_i2]=[rect[_i2][1],rect[_i2][0]]}rect[_i2][0]=Math.max(rect[_i2][0],0)}return rect},_endSelection:function _endSelection(dragEnd){jbone(document.body).off(".overmove");jbone(document.body).off(".overup");if(this.dragStart.length===0){return}var rect=this._calcSelection(dragEnd);for(var i=0;i<=1;i++){rect[0][i]=this.coords.screen_to_model(rect[0][i],"x")}for(var i=0;i<=1;i++){rect[1][i]=this.coords.screen_to_model(rect[1][i],"y")}rect[0][1]=Math.min(this.model.getMaxLength()-1,rect[0][1]);rect[1][1]=Math.min(this.model.length-1,rect[1][1]);var selis=[];for(var j=rect[1][0];j<=rect[1][1];j++){var args={seqId:this.model.at(j).get("id"),xStart:rect[0][0],xEnd:rect[0][1]};selis.push(new _Selection.possel(args))}this.dragStart=[];if(this.prolongSelection){this.g.selcol.add(selis)}else{this.g.selcol.reset(selis)}this.g.zoomer.setLeftOffset(rect[0][0]);return this.g.zoomer.setTopOffset(rect[1][0])},_onmouseup:function _onmouseup(e){return this._endSelection(mouse.abs(e))},_onmouseout:function _onmouseout(e){return this._endSelection(mouse.abs(e))},_createCanvas:function _createCanvas(){this.coords.updatecoords_transform(this);this.el.height=this.coords.container_size.y;this.el.width=this.coords.container_size.x;this.ctx=this.el.getContext("2d");this.el.style.overflow="auto";return this.el.style.cursor="crosshair"}});exports.default=OverviewBox},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Selection=__webpack_require__(2);var boneView=__webpack_require__(16);var k=__webpack_require__(44);var dom=__webpack_require__(65);var View=boneView.extend({initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.user,"change:searchText",function(model,prop){this.search(prop);return this.render()});this.sel=[];return this.selPos=0},events:{scroll:"_sendScrollEvent"},render:function render(){this.renderSubviews();this.el.className="biojs_msa_searchresult";var searchText=this.g.user.get("searchText");if(typeof searchText!=="undefined"&&searchText!==null&&searchText.length>0){if(this.sel.length===0){this.el.textContent="no selection found"}else{this.resultBox=k.mk("div");this.resultBox.className="biojs_msa_searchresult_ovbox";this.updateResult();this.el.appendChild(this.resultBox);this.el.appendChild(this.buildBtns())}}return this},updateResult:function updateResult(){var text="search pattern: "+this.g.user.get("searchText");text+=", selection: "+(this.selPos+1);var seli=this.sel[this.selPos];text+=" (";text+=seli.get("xStart")+" - "+seli.get("xEnd");text+=", id: "+seli.get("seqId");text+=")";return this.resultBox.textContent=text},buildBtns:function buildBtns(){var _this=this;var prevBtn=k.mk("button");prevBtn.textContent="Prev";prevBtn.addEventListener("click",function(){return _this.moveSel(-1)});var nextBtn=k.mk("button");nextBtn.textContent="Next";nextBtn.addEventListener("click",function(){return _this.moveSel(1)});var allBtn=k.mk("button");allBtn.textContent="All";allBtn.addEventListener("click",function(){return _this.g.selcol.reset(_this.sel)});var searchrow=k.mk("div");searchrow.appendChild(prevBtn);searchrow.appendChild(nextBtn);searchrow.appendChild(allBtn);searchrow.className="biojs_msa_searchresult_row";return searchrow},moveSel:function moveSel(relDist){var selNew=this.selPos+relDist;if(selNew<0||selNew>=this.sel.length){return-1}else{this.focus(selNew);this.selPos=selNew;return this.updateResult()}},focus:function focus(selPos){var seli=this.sel[selPos];var leftIndex=seli.get("xStart");this.g.zoomer.setLeftOffset(leftIndex);return this.g.selcol.reset([seli])},search:function search(searchText){var origIndex;var search=new RegExp(searchText,"gi");var newSeli=[];var leftestIndex=origIndex=100042;this.model.each(function(seq){var strSeq=seq.get("seq");return function(){var match;var result=[];while(match=search.exec(strSeq)){var index=match.index;var args={xStart:index,xEnd:index+match[0].length-1,seqId:seq.get("id")};newSeli.push(new _Selection.possel(args));result.push(leftestIndex=Math.min(index,leftestIndex))}return result}()});this.g.selcol.reset(newSeli);if(leftestIndex===origIndex){leftestIndex=0}this.g.zoomer.setLeftOffset(leftestIndex);return this.sel=newSeli}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var BoneView=__webpack_require__(14);var $=__webpack_require__(15);var View=BoneView.extend({initialize:function initialize(data){this.g=data.g;this.listenTo(this.g.zoomer,"change:columnWidth",this.render);this.toggleClass="msa-hide";this.isVisible=true;return this},attributes:{class:"biojs_msa_scale"},events:{"change input":"updateSlider","click button.msa-btn-close":"hide","click button.msa-btn-open":"show","click button[data-action]":"clickButton"},template:(0,_lodash.template)('\t<div class="msa-scale-minimised">\t  <button class="btn msa-btn msa-btn-open">Zoom</button>\t</div>\t<div class="msa-scale-maximised">\t  <button class="btn msa-btn msa-btn-close" style="float:right">&times; close</button>\t  <div>\t  <input type="range" \t    data-provide="slider" \t    min="<%= min %>" \t    max="<%= max %>" \t    step="<%= step %>" \t    value="<%= value %>" \t  >\t  </div>\t  <div class="btngroup msa-btngroup">\t    <button class="btn msa-btn" data-action="smaller"><span class="glyphicon-zoom-out"></span>-</button>\t    <button class="btn msa-btn" data-action="bigger"><span class="glyphicon-zoom-in"></span>+</button>\t    <button class="btn msa-btn" data-action="reset"><span class="glyphicon-repeat"></span>reset</button>\t  </div>\t</div>\t'),render:function render(){var sizeRange=this.model.getSizeRange();var stash={value:this.model.getSize(),min:sizeRange[0],max:sizeRange[1],step:this.model.step||1};this.$el.html(this.template(stash));if(this.isVisible){this.show()}else{this.hide()}return this},updateSlider:function updateSlider(e){var target=e.target;var size=parseInt($(target).val());this.model.setSize(size)},clickButton:function clickButton(e){console.log("clickButton",this,e);var target=e.target;var action=$(target).data("action");var method=this.model[action];if(typeof this.model[action]==="function"){this.model[action]()}return this},hide:function hide(){this.isVisible=false;this.$el.find(".msa-scale-minimised").removeClass(this.toggleClass);this.$el.find(".msa-scale-maximised").addClass(this.toggleClass)},show:function show(){this.isVisible=false;this.$el.find(".msa-scale-minimised").addClass(this.toggleClass);this.$el.find(".msa-scale-maximised").removeClass(this.toggleClass)}});exports.default=View},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var _lodash=__webpack_require__(3);var _bio=__webpack_require__(67);var _recognize=__webpack_require__(114);var _recognize2=_interopRequireDefault(_recognize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FileHelper=function FileHelper(msa){this.msa=msa;return this};var funs={guessFileFromText:function guessFileFromText(text,opt){if(!(typeof text!=="undefined"&&text!==null)){console.warn("invalid file format");return["","error"]}var recognizedFile=(0,_recognize2.default)(text,opt);switch(recognizedFile){case"clustal":var reader=_bio.clustal;var type="seqs";break;case"fasta":reader=_bio.fasta;type="seqs";break;case"newick":type="newick";break;case"gff":reader=_bio.gff;type="features";break;default:alert("Unknown file format. Please contact us on Github for help.");break}return[reader,type]},parseText:function parseText(text,opt){var _guessFileFromText=this.guessFileFromText(text,opt),_guessFileFromText2=_slicedToArray(_guessFileFromText,2),reader=_guessFileFromText2[0],type=_guessFileFromText2[1];if(type==="seqs"){var seqs=reader.parse(text);return[seqs,type]}else if(type==="features"){var features=reader.parseSeqs(text);return[features,type]}else{return[text,type]}},importFiles:function importFiles(files){var _this=this;return function(){var result=[];var end=files.length-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){var file=files[i];var reader=new FileReader;reader.onload=function(evt){return _this.importFile(evt.target.result)};result.push(reader.readAsText(file))}return result}()},importFile:function importFile(file,opt){var _this2=this;opt=opt||{};opt.name=file.name;var fileName;var _parseText=this.parseText(file,opt),_parseText2=_slicedToArray(_parseText,2),objs=_parseText2[0],type=_parseText2[1];if(type==="error"){alert("An error happened");return"error"}if(type==="seqs"){this.msa.seqs.reset(objs);this.msa.g.config.set("url","userimport");this.msa.g.trigger("url:userImport")}else if(type==="features"){this.msa.seqs.addFeatures(objs)}else if(type==="newick"){this.msa.u.tree.loadTree(function(){return _this2.msa.u.tree.showTree(file)})}else{alert("Unknown file!")}return fileName=file.name},importURL:function importURL(url,cb){var _this3=this;url=this.msa.u.proxy.corsURL(url);this.msa.g.config.set("url",url);return(0,_bio.xhr)({url:url,timeout:0},function(err,status,body){if(!err){var res=_this3.importFile(body,{url:url});if(res==="error"){return}_this3.msa.g.trigger("import:url",url);if(cb){return cb()}}else{return console.error(err)}})}};(0,_lodash.extend)(FileHelper.prototype,funs);exports.default=FileHelper},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(text,opt){var fileName=opt.name||opt.url||"";var fileNameSplit=fileName.split(".");var suffix=fileNameSplit[fileNameSplit.length-1]||"";for(var i=0;i<recognizers.length;i++){var v=recognizers[i](text,suffix);if(!!v)return v}return"unknown"};var isClustal=function isClustal(text,suffix){if(text.substring(0,7)==="CLUSTAL"||suffix=="clustal"||suffix=="aln"){return"clustal"}return false};var isFasta=function isFasta(text,suffix){if(text.substring(0,1)===">"||suffix=="fasta"||suffix=="fa"){return"fasta"}return false};var isNewick=function isNewick(text,suffix){if(text.substring(0,1)==="("||suffix=="nwk"){return"newick"}return false};var isGFF=function isGFF(text,suffix){if(text.length<=10){return false}var lines=text.split("\n");if(lines[0].indexOf("gff")>=0||suffix.indexOf("gff")>=0){return"gff"}if(lines[0].indexOf("#")<0&&lines[0].split("\t").length===2){return"gff"}return false};var recognizers=[isClustal,isFasta,isNewick,isGFF]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var _SeqCollection=__webpack_require__(18);var _SeqCollection2=_interopRequireDefault(_SeqCollection);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TreeHelper=function TreeHelper(msa){this.msa=msa;return this};var tf={loadTree:function loadTree(cb){return this.msa.g.package.loadPackages(["msa-tnt","biojs-io-newick"],cb)},showTree:function showTree(newickStr){var newick=window.require("biojs-io-newick");var mt=window.require("msa-tnt");if(typeof newickStr==="string"){var newickObj=newick.parse_newick(newickStr)}else{newickObj=newickStr}var sel=new mt.selections;var treeDiv;if(this.msa.el.getElementsByClassName("tnt_groupDiv").length===0){treeDiv=document.createElement("div");this.msa.el.appendChild(treeDiv)}else{console.log("A tree already exists. It will be overridden.");treeDiv=this.msa.el.getElementsByClassName("tnt_groupDiv")[0].parentNode;treeDiv.innerHTML=""}var seqs=this.msa.seqs.toJSON();function iterateTree(nwck){if(nwck.children!=null){nwck.children.forEach(function(x){return iterateTree(x)})}else{var seq=seqs.filter(function(s){return s.name===nwck.name})[0];if(seq!=null){if(typeof seq.id==="number"){seq.ids=["s"+(seq.id+1)];nwck.name="s"+(seq.id+1)}else{nwck.name=seq.id}}}}iterateTree(newickObj);var nodes=mt.app({seqs:seqs,tree:newickObj});var t=new mt.adapters.tree({model:nodes,el:treeDiv,sel:sel});var m=new mt.adapters.msa({model:nodes,sel:sel,msa:this.msa});nodes.models.forEach(function(e){delete e.collection;return Object.setPrototypeOf(e,__webpack_require__(6).Model.prototype)});this.msa.seqs.reset(nodes.models);return console.log(this.msa.seqs)},require:function(_require){function require(_x){return _require.apply(this,arguments)}require.toString=function(){return _require.toString()};return require}(function(pkg){return __webpack_require__(116)(pkg)})};(0,_lodash.extend)(TreeHelper.prototype,tf);exports.default=TreeHelper},function(module,exports,__webpack_require__){var map={"./bmath":117,"./bmath.js":117,"./exporter":118,"./exporter.js":118,"./file":113,"./file.js":113,"./index":122,"./index.js":122,"./loader":43,"./loader.js":43,"./proxy":123,"./proxy.js":123,"./recognize":114,"./recognize.js":114,"./seqgen":124,"./seqgen.js":124,"./svg":91,"./svg.js":91,"./tree":115,"./tree.js":115};function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)};webpackContext.resolve=webpackContextResolve;module.exports=webpackContext;webpackContext.id=116},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BMath=function(){function BMath(){_classCallCheck(this,BMath)}_createClass(BMath,null,[{key:"randomInt",value:function randomInt(lower,upper){if(!(typeof upper!=="undefined"&&upper!==null)){var _ref=[0,lower];lower=_ref[0];upper=_ref[1]}if(lower>upper){var _ref2=[upper,lower];lower=_ref2[0];upper=_ref2[1]}return Math.floor(Math.random()*(upper-lower+1)+lower)}},{key:"uniqueId",value:function uniqueId(){var length=arguments.length>0&&arguments[0]!==undefined?arguments[0]:8;var id="";while(id.length<length){id+=Math.random().toString(36).substr(2)}return id.substr(0,length)}},{key:"getRandomInt",value:function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}}]);return BMath}();exports.default=BMath},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bio=__webpack_require__(67);var _lodash=__webpack_require__(3);var _html2canvas=__webpack_require__(119);var _html2canvas2=_interopRequireDefault(_html2canvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var blobURL=__webpack_require__(120);var saveAs=__webpack_require__(121);var Exporter={openInJalview:function openInJalview(url,colorscheme){if(url.charAt(0)==="."){url=document.URL.substr(0,document.URL.lastIndexOf("/"))+"/"+url}if(url.indexOf("http")<0){var host="http://"+window.location.hostname;url=host+url}url=encodeURIComponent(url);var jalviewUrl="http://www.jalview.org/services/launchApp?open="+url;jalviewUrl+="&colour="+colorscheme;return window.open(jalviewUrl,"_blank")},publishWeb:function publishWeb(that,cb){var text=_bio.fasta.write(that.seqs.toJSON());text=encodeURIComponent(text);var url="http://sprunge.biojs.net";return(0,_bio.xhr)({method:"POST",body:"sprunge="+text,uri:url,headers:{"Content-Type":"application/x-www-form-urlencoded"}},function(err,rep,body){var link=body.trim();return cb(link)})},shareLink:function shareLink(that,cb){var url=that.g.config.get("importURL");var msaURL="http://msa.biojs.net/app/?seq=";var fCB=function fCB(link){var fURL=msaURL+link;if(cb){return cb(fURL)}};if(!url){return Exporter.publishWeb(that,fCB)}else{return fCB(url)}},saveAsFile:function saveAsFile(that,name){var text=_bio.fasta.write(that.seqs.toJSON());var blob=new Blob([text],{type:"text/plain"});return saveAs(blob,name)},saveSelection:function saveSelection(that,name){var selection=that.g.selcol.pluck("seqId");console.log(selection);if(selection.length>0){selection=that.seqs.filter(function(el){return selection.indexOf(el.get("id"))>=0});var end=selection.length-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){selection[i]=selection[i].toJSON()}}else{selection=that.seqs.toJSON();console.warn("no selection found")}var text=_bio.fasta.write(selection);var blob=new Blob([text],{type:"text/plain"});return saveAs(blob,name)},saveAnnots:function saveAnnots(that,name){var features=that.seqs.map(function(el){features=el.get("features");if(features.length===0){return}var seqname=el.get("name");features.each(function(s){return s.set("seqname",seqname)});return features.toJSON()});features=(0,_lodash.flatten)((0,_lodash.compact)(features));if(!features||!features.length){alert("No feature annotations found to export");return}var text=_bio.gff.exportLines(features);var blob=new Blob([text],{type:"text/plain"});return saveAs(blob,name)},saveAsImg:function saveAsImg(that,name){var elementToCapture=document.getElementsByClassName("biojs_msa_stage")[0];(0,_html2canvas2.default)(elementToCapture).then(function(canvas){document.querySelector("body").appendChild(canvas);var url=canvas.toDataURL("image/png");saveAs(blobURL(url),name,"image/png");canvas.remove();return})}};exports.default=Exporter},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(global,factory){(false?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?module.exports=factory():true?!(__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)):(global=typeof globalThis!=="undefined"?globalThis:global||self,global.html2canvas=factory())})(undefined,function(){"use strict";var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b){if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]}};return _extendStatics(d,b)};function __extends(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");_extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}var _assign=function __assign(){_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s){if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}}return t};return _assign.apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function sent(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_){try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}}function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||from)}var Bounds=function(){function Bounds(left,top,width,height){this.left=left;this.top=top;this.width=width;this.height=height}Bounds.prototype.add=function(x,y,w,h){return new Bounds(this.left+x,this.top+y,this.width+w,this.height+h)};Bounds.fromClientRect=function(context,clientRect){return new Bounds(clientRect.left+context.windowBounds.left,clientRect.top+context.windowBounds.top,clientRect.width,clientRect.height)};Bounds.fromDOMRectList=function(context,domRectList){var domRect=Array.from(domRectList).find(function(rect){return rect.width!==0});return domRect?new Bounds(domRect.left+context.windowBounds.left,domRect.top+context.windowBounds.top,domRect.width,domRect.height):Bounds.EMPTY};Bounds.EMPTY=new Bounds(0,0,0,0);return Bounds}();var parseBounds=function parseBounds(context,node){return Bounds.fromClientRect(context,node.getBoundingClientRect())};var parseDocumentSize=function parseDocumentSize(document){var body=document.body;var documentElement=document.documentElement;if(!body||!documentElement){throw new Error("Unable to get document size")}var width=Math.max(Math.max(body.scrollWidth,documentElement.scrollWidth),Math.max(body.offsetWidth,documentElement.offsetWidth),Math.max(body.clientWidth,documentElement.clientWidth));var height=Math.max(Math.max(body.scrollHeight,documentElement.scrollHeight),Math.max(body.offsetHeight,documentElement.offsetHeight),Math.max(body.clientHeight,documentElement.clientHeight));return new Bounds(0,0,width,height)};var toCodePoints$1=function toCodePoints$1(str){var codePoints=[];var i=0;var length=str.length;while(i<length){var value=str.charCodeAt(i++);if(value>=55296&&value<=56319&&i<length){var extra=str.charCodeAt(i++);if((extra&64512)===56320){codePoints.push(((value&1023)<<10)+(extra&1023)+65536)}else{codePoints.push(value);i--}}else{codePoints.push(value)}}return codePoints};var fromCodePoint$1=function fromCodePoint$1(){var codePoints=[];for(var _i=0;_i<arguments.length;_i++){codePoints[_i]=arguments[_i]}if(String.fromCodePoint){return String.fromCodePoint.apply(String,codePoints)}var length=codePoints.length;if(!length){return""}var codeUnits=[];var index=-1;var result="";while(++index<length){var codePoint=codePoints[index];if(codePoint<=65535){codeUnits.push(codePoint)}else{codePoint-=65536;codeUnits.push((codePoint>>10)+55296,codePoint%1024+56320)}if(index+1===length||codeUnits.length>16384){result+=String.fromCharCode.apply(String,codeUnits);codeUnits.length=0}}return result};var chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var lookup$2=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++){lookup$2[chars$2.charCodeAt(i$2)]=i$2}var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var lookup$1$1=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++){lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1}var decode$1=function decode$1(base64){var bufferLength=base64.length*.75,len=base64.length,i,p=0,encoded1,encoded2,encoded3,encoded4;if(base64[base64.length-1]==="="){bufferLength--;if(base64[base64.length-2]==="="){bufferLength--}}var buffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&typeof Uint8Array.prototype.slice!=="undefined"?new ArrayBuffer(bufferLength):new Array(bufferLength);var bytes=Array.isArray(buffer)?buffer:new Uint8Array(buffer);for(i=0;i<len;i+=4){encoded1=lookup$1$1[base64.charCodeAt(i)];encoded2=lookup$1$1[base64.charCodeAt(i+1)];encoded3=lookup$1$1[base64.charCodeAt(i+2)];encoded4=lookup$1$1[base64.charCodeAt(i+3)];bytes[p++]=encoded1<<2|encoded2>>4;bytes[p++]=(encoded2&15)<<4|encoded3>>2;bytes[p++]=(encoded3&3)<<6|encoded4&63}return buffer};var polyUint16Array$1=function polyUint16Array$1(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=2){bytes.push(buffer[i+1]<<8|buffer[i])}return bytes};var polyUint32Array$1=function polyUint32Array$1(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=4){bytes.push(buffer[i+3]<<24|buffer[i+2]<<16|buffer[i+1]<<8|buffer[i])}return bytes};var UTRIE2_SHIFT_2$1=5;var UTRIE2_SHIFT_1$1=6+5;var UTRIE2_INDEX_SHIFT$1=2;var UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1;var UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1;var UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1;var UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1;var UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1;var UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1;var UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1;var UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=2048>>6;var UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1;var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1;var UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1;var UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1;var slice16$1=function slice16$1(view,start,end){if(view.slice){return view.slice(start,end)}return new Uint16Array(Array.prototype.slice.call(view,start,end))};var slice32$1=function slice32$1(view,start,end){if(view.slice){return view.slice(start,end)}return new Uint32Array(Array.prototype.slice.call(view,start,end))};var createTrieFromBase64$1=function createTrieFromBase64$1(base64,_byteLength){var buffer=decode$1(base64);var view32=Array.isArray(buffer)?polyUint32Array$1(buffer):new Uint32Array(buffer);var view16=Array.isArray(buffer)?polyUint16Array$1(buffer):new Uint16Array(buffer);var headerLength=24;var index=slice16$1(view16,headerLength/2,view32[4]/2);var data=view32[5]===2?slice16$1(view16,(headerLength+view32[4])/2):slice32$1(view32,Math.ceil((headerLength+view32[4])/4));return new Trie$1(view32[0],view32[1],view32[2],view32[3],index,data)};var Trie$1=function(){function Trie(initialValue,errorValue,highStart,highValueIndex,index,data){this.initialValue=initialValue;this.errorValue=errorValue;this.highStart=highStart;this.highValueIndex=highValueIndex;this.index=index;this.data=data}Trie.prototype.get=function(codePoint){var ix;if(codePoint>=0){if(codePoint<55296||codePoint>56319&&codePoint<=65535){ix=this.index[codePoint>>UTRIE2_SHIFT_2$1];ix=(ix<<UTRIE2_INDEX_SHIFT$1)+(codePoint&UTRIE2_DATA_MASK$1);return this.data[ix]}if(codePoint<=65535){ix=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(codePoint-55296>>UTRIE2_SHIFT_2$1)];ix=(ix<<UTRIE2_INDEX_SHIFT$1)+(codePoint&UTRIE2_DATA_MASK$1);return this.data[ix]}if(codePoint<this.highStart){ix=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(codePoint>>UTRIE2_SHIFT_1$1);ix=this.index[ix];ix+=codePoint>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1;ix=this.index[ix];ix=(ix<<UTRIE2_INDEX_SHIFT$1)+(codePoint&UTRIE2_DATA_MASK$1);return this.data[ix]}if(codePoint<=1114111){return this.data[this.highValueIndex]}}return this.errorValue};return Trie}();var chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var lookup$3=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++){lookup$3[chars$3.charCodeAt(i$3)]=i$3}var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==";var LETTER_NUMBER_MODIFIER=50;var BK=1;var CR$1=2;var LF$1=3;var CM=4;var NL=5;var WJ=7;var ZW=8;var GL=9;var SP=10;var ZWJ$1=11;var B2=12;var BA=13;var BB=14;var HY=15;var CB=16;var CL=17;var CP=18;var EX=19;var IN=20;var NS=21;var OP=22;var QU=23;var IS=24;var NU=25;var PO=26;var PR=27;var SY=28;var AI=29;var AL=30;var CJ=31;var EB=32;var EM=33;var H2=34;var H3=35;var HL=36;var ID=37;var JL=38;var JV=39;var JT=40;var RI$1=41;var SA=42;var XX=43;var ea_OP=[9001,65288];var BREAK_MANDATORY="!";var BREAK_NOT_ALLOWED$1="×";var BREAK_ALLOWED$1="÷";var UnicodeTrie$1=createTrieFromBase64$1(base64$1);var ALPHABETICS=[AL,HL];var HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL];var SPACE$1=[SP,ZW];var PREFIX_POSTFIX=[PR,PO];var LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1);var KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3];var HYPHEN=[HY,BA];var codePointsToCharacterClasses=function codePointsToCharacterClasses(codePoints,lineBreak){if(lineBreak===void 0){lineBreak="strict"}var types=[];var indices=[];var categories=[];codePoints.forEach(function(codePoint,index){var classType=UnicodeTrie$1.get(codePoint);if(classType>LETTER_NUMBER_MODIFIER){categories.push(true);classType-=LETTER_NUMBER_MODIFIER}else{categories.push(false)}if(["normal","auto","loose"].indexOf(lineBreak)!==-1){if([8208,8211,12316,12448].indexOf(codePoint)!==-1){indices.push(index);return types.push(CB)}}if(classType===CM||classType===ZWJ$1){if(index===0){indices.push(index);return types.push(AL)}var prev=types[index-1];if(LINE_BREAKS.indexOf(prev)===-1){indices.push(indices[index-1]);return types.push(prev)}indices.push(index);return types.push(AL)}indices.push(index);if(classType===CJ){return types.push(lineBreak==="strict"?NS:ID)}if(classType===SA){return types.push(AL)}if(classType===AI){return types.push(AL)}if(classType===XX){if(codePoint>=131072&&codePoint<=196605||codePoint>=196608&&codePoint<=262141){return types.push(ID)}else{return types.push(AL)}}types.push(classType)});return[indices,types,categories]};var isAdjacentWithSpaceIgnored=function isAdjacentWithSpaceIgnored(a,b,currentIndex,classTypes){var current=classTypes[currentIndex];if(Array.isArray(a)?a.indexOf(current)!==-1:a===current){var i=currentIndex;while(i<=classTypes.length){i++;var next=classTypes[i];if(next===b){return true}if(next!==SP){break}}}if(current===SP){var i=currentIndex;while(i>0){i--;var prev=classTypes[i];if(Array.isArray(a)?a.indexOf(prev)!==-1:a===prev){var n=currentIndex;while(n<=classTypes.length){n++;var next=classTypes[n];if(next===b){return true}if(next!==SP){break}}}if(prev!==SP){break}}}return false};var previousNonSpaceClassType=function previousNonSpaceClassType(currentIndex,classTypes){var i=currentIndex;while(i>=0){var type=classTypes[i];if(type===SP){i--}else{return type}}return 0};var _lineBreakAtIndex=function _lineBreakAtIndex(codePoints,classTypes,indicies,index,forbiddenBreaks){if(indicies[index]===0){return BREAK_NOT_ALLOWED$1}var currentIndex=index-1;if(Array.isArray(forbiddenBreaks)&&forbiddenBreaks[currentIndex]===true){return BREAK_NOT_ALLOWED$1}var beforeIndex=currentIndex-1;var afterIndex=currentIndex+1;var current=classTypes[currentIndex];var before=beforeIndex>=0?classTypes[beforeIndex]:0;var next=classTypes[afterIndex];if(current===CR$1&&next===LF$1){return BREAK_NOT_ALLOWED$1}if(HARD_LINE_BREAKS.indexOf(current)!==-1){return BREAK_MANDATORY}if(HARD_LINE_BREAKS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if(SPACE$1.indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if(previousNonSpaceClassType(currentIndex,classTypes)===ZW){return BREAK_ALLOWED$1}if(UnicodeTrie$1.get(codePoints[currentIndex])===ZWJ$1){return BREAK_NOT_ALLOWED$1}if((current===EB||current===EM)&&UnicodeTrie$1.get(codePoints[afterIndex])===ZWJ$1){return BREAK_NOT_ALLOWED$1}if(current===WJ||next===WJ){return BREAK_NOT_ALLOWED$1}if(current===GL){return BREAK_NOT_ALLOWED$1}if([SP,BA,HY].indexOf(current)===-1&&next===GL){return BREAK_NOT_ALLOWED$1}if([CL,CP,EX,IS,SY].indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if(previousNonSpaceClassType(currentIndex,classTypes)===OP){return BREAK_NOT_ALLOWED$1}if(isAdjacentWithSpaceIgnored(QU,OP,currentIndex,classTypes)){return BREAK_NOT_ALLOWED$1}if(isAdjacentWithSpaceIgnored([CL,CP],NS,currentIndex,classTypes)){return BREAK_NOT_ALLOWED$1}if(isAdjacentWithSpaceIgnored(B2,B2,currentIndex,classTypes)){return BREAK_NOT_ALLOWED$1}if(current===SP){return BREAK_ALLOWED$1}if(current===QU||next===QU){return BREAK_NOT_ALLOWED$1}if(next===CB||current===CB){return BREAK_ALLOWED$1}if([BA,HY,NS].indexOf(next)!==-1||current===BB){return BREAK_NOT_ALLOWED$1}if(before===HL&&HYPHEN.indexOf(current)!==-1){return BREAK_NOT_ALLOWED$1}if(current===SY&&next===HL){return BREAK_NOT_ALLOWED$1}if(next===IN){return BREAK_NOT_ALLOWED$1}if(ALPHABETICS.indexOf(next)!==-1&&current===NU||ALPHABETICS.indexOf(current)!==-1&&next===NU){return BREAK_NOT_ALLOWED$1}if(current===PR&&[ID,EB,EM].indexOf(next)!==-1||[ID,EB,EM].indexOf(current)!==-1&&next===PO){return BREAK_NOT_ALLOWED$1}if(ALPHABETICS.indexOf(current)!==-1&&PREFIX_POSTFIX.indexOf(next)!==-1||PREFIX_POSTFIX.indexOf(current)!==-1&&ALPHABETICS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if([PR,PO].indexOf(current)!==-1&&(next===NU||[OP,HY].indexOf(next)!==-1&&classTypes[afterIndex+1]===NU)||[OP,HY].indexOf(current)!==-1&&next===NU||current===NU&&[NU,SY,IS].indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if([NU,SY,IS,CL,CP].indexOf(next)!==-1){var prevIndex=currentIndex;while(prevIndex>=0){var type=classTypes[prevIndex];if(type===NU){return BREAK_NOT_ALLOWED$1}else if([SY,IS].indexOf(type)!==-1){prevIndex--}else{break}}}if([PR,PO].indexOf(next)!==-1){var prevIndex=[CL,CP].indexOf(current)!==-1?beforeIndex:currentIndex;while(prevIndex>=0){var type=classTypes[prevIndex];if(type===NU){return BREAK_NOT_ALLOWED$1}else if([SY,IS].indexOf(type)!==-1){prevIndex--}else{break}}}if(JL===current&&[JL,JV,H2,H3].indexOf(next)!==-1||[JV,H2].indexOf(current)!==-1&&[JV,JT].indexOf(next)!==-1||[JT,H3].indexOf(current)!==-1&&next===JT){return BREAK_NOT_ALLOWED$1}if(KOREAN_SYLLABLE_BLOCK.indexOf(current)!==-1&&[IN,PO].indexOf(next)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(next)!==-1&&current===PR){return BREAK_NOT_ALLOWED$1}if(ALPHABETICS.indexOf(current)!==-1&&ALPHABETICS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if(current===IS&&ALPHABETICS.indexOf(next)!==-1){return BREAK_NOT_ALLOWED$1}if(ALPHABETICS.concat(NU).indexOf(current)!==-1&&next===OP&&ea_OP.indexOf(codePoints[afterIndex])===-1||ALPHABETICS.concat(NU).indexOf(next)!==-1&&current===CP){return BREAK_NOT_ALLOWED$1}if(current===RI$1&&next===RI$1){var i=indicies[currentIndex];var count=1;while(i>0){i--;if(classTypes[i]===RI$1){count++}else{break}}if(count%2!==0){return BREAK_NOT_ALLOWED$1}}if(current===EB&&next===EM){return BREAK_NOT_ALLOWED$1}return BREAK_ALLOWED$1};var cssFormattedClasses=function cssFormattedClasses(codePoints,options){if(!options){options={lineBreak:"normal",wordBreak:"normal"}}var _a=codePointsToCharacterClasses(codePoints,options.lineBreak),indicies=_a[0],classTypes=_a[1],isLetterNumber=_a[2];if(options.wordBreak==="break-all"||options.wordBreak==="break-word"){classTypes=classTypes.map(function(type){return[NU,AL,SA].indexOf(type)!==-1?ID:type})}var forbiddenBreakpoints=options.wordBreak==="keep-all"?isLetterNumber.map(function(letterNumber,i){return letterNumber&&codePoints[i]>=19968&&codePoints[i]<=40959}):undefined;return[indicies,classTypes,forbiddenBreakpoints]};var Break=function(){function Break(codePoints,lineBreak,start,end){this.codePoints=codePoints;this.required=lineBreak===BREAK_MANDATORY;this.start=start;this.end=end}Break.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))};return Break}();var LineBreaker=function LineBreaker(str,options){var codePoints=toCodePoints$1(str);var _a=cssFormattedClasses(codePoints,options),indicies=_a[0],classTypes=_a[1],forbiddenBreakpoints=_a[2];var length=codePoints.length;var lastEnd=0;var nextIndex=0;return{next:function next(){if(nextIndex>=length){return{done:true,value:null}}var lineBreak=BREAK_NOT_ALLOWED$1;while(nextIndex<length&&(lineBreak=_lineBreakAtIndex(codePoints,classTypes,indicies,++nextIndex,forbiddenBreakpoints))===BREAK_NOT_ALLOWED$1){}if(lineBreak!==BREAK_NOT_ALLOWED$1||nextIndex===length){var value=new Break(codePoints,lineBreak,lastEnd,nextIndex);lastEnd=nextIndex;return{value:value,done:false}}return{done:true,value:null}}}};var FLAG_UNRESTRICTED=1<<0;var FLAG_ID=1<<1;var FLAG_INTEGER=1<<2;var FLAG_NUMBER=1<<3;var LINE_FEED=10;var SOLIDUS=47;var REVERSE_SOLIDUS=92;var CHARACTER_TABULATION=9;var SPACE=32;var QUOTATION_MARK=34;var EQUALS_SIGN=61;var NUMBER_SIGN=35;var DOLLAR_SIGN=36;var PERCENTAGE_SIGN=37;var APOSTROPHE=39;var LEFT_PARENTHESIS=40;var RIGHT_PARENTHESIS=41;var LOW_LINE=95;var HYPHEN_MINUS=45;var EXCLAMATION_MARK=33;var LESS_THAN_SIGN=60;var GREATER_THAN_SIGN=62;var COMMERCIAL_AT=64;var LEFT_SQUARE_BRACKET=91;var RIGHT_SQUARE_BRACKET=93;var CIRCUMFLEX_ACCENT=61;var LEFT_CURLY_BRACKET=123;var QUESTION_MARK=63;var RIGHT_CURLY_BRACKET=125;var VERTICAL_LINE=124;var TILDE=126;var CONTROL=128;var REPLACEMENT_CHARACTER=65533;var ASTERISK=42;var PLUS_SIGN=43;var COMMA=44;var COLON=58;var SEMICOLON=59;var FULL_STOP=46;var NULL=0;var BACKSPACE=8;var LINE_TABULATION=11;var SHIFT_OUT=14;var INFORMATION_SEPARATOR_ONE=31;var DELETE=127;var EOF=-1;var ZERO=48;var a=97;var e=101;var f=102;var u=117;var z=122;var A=65;var E=69;var F=70;var U=85;var Z=90;var isDigit=function isDigit(codePoint){return codePoint>=ZERO&&codePoint<=57};var isSurrogateCodePoint=function isSurrogateCodePoint(codePoint){return codePoint>=55296&&codePoint<=57343};var isHex=function isHex(codePoint){return isDigit(codePoint)||codePoint>=A&&codePoint<=F||codePoint>=a&&codePoint<=f};var isLowerCaseLetter=function isLowerCaseLetter(codePoint){return codePoint>=a&&codePoint<=z};var isUpperCaseLetter=function isUpperCaseLetter(codePoint){return codePoint>=A&&codePoint<=Z};var isLetter=function isLetter(codePoint){return isLowerCaseLetter(codePoint)||isUpperCaseLetter(codePoint)};var isNonASCIICodePoint=function isNonASCIICodePoint(codePoint){return codePoint>=CONTROL};var isWhiteSpace=function isWhiteSpace(codePoint){return codePoint===LINE_FEED||codePoint===CHARACTER_TABULATION||codePoint===SPACE};var isNameStartCodePoint=function isNameStartCodePoint(codePoint){return isLetter(codePoint)||isNonASCIICodePoint(codePoint)||codePoint===LOW_LINE};var isNameCodePoint=function isNameCodePoint(codePoint){return isNameStartCodePoint(codePoint)||isDigit(codePoint)||codePoint===HYPHEN_MINUS};var isNonPrintableCodePoint=function isNonPrintableCodePoint(codePoint){return codePoint>=NULL&&codePoint<=BACKSPACE||codePoint===LINE_TABULATION||codePoint>=SHIFT_OUT&&codePoint<=INFORMATION_SEPARATOR_ONE||codePoint===DELETE};var isValidEscape=function isValidEscape(c1,c2){if(c1!==REVERSE_SOLIDUS){return false}return c2!==LINE_FEED};var isIdentifierStart=function isIdentifierStart(c1,c2,c3){if(c1===HYPHEN_MINUS){return isNameStartCodePoint(c2)||isValidEscape(c2,c3)}else if(isNameStartCodePoint(c1)){return true}else if(c1===REVERSE_SOLIDUS&&isValidEscape(c1,c2)){return true}return false};var isNumberStart=function isNumberStart(c1,c2,c3){if(c1===PLUS_SIGN||c1===HYPHEN_MINUS){if(isDigit(c2)){return true}return c2===FULL_STOP&&isDigit(c3)}if(c1===FULL_STOP){return isDigit(c2)}return isDigit(c1)};var stringToNumber=function stringToNumber(codePoints){var c=0;var sign=1;if(codePoints[c]===PLUS_SIGN||codePoints[c]===HYPHEN_MINUS){if(codePoints[c]===HYPHEN_MINUS){sign=-1}c++}var integers=[];while(isDigit(codePoints[c])){integers.push(codePoints[c++])}var int=integers.length?parseInt(fromCodePoint$1.apply(void 0,integers),10):0;if(codePoints[c]===FULL_STOP){c++}var fraction=[];while(isDigit(codePoints[c])){fraction.push(codePoints[c++])}var fracd=fraction.length;var frac=fracd?parseInt(fromCodePoint$1.apply(void 0,fraction),10):0;if(codePoints[c]===E||codePoints[c]===e){c++}var expsign=1;if(codePoints[c]===PLUS_SIGN||codePoints[c]===HYPHEN_MINUS){if(codePoints[c]===HYPHEN_MINUS){expsign=-1}c++}var exponent=[];while(isDigit(codePoints[c])){exponent.push(codePoints[c++])}var exp=exponent.length?parseInt(fromCodePoint$1.apply(void 0,exponent),10):0;return sign*(int+frac*Math.pow(10,-fracd))*Math.pow(10,expsign*exp)};var LEFT_PARENTHESIS_TOKEN={type:2};var RIGHT_PARENTHESIS_TOKEN={type:3};var COMMA_TOKEN={type:4};var SUFFIX_MATCH_TOKEN={type:13};var PREFIX_MATCH_TOKEN={type:8};var COLUMN_TOKEN={type:21};var DASH_MATCH_TOKEN={type:9};var INCLUDE_MATCH_TOKEN={type:10};var LEFT_CURLY_BRACKET_TOKEN={type:11};var RIGHT_CURLY_BRACKET_TOKEN={type:12};var SUBSTRING_MATCH_TOKEN={type:14};var BAD_URL_TOKEN={type:23};var BAD_STRING_TOKEN={type:1};var CDO_TOKEN={type:25};var CDC_TOKEN={type:24};var COLON_TOKEN={type:26};var SEMICOLON_TOKEN={type:27};var LEFT_SQUARE_BRACKET_TOKEN={type:28};var RIGHT_SQUARE_BRACKET_TOKEN={type:29};var WHITESPACE_TOKEN={type:31};var EOF_TOKEN={type:32};var Tokenizer=function(){function Tokenizer(){this._value=[]}Tokenizer.prototype.write=function(chunk){this._value=this._value.concat(toCodePoints$1(chunk))};Tokenizer.prototype.read=function(){var tokens=[];var token=this.consumeToken();while(token!==EOF_TOKEN){tokens.push(token);token=this.consumeToken()}return tokens};Tokenizer.prototype.consumeToken=function(){var codePoint=this.consumeCodePoint();switch(codePoint){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if(isNameCodePoint(c1)||isValidEscape(c2,c3)){var flags=isIdentifierStart(c1,c2,c3)?FLAG_ID:FLAG_UNRESTRICTED;var value=this.consumeName();return{type:5,value:value,flags:flags}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return SUFFIX_MATCH_TOKEN}break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return SUBSTRING_MATCH_TOKEN}break;case PLUS_SIGN:if(isNumberStart(codePoint,this.peekCodePoint(0),this.peekCodePoint(1))){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken()}break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var e1=codePoint;var e2=this.peekCodePoint(0);var e3=this.peekCodePoint(1);if(isNumberStart(e1,e2,e3)){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken()}if(isIdentifierStart(e1,e2,e3)){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken()}if(e2===HYPHEN_MINUS&&e3===GREATER_THAN_SIGN){this.consumeCodePoint();this.consumeCodePoint();return CDC_TOKEN}break;case FULL_STOP:if(isNumberStart(codePoint,this.peekCodePoint(0),this.peekCodePoint(1))){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken()}break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK){this.consumeCodePoint();while(true){var c=this.consumeCodePoint();if(c===ASTERISK){c=this.consumeCodePoint();if(c===SOLIDUS){return this.consumeToken()}}if(c===EOF){return this.consumeToken()}}}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS){this.consumeCodePoint();this.consumeCodePoint();return CDO_TOKEN}break;case COMMERCIAL_AT:var a1=this.peekCodePoint(0);var a2=this.peekCodePoint(1);var a3=this.peekCodePoint(2);if(isIdentifierStart(a1,a2,a3)){var value=this.consumeName();return{type:7,value:value}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(codePoint,this.peekCodePoint(0))){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken()}break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return PREFIX_MATCH_TOKEN}break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var u1=this.peekCodePoint(0);var u2=this.peekCodePoint(1);if(u1===PLUS_SIGN&&(isHex(u2)||u2===QUESTION_MARK)){this.consumeCodePoint();this.consumeUnicodeRangeToken()}this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return DASH_MATCH_TOKEN}if(this.peekCodePoint(0)===VERTICAL_LINE){this.consumeCodePoint();return COLUMN_TOKEN}break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN){this.consumeCodePoint();return INCLUDE_MATCH_TOKEN}break;case EOF:return EOF_TOKEN}if(isWhiteSpace(codePoint)){this.consumeWhiteSpace();return WHITESPACE_TOKEN}if(isDigit(codePoint)){this.reconsumeCodePoint(codePoint);return this.consumeNumericToken()}if(isNameStartCodePoint(codePoint)){this.reconsumeCodePoint(codePoint);return this.consumeIdentLikeToken()}return{type:6,value:fromCodePoint$1(codePoint)}};Tokenizer.prototype.consumeCodePoint=function(){var value=this._value.shift();return typeof value==="undefined"?-1:value};Tokenizer.prototype.reconsumeCodePoint=function(codePoint){this._value.unshift(codePoint)};Tokenizer.prototype.peekCodePoint=function(delta){if(delta>=this._value.length){return-1}return this._value[delta]};Tokenizer.prototype.consumeUnicodeRangeToken=function(){var digits=[];var codePoint=this.consumeCodePoint();while(isHex(codePoint)&&digits.length<6){digits.push(codePoint);codePoint=this.consumeCodePoint()}var questionMarks=false;while(codePoint===QUESTION_MARK&&digits.length<6){digits.push(codePoint);codePoint=this.consumeCodePoint();questionMarks=true}if(questionMarks){var start_1=parseInt(fromCodePoint$1.apply(void 0,digits.map(function(digit){return digit===QUESTION_MARK?ZERO:digit})),16);var end=parseInt(fromCodePoint$1.apply(void 0,digits.map(function(digit){return digit===QUESTION_MARK?F:digit})),16);return{type:30,start:start_1,end:end}}var start=parseInt(fromCodePoint$1.apply(void 0,digits),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint();codePoint=this.consumeCodePoint();var endDigits=[];while(isHex(codePoint)&&endDigits.length<6){endDigits.push(codePoint);codePoint=this.consumeCodePoint()}var end=parseInt(fromCodePoint$1.apply(void 0,endDigits),16);return{type:30,start:start,end:end}}else{return{type:30,start:start,end:start}}};Tokenizer.prototype.consumeIdentLikeToken=function(){var value=this.consumeName();if(value.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS){this.consumeCodePoint();return this.consumeUrlToken()}else if(this.peekCodePoint(0)===LEFT_PARENTHESIS){this.consumeCodePoint();return{type:19,value:value}}return{type:20,value:value}};Tokenizer.prototype.consumeUrlToken=function(){var value=[];this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF){return{type:22,value:""}}var next=this.peekCodePoint(0);if(next===APOSTROPHE||next===QUOTATION_MARK){var stringToken=this.consumeStringToken(this.consumeCodePoint());if(stringToken.type===0){this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS){this.consumeCodePoint();return{type:22,value:stringToken.value}}}this.consumeBadUrlRemnants();return BAD_URL_TOKEN}while(true){var codePoint=this.consumeCodePoint();if(codePoint===EOF||codePoint===RIGHT_PARENTHESIS){return{type:22,value:fromCodePoint$1.apply(void 0,value)}}else if(isWhiteSpace(codePoint)){this.consumeWhiteSpace();if(this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS){this.consumeCodePoint();return{type:22,value:fromCodePoint$1.apply(void 0,value)}}this.consumeBadUrlRemnants();return BAD_URL_TOKEN}else if(codePoint===QUOTATION_MARK||codePoint===APOSTROPHE||codePoint===LEFT_PARENTHESIS||isNonPrintableCodePoint(codePoint)){this.consumeBadUrlRemnants();return BAD_URL_TOKEN}else if(codePoint===REVERSE_SOLIDUS){if(isValidEscape(codePoint,this.peekCodePoint(0))){value.push(this.consumeEscapedCodePoint())}else{this.consumeBadUrlRemnants();return BAD_URL_TOKEN}}else{value.push(codePoint)}}};Tokenizer.prototype.consumeWhiteSpace=function(){while(isWhiteSpace(this.peekCodePoint(0))){this.consumeCodePoint()}};Tokenizer.prototype.consumeBadUrlRemnants=function(){while(true){var codePoint=this.consumeCodePoint();if(codePoint===RIGHT_PARENTHESIS||codePoint===EOF){return}if(isValidEscape(codePoint,this.peekCodePoint(0))){this.consumeEscapedCodePoint()}}};Tokenizer.prototype.consumeStringSlice=function(count){var SLICE_STACK_SIZE=5e4;var value="";while(count>0){var amount=Math.min(SLICE_STACK_SIZE,count);value+=fromCodePoint$1.apply(void 0,this._value.splice(0,amount));count-=amount}this._value.shift();return value};Tokenizer.prototype.consumeStringToken=function(endingCodePoint){var value="";var i=0;do{var codePoint=this._value[i];if(codePoint===EOF||codePoint===undefined||codePoint===endingCodePoint){value+=this.consumeStringSlice(i);return{type:0,value:value}}if(codePoint===LINE_FEED){this._value.splice(0,i);return BAD_STRING_TOKEN}if(codePoint===REVERSE_SOLIDUS){var next=this._value[i+1];if(next!==EOF&&next!==undefined){if(next===LINE_FEED){value+=this.consumeStringSlice(i);i=-1;this._value.shift()}else if(isValidEscape(codePoint,next)){value+=this.consumeStringSlice(i);value+=fromCodePoint$1(this.consumeEscapedCodePoint());i=-1}}}i++}while(true)};Tokenizer.prototype.consumeNumber=function(){var repr=[];var type=FLAG_INTEGER;var c1=this.peekCodePoint(0);if(c1===PLUS_SIGN||c1===HYPHEN_MINUS){repr.push(this.consumeCodePoint())}while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint())}c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);if(c1===FULL_STOP&&isDigit(c2)){repr.push(this.consumeCodePoint(),this.consumeCodePoint());type=FLAG_NUMBER;while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint())}}c1=this.peekCodePoint(0);c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if((c1===E||c1===e)&&((c2===PLUS_SIGN||c2===HYPHEN_MINUS)&&isDigit(c3)||isDigit(c2))){repr.push(this.consumeCodePoint(),this.consumeCodePoint());type=FLAG_NUMBER;while(isDigit(this.peekCodePoint(0))){repr.push(this.consumeCodePoint())}}return[stringToNumber(repr),type]};Tokenizer.prototype.consumeNumericToken=function(){var _a=this.consumeNumber(),number=_a[0],flags=_a[1];var c1=this.peekCodePoint(0);var c2=this.peekCodePoint(1);var c3=this.peekCodePoint(2);if(isIdentifierStart(c1,c2,c3)){var unit=this.consumeName();return{type:15,number:number,flags:flags,unit:unit}}if(c1===PERCENTAGE_SIGN){this.consumeCodePoint();return{type:16,number:number,flags:flags}}return{type:17,number:number,flags:flags}};Tokenizer.prototype.consumeEscapedCodePoint=function(){var codePoint=this.consumeCodePoint();if(isHex(codePoint)){var hex=fromCodePoint$1(codePoint);while(isHex(this.peekCodePoint(0))&&hex.length<6){hex+=fromCodePoint$1(this.consumeCodePoint())}if(isWhiteSpace(this.peekCodePoint(0))){this.consumeCodePoint()}var hexCodePoint=parseInt(hex,16);if(hexCodePoint===0||isSurrogateCodePoint(hexCodePoint)||hexCodePoint>1114111){return REPLACEMENT_CHARACTER}return hexCodePoint}if(codePoint===EOF){return REPLACEMENT_CHARACTER}return codePoint};Tokenizer.prototype.consumeName=function(){var result="";while(true){var codePoint=this.consumeCodePoint();if(isNameCodePoint(codePoint)){result+=fromCodePoint$1(codePoint)}else if(isValidEscape(codePoint,this.peekCodePoint(0))){result+=fromCodePoint$1(this.consumeEscapedCodePoint())}else{this.reconsumeCodePoint(codePoint);return result}}};return Tokenizer}();var Parser=function(){function Parser(tokens){this._tokens=tokens}Parser.create=function(value){var tokenizer=new Tokenizer;tokenizer.write(value);return new Parser(tokenizer.read())};Parser.parseValue=function(value){return Parser.create(value).parseComponentValue()};Parser.parseValues=function(value){return Parser.create(value).parseComponentValues()};Parser.prototype.parseComponentValue=function(){var token=this.consumeToken();while(token.type===31){token=this.consumeToken()}if(token.type===32){throw new SyntaxError("Error parsing CSS component value, unexpected EOF")}this.reconsumeToken(token);var value=this.consumeComponentValue();do{token=this.consumeToken()}while(token.type===31);if(token.type===32){return value}throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")};Parser.prototype.parseComponentValues=function(){var values=[];while(true){var value=this.consumeComponentValue();if(value.type===32){return values}values.push(value);values.push()}};Parser.prototype.consumeComponentValue=function(){var token=this.consumeToken();switch(token.type){case 11:case 28:case 2:return this.consumeSimpleBlock(token.type);case 19:return this.consumeFunction(token)}return token};Parser.prototype.consumeSimpleBlock=function(type){var block={type:type,values:[]};var token=this.consumeToken();while(true){if(token.type===32||isEndingTokenFor(token,type)){return block}this.reconsumeToken(token);block.values.push(this.consumeComponentValue());token=this.consumeToken()}};Parser.prototype.consumeFunction=function(functionToken){var cssFunction={name:functionToken.value,values:[],type:18};while(true){var token=this.consumeToken();if(token.type===32||token.type===3){return cssFunction}this.reconsumeToken(token);cssFunction.values.push(this.consumeComponentValue())}};Parser.prototype.consumeToken=function(){var token=this._tokens.shift();return typeof token==="undefined"?EOF_TOKEN:token};Parser.prototype.reconsumeToken=function(token){this._tokens.unshift(token)};return Parser}();var isDimensionToken=function isDimensionToken(token){return token.type===15};var isNumberToken=function isNumberToken(token){return token.type===17};var isIdentToken=function isIdentToken(token){return token.type===20};var isStringToken=function isStringToken(token){return token.type===0};var isIdentWithValue=function isIdentWithValue(token,value){return isIdentToken(token)&&token.value===value};var nonWhiteSpace=function nonWhiteSpace(token){return token.type!==31};var nonFunctionArgSeparator=function nonFunctionArgSeparator(token){return token.type!==31&&token.type!==4};var parseFunctionArgs=function parseFunctionArgs(tokens){var args=[];var arg=[];tokens.forEach(function(token){if(token.type===4){if(arg.length===0){throw new Error("Error parsing function args, zero tokens for arg")}args.push(arg);arg=[];return}if(token.type!==31){arg.push(token)}});if(arg.length){args.push(arg)}return args};var isEndingTokenFor=function isEndingTokenFor(token,type){if(type===11&&token.type===12){return true}if(type===28&&token.type===29){return true}return type===2&&token.type===3};var isLength=function isLength(token){return token.type===17||token.type===15};var isLengthPercentage=function isLengthPercentage(token){return token.type===16||isLength(token)};var parseLengthPercentageTuple=function parseLengthPercentageTuple(tokens){return tokens.length>1?[tokens[0],tokens[1]]:[tokens[0]]};var ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER};var FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER};var HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER};var getAbsoluteValueForTuple=function getAbsoluteValueForTuple(tuple,width,height){var x=tuple[0],y=tuple[1];return[getAbsoluteValue(x,width),getAbsoluteValue(typeof y!=="undefined"?y:x,height)]};var getAbsoluteValue=function getAbsoluteValue(token,parent){if(token.type===16){return token.number/100*parent}if(isDimensionToken(token)){switch(token.unit){case"rem":case"em":return 16*token.number;case"px":default:return token.number}}return token.number};var DEG="deg";var GRAD="grad";var RAD="rad";var TURN="turn";var angle={name:"angle",parse:function parse(_context,value){if(value.type===15){switch(value.unit){case DEG:return Math.PI*value.number/180;case GRAD:return Math.PI/200*value.number;case RAD:return value.number;case TURN:return Math.PI*2*value.number}}throw new Error("Unsupported angle type")}};var isAngle=function isAngle(value){if(value.type===15){if(value.unit===DEG||value.unit===GRAD||value.unit===RAD||value.unit===TURN){return true}}return false};var parseNamedSide=function parseNamedSide(tokens){var sideOrCorner=tokens.filter(isIdentToken).map(function(ident){return ident.value}).join(" ");switch(sideOrCorner){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0};var deg=function deg(_deg){return Math.PI*_deg/180};var color$1={name:"color",parse:function parse(context,value){if(value.type===18){var colorFunction=SUPPORTED_COLOR_FUNCTIONS[value.name];if(typeof colorFunction==="undefined"){throw new Error('Attempting to parse an unsupported color function "'+value.name+'"')}return colorFunction(context,value.values)}if(value.type===5){if(value.value.length===3){var r=value.value.substring(0,1);var g=value.value.substring(1,2);var b=value.value.substring(2,3);return pack(parseInt(r+r,16),parseInt(g+g,16),parseInt(b+b,16),1)}if(value.value.length===4){var r=value.value.substring(0,1);var g=value.value.substring(1,2);var b=value.value.substring(2,3);var a=value.value.substring(3,4);return pack(parseInt(r+r,16),parseInt(g+g,16),parseInt(b+b,16),parseInt(a+a,16)/255)}if(value.value.length===6){var r=value.value.substring(0,2);var g=value.value.substring(2,4);var b=value.value.substring(4,6);return pack(parseInt(r,16),parseInt(g,16),parseInt(b,16),1)}if(value.value.length===8){var r=value.value.substring(0,2);var g=value.value.substring(2,4);var b=value.value.substring(4,6);var a=value.value.substring(6,8);return pack(parseInt(r,16),parseInt(g,16),parseInt(b,16),parseInt(a,16)/255)}}if(value.type===20){var namedColor=COLORS[value.value.toUpperCase()];if(typeof namedColor!=="undefined"){return namedColor}}return COLORS.TRANSPARENT}};var isTransparent=function isTransparent(color){return(255&color)===0};var asString=function asString(color){var alpha=255&color;var blue=255&color>>8;var green=255&color>>16;var red=255&color>>24;return alpha<255?"rgba("+red+","+green+","+blue+","+alpha/255+")":"rgb("+red+","+green+","+blue+")"};var pack=function pack(r,g,b,a){return(r<<24|g<<16|b<<8|Math.round(a*255)<<0)>>>0};var getTokenColorValue=function getTokenColorValue(token,i){if(token.type===17){return token.number}if(token.type===16){var max=i===3?1:255;return i===3?token.number/100*max:Math.round(token.number/100*max)}return 0};var rgb=function rgb(_context,args){var tokens=args.filter(nonFunctionArgSeparator);if(tokens.length===3){var _a=tokens.map(getTokenColorValue),r=_a[0],g=_a[1],b=_a[2];return pack(r,g,b,1)}if(tokens.length===4){var _b=tokens.map(getTokenColorValue),r=_b[0],g=_b[1],b=_b[2],a=_b[3];return pack(r,g,b,a)}return 0};function hue2rgb(t1,t2,hue){if(hue<0){hue+=1}if(hue>=1){hue-=1}if(hue<1/6){return(t2-t1)*hue*6+t1}else if(hue<1/2){return t2}else if(hue<2/3){return(t2-t1)*6*(2/3-hue)+t1}else{return t1}}var hsl=function hsl(context,args){var tokens=args.filter(nonFunctionArgSeparator);var hue=tokens[0],saturation=tokens[1],lightness=tokens[2],alpha=tokens[3];var h=(hue.type===17?deg(hue.number):angle.parse(context,hue))/(Math.PI*2);var s=isLengthPercentage(saturation)?saturation.number/100:0;var l=isLengthPercentage(lightness)?lightness.number/100:0;var a=typeof alpha!=="undefined"&&isLengthPercentage(alpha)?getAbsoluteValue(alpha,1):1;if(s===0){return pack(l*255,l*255,l*255,1)}var t2=l<=.5?l*(s+1):l+s-l*s;var t1=l*2-t2;var r=hue2rgb(t1,t2,h+1/3);var g=hue2rgb(t1,t2,h);var b=hue2rgb(t1,t2,h-1/3);return pack(r*255,g*255,b*255,a)};var SUPPORTED_COLOR_FUNCTIONS={hsl:hsl,hsla:hsl,rgb:rgb,rgba:rgb};var parseColor=function parseColor(context,value){return color$1.parse(context,Parser.create(value).parseComponentValue())};var COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};var backgroundClip={name:"background-clip",initialValue:"border-box",prefix:false,type:1,parse:function parse(_context,tokens){return tokens.map(function(token){if(isIdentToken(token)){switch(token.value){case"padding-box":return 1;case"content-box":return 2}}return 0})}};var backgroundColor={name:"background-color",initialValue:"transparent",prefix:false,type:3,format:"color"};var parseColorStop=function parseColorStop(context,args){var color=color$1.parse(context,args[0]);var stop=args[1];return stop&&isLengthPercentage(stop)?{color:color,stop:stop}:{color:color,stop:null}};var processColorStops=function processColorStops(stops,lineLength){var first=stops[0];var last=stops[stops.length-1];if(first.stop===null){first.stop=ZERO_LENGTH}if(last.stop===null){last.stop=HUNDRED_PERCENT}var processStops=[];var previous=0;for(var i=0;i<stops.length;i++){var stop_1=stops[i].stop;if(stop_1!==null){var absoluteValue=getAbsoluteValue(stop_1,lineLength);if(absoluteValue>previous){processStops.push(absoluteValue)}else{processStops.push(previous)}previous=absoluteValue}else{processStops.push(null)}}var gapBegin=null;for(var i=0;i<processStops.length;i++){var stop_2=processStops[i];if(stop_2===null){if(gapBegin===null){gapBegin=i}}else if(gapBegin!==null){var gapLength=i-gapBegin;var beforeGap=processStops[gapBegin-1];var gapValue=(stop_2-beforeGap)/(gapLength+1);for(var g=1;g<=gapLength;g++){processStops[gapBegin+g-1]=gapValue*g}gapBegin=null}}return stops.map(function(_a,i){var color=_a.color;return{color:color,stop:Math.max(Math.min(1,processStops[i]/lineLength),0)}})};var getAngleFromCorner=function getAngleFromCorner(corner,width,height){var centerX=width/2;var centerY=height/2;var x=getAbsoluteValue(corner[0],width)-centerX;var y=centerY-getAbsoluteValue(corner[1],height);return(Math.atan2(y,x)+Math.PI*2)%(Math.PI*2)};var calculateGradientDirection=function calculateGradientDirection(angle,width,height){var radian=typeof angle==="number"?angle:getAngleFromCorner(angle,width,height);var lineLength=Math.abs(width*Math.sin(radian))+Math.abs(height*Math.cos(radian));var halfWidth=width/2;var halfHeight=height/2;var halfLineLength=lineLength/2;var yDiff=Math.sin(radian-Math.PI/2)*halfLineLength;var xDiff=Math.cos(radian-Math.PI/2)*halfLineLength;return[lineLength,halfWidth-xDiff,halfWidth+xDiff,halfHeight-yDiff,halfHeight+yDiff]};var distance=function distance(a,b){return Math.sqrt(a*a+b*b)};var findCorner=function findCorner(width,height,x,y,closest){var corners=[[0,0],[0,height],[width,0],[width,height]];return corners.reduce(function(stat,corner){var cx=corner[0],cy=corner[1];var d=distance(x-cx,y-cy);if(closest?d<stat.optimumDistance:d>stat.optimumDistance){return{optimumCorner:corner,optimumDistance:d}}return stat},{optimumDistance:closest?Infinity:-Infinity,optimumCorner:null}).optimumCorner};var calculateRadius=function calculateRadius(gradient,x,y,width,height){var rx=0;var ry=0;switch(gradient.size){case 0:if(gradient.shape===0){rx=ry=Math.min(Math.abs(x),Math.abs(x-width),Math.abs(y),Math.abs(y-height))}else if(gradient.shape===1){rx=Math.min(Math.abs(x),Math.abs(x-width));ry=Math.min(Math.abs(y),Math.abs(y-height))}break;case 2:if(gradient.shape===0){rx=ry=Math.min(distance(x,y),distance(x,y-height),distance(x-width,y),distance(x-width,y-height))}else if(gradient.shape===1){var c=Math.min(Math.abs(y),Math.abs(y-height))/Math.min(Math.abs(x),Math.abs(x-width));var _a=findCorner(width,height,x,y,true),cx=_a[0],cy=_a[1];rx=distance(cx-x,(cy-y)/c);ry=c*rx}break;case 1:if(gradient.shape===0){rx=ry=Math.max(Math.abs(x),Math.abs(x-width),Math.abs(y),Math.abs(y-height))}else if(gradient.shape===1){rx=Math.max(Math.abs(x),Math.abs(x-width));ry=Math.max(Math.abs(y),Math.abs(y-height))}break;case 3:if(gradient.shape===0){rx=ry=Math.max(distance(x,y),distance(x,y-height),distance(x-width,y),distance(x-width,y-height))}else if(gradient.shape===1){var c=Math.max(Math.abs(y),Math.abs(y-height))/Math.max(Math.abs(x),Math.abs(x-width));var _b=findCorner(width,height,x,y,false),cx=_b[0],cy=_b[1];rx=distance(cx-x,(cy-y)/c);ry=c*rx}break}if(Array.isArray(gradient.size)){rx=getAbsoluteValue(gradient.size[0],width);ry=gradient.size.length===2?getAbsoluteValue(gradient.size[1],height):rx}return[rx,ry]};var linearGradient=function linearGradient(context,tokens){var angle$1=deg(180);var stops=[];parseFunctionArgs(tokens).forEach(function(arg,i){if(i===0){var firstToken=arg[0];if(firstToken.type===20&&firstToken.value==="to"){angle$1=parseNamedSide(arg);return}else if(isAngle(firstToken)){angle$1=angle.parse(context,firstToken);return}}var colorStop=parseColorStop(context,arg);stops.push(colorStop)});return{angle:angle$1,stops:stops,type:1}};var prefixLinearGradient=function prefixLinearGradient(context,tokens){var angle$1=deg(180);var stops=[];parseFunctionArgs(tokens).forEach(function(arg,i){if(i===0){var firstToken=arg[0];if(firstToken.type===20&&["top","left","right","bottom"].indexOf(firstToken.value)!==-1){angle$1=parseNamedSide(arg);return}else if(isAngle(firstToken)){angle$1=(angle.parse(context,firstToken)+deg(270))%deg(360);return}}var colorStop=parseColorStop(context,arg);stops.push(colorStop)});return{angle:angle$1,stops:stops,type:1}};var webkitGradient=function webkitGradient(context,tokens){var angle=deg(180);var stops=[];var type=1;var shape=0;var size=3;var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var firstToken=arg[0];if(i===0){if(isIdentToken(firstToken)&&firstToken.value==="linear"){type=1;return}else if(isIdentToken(firstToken)&&firstToken.value==="radial"){type=2;return}}if(firstToken.type===18){if(firstToken.name==="from"){var color=color$1.parse(context,firstToken.values[0]);stops.push({stop:ZERO_LENGTH,color:color})}else if(firstToken.name==="to"){var color=color$1.parse(context,firstToken.values[0]);stops.push({stop:HUNDRED_PERCENT,color:color})}else if(firstToken.name==="color-stop"){var values=firstToken.values.filter(nonFunctionArgSeparator);if(values.length===2){var color=color$1.parse(context,values[1]);var stop_1=values[0];if(isNumberToken(stop_1)){stops.push({stop:{type:16,number:stop_1.number*100,flags:stop_1.flags},color:color})}}}}});return type===1?{angle:(angle+deg(180))%deg(360),stops:stops,type:type}:{size:size,shape:shape,stops:stops,position:position,type:type}};var CLOSEST_SIDE="closest-side";var FARTHEST_SIDE="farthest-side";var CLOSEST_CORNER="closest-corner";var FARTHEST_CORNER="farthest-corner";var CIRCLE="circle";var ELLIPSE="ellipse";var COVER="cover";var CONTAIN="contain";var radialGradient=function radialGradient(context,tokens){var shape=0;var size=3;var stops=[];var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var isColorStop=true;if(i===0){var isAtPosition_1=false;isColorStop=arg.reduce(function(acc,token){if(isAtPosition_1){if(isIdentToken(token)){switch(token.value){case"center":position.push(FIFTY_PERCENT);return acc;case"top":case"left":position.push(ZERO_LENGTH);return acc;case"right":case"bottom":position.push(HUNDRED_PERCENT);return acc}}else if(isLengthPercentage(token)||isLength(token)){position.push(token)}}else if(isIdentToken(token)){switch(token.value){case CIRCLE:shape=0;return false;case ELLIPSE:shape=1;return false;case"at":isAtPosition_1=true;return false;case CLOSEST_SIDE:size=0;return false;case COVER:case FARTHEST_SIDE:size=1;return false;case CONTAIN:case CLOSEST_CORNER:size=2;return false;case FARTHEST_CORNER:size=3;return false}}else if(isLength(token)||isLengthPercentage(token)){if(!Array.isArray(size)){size=[]}size.push(token);return false}return acc},isColorStop)}if(isColorStop){var colorStop=parseColorStop(context,arg);stops.push(colorStop)}});return{size:size,shape:shape,stops:stops,position:position,type:2}};var prefixRadialGradient=function prefixRadialGradient(context,tokens){var shape=0;var size=3;var stops=[];var position=[];parseFunctionArgs(tokens).forEach(function(arg,i){var isColorStop=true;if(i===0){isColorStop=arg.reduce(function(acc,token){if(isIdentToken(token)){switch(token.value){case"center":position.push(FIFTY_PERCENT);return false;case"top":case"left":position.push(ZERO_LENGTH);return false;case"right":case"bottom":position.push(HUNDRED_PERCENT);return false}}else if(isLengthPercentage(token)||isLength(token)){position.push(token);return false}return acc},isColorStop)}else if(i===1){isColorStop=arg.reduce(function(acc,token){if(isIdentToken(token)){switch(token.value){case CIRCLE:shape=0;return false;case ELLIPSE:shape=1;return false;case CONTAIN:case CLOSEST_SIDE:size=0;return false;case FARTHEST_SIDE:size=1;return false;case CLOSEST_CORNER:size=2;return false;case COVER:case FARTHEST_CORNER:size=3;return false}}else if(isLength(token)||isLengthPercentage(token)){if(!Array.isArray(size)){size=[]}size.push(token);return false}return acc},isColorStop)}if(isColorStop){var colorStop=parseColorStop(context,arg);stops.push(colorStop)}});return{size:size,shape:shape,stops:stops,position:position,type:2}};var isLinearGradient=function isLinearGradient(background){return background.type===1};var isRadialGradient=function isRadialGradient(background){return background.type===2};var image={name:"image",parse:function parse(context,value){if(value.type===22){var image_1={url:value.value,type:0};context.cache.addImage(value.value);return image_1}if(value.type===18){var imageFunction=SUPPORTED_IMAGE_FUNCTIONS[value.name];if(typeof imageFunction==="undefined"){throw new Error('Attempting to parse an unsupported image function "'+value.name+'"')}return imageFunction(context,value.values)}throw new Error("Unsupported image type "+value.type)}};function isSupportedImage(value){return!(value.type===20&&value.value==="none")&&(value.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[value.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient};var backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:false,parse:function parse(context,tokens){if(tokens.length===0){return[]}var first=tokens[0];if(first.type===20&&first.value==="none"){return[]}return tokens.filter(function(value){return nonFunctionArgSeparator(value)&&isSupportedImage(value)}).map(function(value){return image.parse(context,value)})}};var backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:false,type:1,parse:function parse(_context,tokens){return tokens.map(function(token){if(isIdentToken(token)){switch(token.value){case"padding-box":return 1;case"content-box":return 2}}return 0})}};var backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:false,parse:function parse(_context,tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}};var backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:false,type:1,parse:function parse(_context,tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isIdentToken).map(function(token){return token.value}).join(" ")}).map(parseBackgroundRepeat)}};var parseBackgroundRepeat=function parseBackgroundRepeat(value){switch(value){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};var BACKGROUND_SIZE;(function(BACKGROUND_SIZE){BACKGROUND_SIZE["AUTO"]="auto";BACKGROUND_SIZE["CONTAIN"]="contain";BACKGROUND_SIZE["COVER"]="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:false,type:1,parse:function parse(_context,tokens){return parseFunctionArgs(tokens).map(function(values){return values.filter(isBackgroundSizeInfoToken)})}};var isBackgroundSizeInfoToken=function isBackgroundSizeInfoToken(value){return isIdentToken(value)||isLengthPercentage(value)};var borderColorForSide=function borderColorForSide(side){return{name:"border-"+side+"-color",initialValue:"transparent",prefix:false,type:3,format:"color"}};var borderTopColor=borderColorForSide("top");var borderRightColor=borderColorForSide("right");var borderBottomColor=borderColorForSide("bottom");var borderLeftColor=borderColorForSide("left");var borderRadiusForSide=function borderRadiusForSide(side){return{name:"border-radius-"+side,initialValue:"0 0",prefix:false,type:1,parse:function parse(_context,tokens){return parseLengthPercentageTuple(tokens.filter(isLengthPercentage))}}};var borderTopLeftRadius=borderRadiusForSide("top-left");var borderTopRightRadius=borderRadiusForSide("top-right");var borderBottomRightRadius=borderRadiusForSide("bottom-right");var borderBottomLeftRadius=borderRadiusForSide("bottom-left");var borderStyleForSide=function borderStyleForSide(side){return{name:"border-"+side+"-style",initialValue:"solid",prefix:false,type:2,parse:function parse(_context,style){switch(style){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}};var borderTopStyle=borderStyleForSide("top");var borderRightStyle=borderStyleForSide("right");var borderBottomStyle=borderStyleForSide("bottom");var borderLeftStyle=borderStyleForSide("left");var borderWidthForSide=function borderWidthForSide(side){return{name:"border-"+side+"-width",initialValue:"0",type:0,prefix:false,parse:function parse(_context,token){if(isDimensionToken(token)){return token.number}return 0}}};var borderTopWidth=borderWidthForSide("top");var borderRightWidth=borderWidthForSide("right");var borderBottomWidth=borderWidthForSide("bottom");var borderLeftWidth=borderWidthForSide("left");var color={name:"color",initialValue:"transparent",prefix:false,type:3,format:"color"};var direction={name:"direction",initialValue:"ltr",prefix:false,type:2,parse:function parse(_context,direction){switch(direction){case"rtl":return 1;case"ltr":default:return 0}}};var display={name:"display",initialValue:"inline-block",prefix:false,type:1,parse:function parse(_context,tokens){return tokens.filter(isIdentToken).reduce(function(bit,token){return bit|parseDisplayValue(token.value)},0)}};var parseDisplayValue=function parseDisplayValue(display){switch(display){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};var float={name:"float",initialValue:"none",prefix:false,type:2,parse:function parse(_context,float){switch(float){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}};var letterSpacing={name:"letter-spacing",initialValue:"0",prefix:false,type:0,parse:function parse(_context,token){if(token.type===20&&token.value==="normal"){return 0}if(token.type===17){return token.number}if(token.type===15){return token.number}return 0}};var LINE_BREAK;(function(LINE_BREAK){LINE_BREAK["NORMAL"]="normal";LINE_BREAK["STRICT"]="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:false,type:2,parse:function parse(_context,lineBreak){switch(lineBreak){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}};var lineHeight={name:"line-height",initialValue:"normal",prefix:false,type:4};var computeLineHeight=function computeLineHeight(token,fontSize){if(isIdentToken(token)&&token.value==="normal"){return 1.2*fontSize}else if(token.type===17){return fontSize*token.number}else if(isLengthPercentage(token)){return getAbsoluteValue(token,fontSize)}return fontSize};var listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:false,parse:function parse(context,token){if(token.type===20&&token.value==="none"){return null}return image.parse(context,token)}};var listStylePosition={name:"list-style-position",initialValue:"outside",prefix:false,type:2,parse:function parse(_context,position){switch(position){case"inside":return 0;case"outside":default:return 1}}};var listStyleType={name:"list-style-type",initialValue:"none",prefix:false,type:2,parse:function parse(_context,type){switch(type){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}};var marginForSide=function marginForSide(side){return{name:"margin-"+side,initialValue:"0",prefix:false,type:4}};var marginTop=marginForSide("top");var marginRight=marginForSide("right");var marginBottom=marginForSide("bottom");var marginLeft=marginForSide("left");var overflow={name:"overflow",initialValue:"visible",prefix:false,type:1,parse:function parse(_context,tokens){return tokens.filter(isIdentToken).map(function(overflow){switch(overflow.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}};var overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:false,type:2,parse:function parse(_context,overflow){switch(overflow){case"break-word":return"break-word";case"normal":default:return"normal"}}};var paddingForSide=function paddingForSide(side){return{name:"padding-"+side,initialValue:"0",prefix:false,type:3,format:"length-percentage"}};var paddingTop=paddingForSide("top");var paddingRight=paddingForSide("right");var paddingBottom=paddingForSide("bottom");var paddingLeft=paddingForSide("left");var textAlign={name:"text-align",initialValue:"left",prefix:false,type:2,parse:function parse(_context,textAlign){switch(textAlign){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}};var position={name:"position",initialValue:"static",prefix:false,type:2,parse:function parse(_context,position){switch(position){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}};var textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:false,parse:function parse(context,tokens){if(tokens.length===1&&isIdentWithValue(tokens[0],"none")){return[]}return parseFunctionArgs(tokens).map(function(values){var shadow={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH};var c=0;for(var i=0;i<values.length;i++){var token=values[i];if(isLength(token)){if(c===0){shadow.offsetX=token}else if(c===1){shadow.offsetY=token}else{shadow.blur=token}c++}else{shadow.color=color$1.parse(context,token)}}return shadow})}};var textTransform={name:"text-transform",initialValue:"none",prefix:false,type:2,parse:function parse(_context,textTransform){switch(textTransform){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}};var transform$1={name:"transform",initialValue:"none",prefix:true,type:0,parse:function parse(_context,token){if(token.type===20&&token.value==="none"){return null}if(token.type===18){var transformFunction=SUPPORTED_TRANSFORM_FUNCTIONS[token.name];if(typeof transformFunction==="undefined"){throw new Error('Attempting to parse an unsupported transform function "'+token.name+'"')}return transformFunction(token.values)}return null}};var matrix=function matrix(args){var values=args.filter(function(arg){return arg.type===17}).map(function(arg){return arg.number});return values.length===6?values:null};var matrix3d=function matrix3d(args){var values=args.filter(function(arg){return arg.type===17}).map(function(arg){return arg.number});var a1=values[0],b1=values[1];values[2];values[3];var a2=values[4],b2=values[5];values[6];values[7];values[8];values[9];values[10];values[11];var a4=values[12],b4=values[13];values[14];values[15];return values.length===16?[a1,b1,a2,b2,a4,b4]:null};var SUPPORTED_TRANSFORM_FUNCTIONS={matrix:matrix,matrix3d:matrix3d};var DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER};var DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE];var transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:true,type:1,parse:function parse(_context,tokens){var origins=tokens.filter(isLengthPercentage);if(origins.length!==2){return DEFAULT}return[origins[0],origins[1]]}};var visibility={name:"visible",initialValue:"none",prefix:false,type:2,parse:function parse(_context,visibility){switch(visibility){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};var WORD_BREAK;(function(WORD_BREAK){WORD_BREAK["NORMAL"]="normal";WORD_BREAK["BREAK_ALL"]="break-all";WORD_BREAK["KEEP_ALL"]="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:false,type:2,parse:function parse(_context,wordBreak){switch(wordBreak){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}};var zIndex={name:"z-index",initialValue:"auto",prefix:false,type:0,parse:function parse(_context,token){if(token.type===20){return{auto:true,order:0}}if(isNumberToken(token)){return{auto:false,order:token.number}}throw new Error("Invalid z-index number parsed")}};var time={name:"time",parse:function parse(_context,value){if(value.type===15){switch(value.unit.toLowerCase()){case"s":return 1e3*value.number;case"ms":return value.number}}throw new Error("Unsupported time type")}};var opacity={name:"opacity",initialValue:"1",type:0,prefix:false,parse:function parse(_context,token){if(isNumberToken(token)){return token.number}return 1}};var textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:false,type:3,format:"color"};var textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:false,type:1,parse:function parse(_context,tokens){return tokens.filter(isIdentToken).map(function(token){switch(token.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(line){return line!==0})}};var fontFamily={name:"font-family",initialValue:"",prefix:false,type:1,parse:function parse(_context,tokens){var accumulator=[];var results=[];tokens.forEach(function(token){switch(token.type){case 20:case 0:accumulator.push(token.value);break;case 17:accumulator.push(token.number.toString());break;case 4:results.push(accumulator.join(" "));accumulator.length=0;break}});if(accumulator.length){results.push(accumulator.join(" "))}return results.map(function(result){return result.indexOf(" ")===-1?result:"'"+result+"'"})}};var fontSize={name:"font-size",initialValue:"0",prefix:false,type:3,format:"length"};var fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:false,parse:function parse(_context,token){if(isNumberToken(token)){return token.number}if(isIdentToken(token)){switch(token.value){case"bold":return 700;case"normal":default:return 400}}return 400}};var fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:false,parse:function parse(_context,tokens){return tokens.filter(isIdentToken).map(function(token){return token.value})}};var fontStyle={name:"font-style",initialValue:"normal",prefix:false,type:2,parse:function parse(_context,overflow){switch(overflow){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}};var contains=function contains(bit,value){return(bit&value)!==0};var content={name:"content",initialValue:"none",type:1,prefix:false,parse:function parse(_context,tokens){if(tokens.length===0){return[]}var first=tokens[0];if(first.type===20&&first.value==="none"){return[]}return tokens}};var counterIncrement={name:"counter-increment",initialValue:"none",prefix:true,type:1,parse:function parse(_context,tokens){if(tokens.length===0){return null}var first=tokens[0];if(first.type===20&&first.value==="none"){return null}var increments=[];var filtered=tokens.filter(nonWhiteSpace);for(var i=0;i<filtered.length;i++){var counter=filtered[i];var next=filtered[i+1];if(counter.type===20){var increment=next&&isNumberToken(next)?next.number:1;increments.push({counter:counter.value,increment:increment})}}return increments}};var counterReset={name:"counter-reset",initialValue:"none",prefix:true,type:1,parse:function parse(_context,tokens){if(tokens.length===0){return[]}var resets=[];var filtered=tokens.filter(nonWhiteSpace);for(var i=0;i<filtered.length;i++){var counter=filtered[i];var next=filtered[i+1];if(isIdentToken(counter)&&counter.value!=="none"){var reset=next&&isNumberToken(next)?next.number:0;resets.push({counter:counter.value,reset:reset})}}return resets}};var duration={name:"duration",initialValue:"0s",prefix:false,type:1,parse:function parse(context,tokens){return tokens.filter(isDimensionToken).map(function(token){return time.parse(context,token)})}};var quotes={name:"quotes",initialValue:"none",prefix:true,type:1,parse:function parse(_context,tokens){if(tokens.length===0){return null}var first=tokens[0];if(first.type===20&&first.value==="none"){return null}var quotes=[];var filtered=tokens.filter(isStringToken);if(filtered.length%2!==0){return null}for(var i=0;i<filtered.length;i+=2){var open_1=filtered[i].value;var close_1=filtered[i+1].value;quotes.push({open:open_1,close:close_1})}return quotes}};var getQuote=function getQuote(quotes,depth,open){if(!quotes){return""}var quote=quotes[Math.min(depth,quotes.length-1)];if(!quote){return""}return open?quote.open:quote.close};var boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:false,parse:function parse(context,tokens){if(tokens.length===1&&isIdentWithValue(tokens[0],"none")){return[]}return parseFunctionArgs(tokens).map(function(values){var shadow={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:false};var c=0;for(var i=0;i<values.length;i++){var token=values[i];if(isIdentWithValue(token,"inset")){shadow.inset=true}else if(isLength(token)){if(c===0){shadow.offsetX=token}else if(c===1){shadow.offsetY=token}else if(c===2){shadow.blur=token}else{shadow.spread=token}c++}else{shadow.color=color$1.parse(context,token)}}return shadow})}};var paintOrder={name:"paint-order",initialValue:"normal",prefix:false,type:1,parse:function parse(_context,tokens){var DEFAULT_VALUE=[0,1,2];var layers=[];tokens.filter(isIdentToken).forEach(function(token){switch(token.value){case"stroke":layers.push(1);break;case"fill":layers.push(0);break;case"markers":layers.push(2);break}});DEFAULT_VALUE.forEach(function(value){if(layers.indexOf(value)===-1){layers.push(value)}});return layers}};var webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:false,type:3,format:"color"};var webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:false,parse:function parse(_context,token){if(isDimensionToken(token)){return token.number}return 0}};var CSSParsedDeclaration=function(){function CSSParsedDeclaration(context,declaration){var _a,_b;this.animationDuration=parse(context,duration,declaration.animationDuration);this.backgroundClip=parse(context,backgroundClip,declaration.backgroundClip);this.backgroundColor=parse(context,backgroundColor,declaration.backgroundColor);this.backgroundImage=parse(context,backgroundImage,declaration.backgroundImage);this.backgroundOrigin=parse(context,backgroundOrigin,declaration.backgroundOrigin);this.backgroundPosition=parse(context,backgroundPosition,declaration.backgroundPosition);this.backgroundRepeat=parse(context,backgroundRepeat,declaration.backgroundRepeat);this.backgroundSize=parse(context,backgroundSize,declaration.backgroundSize);this.borderTopColor=parse(context,borderTopColor,declaration.borderTopColor);this.borderRightColor=parse(context,borderRightColor,declaration.borderRightColor);this.borderBottomColor=parse(context,borderBottomColor,declaration.borderBottomColor);this.borderLeftColor=parse(context,borderLeftColor,declaration.borderLeftColor);this.borderTopLeftRadius=parse(context,borderTopLeftRadius,declaration.borderTopLeftRadius);this.borderTopRightRadius=parse(context,borderTopRightRadius,declaration.borderTopRightRadius);this.borderBottomRightRadius=parse(context,borderBottomRightRadius,declaration.borderBottomRightRadius);this.borderBottomLeftRadius=parse(context,borderBottomLeftRadius,declaration.borderBottomLeftRadius);this.borderTopStyle=parse(context,borderTopStyle,declaration.borderTopStyle);this.borderRightStyle=parse(context,borderRightStyle,declaration.borderRightStyle);this.borderBottomStyle=parse(context,borderBottomStyle,declaration.borderBottomStyle);this.borderLeftStyle=parse(context,borderLeftStyle,declaration.borderLeftStyle);this.borderTopWidth=parse(context,borderTopWidth,declaration.borderTopWidth);this.borderRightWidth=parse(context,borderRightWidth,declaration.borderRightWidth);this.borderBottomWidth=parse(context,borderBottomWidth,declaration.borderBottomWidth);this.borderLeftWidth=parse(context,borderLeftWidth,declaration.borderLeftWidth);this.boxShadow=parse(context,boxShadow,declaration.boxShadow);this.color=parse(context,color,declaration.color);this.direction=parse(context,direction,declaration.direction);this.display=parse(context,display,declaration.display);this.float=parse(context,float,declaration.cssFloat);this.fontFamily=parse(context,fontFamily,declaration.fontFamily);this.fontSize=parse(context,fontSize,declaration.fontSize);this.fontStyle=parse(context,fontStyle,declaration.fontStyle);this.fontVariant=parse(context,fontVariant,declaration.fontVariant);this.fontWeight=parse(context,fontWeight,declaration.fontWeight);this.letterSpacing=parse(context,letterSpacing,declaration.letterSpacing);this.lineBreak=parse(context,lineBreak,declaration.lineBreak);this.lineHeight=parse(context,lineHeight,declaration.lineHeight);this.listStyleImage=parse(context,listStyleImage,declaration.listStyleImage);this.listStylePosition=parse(context,listStylePosition,declaration.listStylePosition);this.listStyleType=parse(context,listStyleType,declaration.listStyleType);this.marginTop=parse(context,marginTop,declaration.marginTop);this.marginRight=parse(context,marginRight,declaration.marginRight);this.marginBottom=parse(context,marginBottom,declaration.marginBottom);this.marginLeft=parse(context,marginLeft,declaration.marginLeft);this.opacity=parse(context,opacity,declaration.opacity);var overflowTuple=parse(context,overflow,declaration.overflow);this.overflowX=overflowTuple[0];this.overflowY=overflowTuple[overflowTuple.length>1?1:0];this.overflowWrap=parse(context,overflowWrap,declaration.overflowWrap);this.paddingTop=parse(context,paddingTop,declaration.paddingTop);this.paddingRight=parse(context,paddingRight,declaration.paddingRight);this.paddingBottom=parse(context,paddingBottom,declaration.paddingBottom);this.paddingLeft=parse(context,paddingLeft,declaration.paddingLeft);this.paintOrder=parse(context,paintOrder,declaration.paintOrder);this.position=parse(context,position,declaration.position);this.textAlign=parse(context,textAlign,declaration.textAlign);this.textDecorationColor=parse(context,textDecorationColor,(_a=declaration.textDecorationColor)!==null&&_a!==void 0?_a:declaration.color);this.textDecorationLine=parse(context,textDecorationLine,(_b=declaration.textDecorationLine)!==null&&_b!==void 0?_b:declaration.textDecoration);this.textShadow=parse(context,textShadow,declaration.textShadow);this.textTransform=parse(context,textTransform,declaration.textTransform);this.transform=parse(context,transform$1,declaration.transform);this.transformOrigin=parse(context,transformOrigin,declaration.transformOrigin);this.visibility=parse(context,visibility,declaration.visibility);this.webkitTextStrokeColor=parse(context,webkitTextStrokeColor,declaration.webkitTextStrokeColor);this.webkitTextStrokeWidth=parse(context,webkitTextStrokeWidth,declaration.webkitTextStrokeWidth);this.wordBreak=parse(context,wordBreak,declaration.wordBreak);this.zIndex=parse(context,zIndex,declaration.zIndex)}CSSParsedDeclaration.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0};CSSParsedDeclaration.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)};CSSParsedDeclaration.prototype.isTransformed=function(){return this.transform!==null};CSSParsedDeclaration.prototype.isPositioned=function(){return this.position!==0};CSSParsedDeclaration.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto};CSSParsedDeclaration.prototype.isFloating=function(){return this.float!==0};CSSParsedDeclaration.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)};return CSSParsedDeclaration}();var CSSParsedPseudoDeclaration=function(){function CSSParsedPseudoDeclaration(context,declaration){this.content=parse(context,content,declaration.content);this.quotes=parse(context,quotes,declaration.quotes)}return CSSParsedPseudoDeclaration}();var CSSParsedCounterDeclaration=function(){function CSSParsedCounterDeclaration(context,declaration){this.counterIncrement=parse(context,counterIncrement,declaration.counterIncrement);this.counterReset=parse(context,counterReset,declaration.counterReset)}return CSSParsedCounterDeclaration}();var parse=function parse(context,descriptor,style){var tokenizer=new Tokenizer;var value=style!==null&&typeof style!=="undefined"?style.toString():descriptor.initialValue;tokenizer.write(value);var parser=new Parser(tokenizer.read());switch(descriptor.type){case 2:var token=parser.parseComponentValue();return descriptor.parse(context,isIdentToken(token)?token.value:descriptor.initialValue);case 0:return descriptor.parse(context,parser.parseComponentValue());case 1:return descriptor.parse(context,parser.parseComponentValues());case 4:return parser.parseComponentValue();case 3:switch(descriptor.format){case"angle":return angle.parse(context,parser.parseComponentValue());case"color":return color$1.parse(context,parser.parseComponentValue());case"image":return image.parse(context,parser.parseComponentValue());case"length":var length_1=parser.parseComponentValue();return isLength(length_1)?length_1:ZERO_LENGTH;case"length-percentage":var value_1=parser.parseComponentValue();return isLengthPercentage(value_1)?value_1:ZERO_LENGTH;case"time":return time.parse(context,parser.parseComponentValue())}break}};var elementDebuggerAttribute="data-html2canvas-debug";var getElementDebugType=function getElementDebugType(element){var attribute=element.getAttribute(elementDebuggerAttribute);switch(attribute){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}};var isDebugging=function isDebugging(element,type){var elementType=getElementDebugType(element);return elementType===1||type===elementType};var ElementContainer=function(){function ElementContainer(context,element){this.context=context;this.textNodes=[];this.elements=[];this.flags=0;if(isDebugging(element,3)){debugger}this.styles=new CSSParsedDeclaration(context,window.getComputedStyle(element,null));if(isHTMLElementNode(element)){if(this.styles.animationDuration.some(function(duration){return duration>0})){element.style.animationDuration="0s"}if(this.styles.transform!==null){element.style.transform="none"}}this.bounds=parseBounds(this.context,element);if(isDebugging(element,4)){this.flags|=16}}return ElementContainer}();var base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=";var chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var lookup$1=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++){lookup$1[chars$1.charCodeAt(i$1)]=i$1}var decode=function decode(base64){var bufferLength=base64.length*.75,len=base64.length,i,p=0,encoded1,encoded2,encoded3,encoded4;if(base64[base64.length-1]==="="){bufferLength--;if(base64[base64.length-2]==="="){bufferLength--}}var buffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&typeof Uint8Array.prototype.slice!=="undefined"?new ArrayBuffer(bufferLength):new Array(bufferLength);var bytes=Array.isArray(buffer)?buffer:new Uint8Array(buffer);for(i=0;i<len;i+=4){encoded1=lookup$1[base64.charCodeAt(i)];encoded2=lookup$1[base64.charCodeAt(i+1)];encoded3=lookup$1[base64.charCodeAt(i+2)];encoded4=lookup$1[base64.charCodeAt(i+3)];bytes[p++]=encoded1<<2|encoded2>>4;bytes[p++]=(encoded2&15)<<4|encoded3>>2;bytes[p++]=(encoded3&3)<<6|encoded4&63}return buffer};var polyUint16Array=function polyUint16Array(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=2){bytes.push(buffer[i+1]<<8|buffer[i])}return bytes};var polyUint32Array=function polyUint32Array(buffer){var length=buffer.length;var bytes=[];for(var i=0;i<length;i+=4){bytes.push(buffer[i+3]<<24|buffer[i+2]<<16|buffer[i+1]<<8|buffer[i])}return bytes};var UTRIE2_SHIFT_2=5;var UTRIE2_SHIFT_1=6+5;var UTRIE2_INDEX_SHIFT=2;var UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2;var UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2;var UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2;var UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1;var UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2;var UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH;var UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH;var UTRIE2_UTF8_2B_INDEX_2_LENGTH=2048>>6;var UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH;var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1;var UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2;var UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1;var slice16=function slice16(view,start,end){if(view.slice){return view.slice(start,end)}return new Uint16Array(Array.prototype.slice.call(view,start,end))};var slice32=function slice32(view,start,end){if(view.slice){return view.slice(start,end)}return new Uint32Array(Array.prototype.slice.call(view,start,end))};var createTrieFromBase64=function createTrieFromBase64(base64,_byteLength){var buffer=decode(base64);var view32=Array.isArray(buffer)?polyUint32Array(buffer):new Uint32Array(buffer);var view16=Array.isArray(buffer)?polyUint16Array(buffer):new Uint16Array(buffer);var headerLength=24;var index=slice16(view16,headerLength/2,view32[4]/2);var data=view32[5]===2?slice16(view16,(headerLength+view32[4])/2):slice32(view32,Math.ceil((headerLength+view32[4])/4));return new Trie(view32[0],view32[1],view32[2],view32[3],index,data)};var Trie=function(){function Trie(initialValue,errorValue,highStart,highValueIndex,index,data){this.initialValue=initialValue;this.errorValue=errorValue;this.highStart=highStart;this.highValueIndex=highValueIndex;this.index=index;this.data=data}Trie.prototype.get=function(codePoint){var ix;if(codePoint>=0){if(codePoint<55296||codePoint>56319&&codePoint<=65535){ix=this.index[codePoint>>UTRIE2_SHIFT_2];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix]}if(codePoint<=65535){ix=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(codePoint-55296>>UTRIE2_SHIFT_2)];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix]}if(codePoint<this.highStart){ix=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(codePoint>>UTRIE2_SHIFT_1);ix=this.index[ix];ix+=codePoint>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK;ix=this.index[ix];ix=(ix<<UTRIE2_INDEX_SHIFT)+(codePoint&UTRIE2_DATA_MASK);return this.data[ix]}if(codePoint<=1114111){return this.data[this.highValueIndex]}}return this.errorValue};return Trie}();var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var lookup=typeof Uint8Array==="undefined"?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++){lookup[chars.charCodeAt(i)]=i}var Prepend=1;var CR=2;var LF=3;var Control=4;var Extend=5;var SpacingMark=7;var L=8;var V=9;var T=10;var LV=11;var LVT=12;var ZWJ=13;var Extended_Pictographic=14;var RI=15;var toCodePoints=function toCodePoints(str){var codePoints=[];var i=0;var length=str.length;while(i<length){var value=str.charCodeAt(i++);if(value>=55296&&value<=56319&&i<length){var extra=str.charCodeAt(i++);if((extra&64512)===56320){codePoints.push(((value&1023)<<10)+(extra&1023)+65536)}else{codePoints.push(value);i--}}else{codePoints.push(value)}}return codePoints};var fromCodePoint=function fromCodePoint(){var codePoints=[];for(var _i=0;_i<arguments.length;_i++){codePoints[_i]=arguments[_i]}if(String.fromCodePoint){return String.fromCodePoint.apply(String,codePoints)}var length=codePoints.length;if(!length){return""}var codeUnits=[];var index=-1;var result="";while(++index<length){var codePoint=codePoints[index];if(codePoint<=65535){codeUnits.push(codePoint)}else{codePoint-=65536;codeUnits.push((codePoint>>10)+55296,codePoint%1024+56320)}if(index+1===length||codeUnits.length>16384){result+=String.fromCharCode.apply(String,codeUnits);codeUnits.length=0}}return result};var UnicodeTrie=createTrieFromBase64(base64);var BREAK_NOT_ALLOWED="×";var BREAK_ALLOWED="÷";var codePointToClass=function codePointToClass(codePoint){return UnicodeTrie.get(codePoint)};var _graphemeBreakAtIndex=function _graphemeBreakAtIndex(_codePoints,classTypes,index){var prevIndex=index-2;var prev=classTypes[prevIndex];var current=classTypes[index-1];var next=classTypes[index];if(current===CR&&next===LF){return BREAK_NOT_ALLOWED}if(current===CR||current===LF||current===Control){return BREAK_ALLOWED}if(next===CR||next===LF||next===Control){return BREAK_ALLOWED}if(current===L&&[L,V,LV,LVT].indexOf(next)!==-1){return BREAK_NOT_ALLOWED}if((current===LV||current===V)&&(next===V||next===T)){return BREAK_NOT_ALLOWED}if((current===LVT||current===T)&&next===T){return BREAK_NOT_ALLOWED}if(next===ZWJ||next===Extend){return BREAK_NOT_ALLOWED}if(next===SpacingMark){return BREAK_NOT_ALLOWED}if(current===Prepend){return BREAK_NOT_ALLOWED}if(current===ZWJ&&next===Extended_Pictographic){while(prev===Extend){prev=classTypes[--prevIndex]}if(prev===Extended_Pictographic){return BREAK_NOT_ALLOWED}}if(current===RI&&next===RI){var countRI=0;while(prev===RI){countRI++;prev=classTypes[--prevIndex]}if(countRI%2===0){return BREAK_NOT_ALLOWED}}return BREAK_ALLOWED};var GraphemeBreaker=function GraphemeBreaker(str){var codePoints=toCodePoints(str);var length=codePoints.length;var index=0;var lastEnd=0;var classTypes=codePoints.map(codePointToClass);return{next:function next(){if(index>=length){return{done:true,value:null}}var graphemeBreak=BREAK_NOT_ALLOWED;while(index<length&&(graphemeBreak=_graphemeBreakAtIndex(codePoints,classTypes,++index))===BREAK_NOT_ALLOWED){}if(graphemeBreak!==BREAK_NOT_ALLOWED||index===length){var value=fromCodePoint.apply(null,codePoints.slice(lastEnd,index));lastEnd=index;return{value:value,done:false}}return{done:true,value:null}}}};var splitGraphemes=function splitGraphemes(str){var breaker=GraphemeBreaker(str);var graphemes=[];var bk;while(!(bk=breaker.next()).done){if(bk.value){graphemes.push(bk.value.slice())}}return graphemes};var testRangeBounds=function testRangeBounds(document){var TEST_HEIGHT=123;if(document.createRange){var range=document.createRange();if(range.getBoundingClientRect){var testElement=document.createElement("boundtest");testElement.style.height=TEST_HEIGHT+"px";testElement.style.display="block";document.body.appendChild(testElement);range.selectNode(testElement);var rangeBounds=range.getBoundingClientRect();var rangeHeight=Math.round(rangeBounds.height);document.body.removeChild(testElement);if(rangeHeight===TEST_HEIGHT){return true}}}return false};var testIOSLineBreak=function testIOSLineBreak(document){var testElement=document.createElement("boundtest");testElement.style.width="50px";testElement.style.display="block";testElement.style.fontSize="12px";testElement.style.letterSpacing="0px";testElement.style.wordSpacing="0px";document.body.appendChild(testElement);var range=document.createRange();testElement.innerHTML=typeof"".repeat==="function"?"&#128104;".repeat(10):"";var node=testElement.firstChild;var textList=toCodePoints$1(node.data).map(function(i){return fromCodePoint$1(i)});var offset=0;var prev={};var supports=textList.every(function(text,i){range.setStart(node,offset);range.setEnd(node,offset+text.length);var rect=range.getBoundingClientRect();offset+=text.length;var boundAhead=rect.x>prev.x||rect.y>prev.y;prev=rect;if(i===0){return true}return boundAhead});document.body.removeChild(testElement);return supports};var testCORS=function testCORS(){return typeof(new Image).crossOrigin!=="undefined"};var testResponseType=function testResponseType(){return typeof(new XMLHttpRequest).responseType==="string"};var testSVG=function testSVG(document){var img=new Image;var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");if(!ctx){return false}img.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{ctx.drawImage(img,0,0);canvas.toDataURL()}catch(e){return false}return true};var isGreenPixel=function isGreenPixel(data){return data[0]===0&&data[1]===255&&data[2]===0&&data[3]===255};var testForeignObject=function testForeignObject(document){var canvas=document.createElement("canvas");var size=100;canvas.width=size;canvas.height=size;var ctx=canvas.getContext("2d");if(!ctx){return Promise.reject(false)}ctx.fillStyle="rgb(0, 255, 0)";ctx.fillRect(0,0,size,size);var img=new Image;var greenImageSrc=canvas.toDataURL();img.src=greenImageSrc;var svg=createForeignObjectSVG(size,size,0,0,img);ctx.fillStyle="red";ctx.fillRect(0,0,size,size);return loadSerializedSVG$1(svg).then(function(img){ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,size,size).data;ctx.fillStyle="red";ctx.fillRect(0,0,size,size);var node=document.createElement("div");node.style.backgroundImage="url("+greenImageSrc+")";node.style.height=size+"px";return isGreenPixel(data)?loadSerializedSVG$1(createForeignObjectSVG(size,size,0,0,node)):Promise.reject(false)}).then(function(img){ctx.drawImage(img,0,0);return isGreenPixel(ctx.getImageData(0,0,size,size).data)}).catch(function(){return false})};var createForeignObjectSVG=function createForeignObjectSVG(width,height,x,y,node){var xmlns="http://www.w3.org/2000/svg";var svg=document.createElementNS(xmlns,"svg");var foreignObject=document.createElementNS(xmlns,"foreignObject");svg.setAttributeNS(null,"width",width.toString());svg.setAttributeNS(null,"height",height.toString());foreignObject.setAttributeNS(null,"width","100%");foreignObject.setAttributeNS(null,"height","100%");foreignObject.setAttributeNS(null,"x",x.toString());foreignObject.setAttributeNS(null,"y",y.toString());foreignObject.setAttributeNS(null,"externalResourcesRequired","true");svg.appendChild(foreignObject);foreignObject.appendChild(node);return svg};var loadSerializedSVG$1=function loadSerializedSVG$1(svg){return new Promise(function(resolve,reject){var img=new Image;img.onload=function(){return resolve(img)};img.onerror=reject;img.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(svg))})};var FEATURES={get SUPPORT_RANGE_BOUNDS(){var value=testRangeBounds(document);Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:value});return value},get SUPPORT_WORD_BREAKING(){var value=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:value});return value},get SUPPORT_SVG_DRAWING(){var value=testSVG(document);Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:value});return value},get SUPPORT_FOREIGNOBJECT_DRAWING(){var value=typeof Array.from==="function"&&typeof window.fetch==="function"?testForeignObject(document):Promise.resolve(false);Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:value});return value},get SUPPORT_CORS_IMAGES(){var value=testCORS();Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:value});return value},get SUPPORT_RESPONSE_TYPE(){var value=testResponseType();Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:value});return value},get SUPPORT_CORS_XHR(){var value="withCredentials"in new XMLHttpRequest;Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:value});return value},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var value=!!(typeof Intl!=="undefined"&&Intl.Segmenter);Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:value});return value}};var TextBounds=function(){function TextBounds(text,bounds){this.text=text;this.bounds=bounds}return TextBounds}();var parseTextBounds=function parseTextBounds(context,value,styles,node){var textList=breakText(value,styles);var textBounds=[];var offset=0;textList.forEach(function(text){if(styles.textDecorationLine.length||text.trim().length>0){if(FEATURES.SUPPORT_RANGE_BOUNDS){var clientRects=createRange(node,offset,text.length).getClientRects();if(clientRects.length>1){var subSegments=segmentGraphemes(text);var subOffset_1=0;subSegments.forEach(function(subSegment){textBounds.push(new TextBounds(subSegment,Bounds.fromDOMRectList(context,createRange(node,subOffset_1+offset,subSegment.length).getClientRects())));subOffset_1+=subSegment.length})}else{textBounds.push(new TextBounds(text,Bounds.fromDOMRectList(context,clientRects)))}}else{var replacementNode=node.splitText(text.length);textBounds.push(new TextBounds(text,getWrapperBounds(context,node)));node=replacementNode}}else if(!FEATURES.SUPPORT_RANGE_BOUNDS){node=node.splitText(text.length)}offset+=text.length});return textBounds};var getWrapperBounds=function getWrapperBounds(context,node){var ownerDocument=node.ownerDocument;if(ownerDocument){var wrapper=ownerDocument.createElement("html2canvaswrapper");wrapper.appendChild(node.cloneNode(true));var parentNode=node.parentNode;if(parentNode){parentNode.replaceChild(wrapper,node);var bounds=parseBounds(context,wrapper);if(wrapper.firstChild){parentNode.replaceChild(wrapper.firstChild,wrapper)}return bounds}}return Bounds.EMPTY};var createRange=function createRange(node,offset,length){var ownerDocument=node.ownerDocument;if(!ownerDocument){throw new Error("Node has no owner document")}var range=ownerDocument.createRange();range.setStart(node,offset);range.setEnd(node,offset+length);return range};var segmentGraphemes=function segmentGraphemes(value){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var segmenter=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(segmenter.segment(value)).map(function(segment){return segment.segment})}return splitGraphemes(value)};var segmentWords=function segmentWords(value,styles){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var segmenter=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(segmenter.segment(value)).map(function(segment){return segment.segment})}return breakWords(value,styles)};var breakText=function breakText(value,styles){return styles.letterSpacing!==0?segmentGraphemes(value):segmentWords(value,styles)};var wordSeparators=[32,160,4961,65792,65793,4153,4241];var breakWords=function breakWords(str,styles){var breaker=LineBreaker(str,{lineBreak:styles.lineBreak,wordBreak:styles.overflowWrap==="break-word"?"break-word":styles.wordBreak});var words=[];var bk;var _loop_1=function _loop_1(){if(bk.value){var value=bk.value.slice();var codePoints=toCodePoints$1(value);var word_1="";codePoints.forEach(function(codePoint){if(wordSeparators.indexOf(codePoint)===-1){word_1+=fromCodePoint$1(codePoint)}else{if(word_1.length){words.push(word_1)}words.push(fromCodePoint$1(codePoint));word_1=""}});if(word_1.length){words.push(word_1)}}};while(!(bk=breaker.next()).done){_loop_1()}return words};var TextContainer=function(){function TextContainer(context,node,styles){this.text=transform(node.data,styles.textTransform);this.textBounds=parseTextBounds(context,this.text,styles,node)}return TextContainer}();var transform=function transform(text,_transform){switch(_transform){case 1:return text.toLowerCase();case 3:return text.replace(CAPITALIZE,capitalize);case 2:return text.toUpperCase();default:return text}};var CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g;var capitalize=function capitalize(m,p1,p2){if(m.length>0){return p1+p2.toUpperCase()}return m};var ImageElementContainer=function(_super){__extends(ImageElementContainer,_super);function ImageElementContainer(context,img){var _this=_super.call(this,context,img)||this;_this.src=img.currentSrc||img.src;_this.intrinsicWidth=img.naturalWidth;_this.intrinsicHeight=img.naturalHeight;_this.context.cache.addImage(_this.src);return _this}return ImageElementContainer}(ElementContainer);var CanvasElementContainer=function(_super){__extends(CanvasElementContainer,_super);function CanvasElementContainer(context,canvas){var _this=_super.call(this,context,canvas)||this;_this.canvas=canvas;_this.intrinsicWidth=canvas.width;_this.intrinsicHeight=canvas.height;return _this}return CanvasElementContainer}(ElementContainer);var SVGElementContainer=function(_super){__extends(SVGElementContainer,_super);function SVGElementContainer(context,img){var _this=_super.call(this,context,img)||this;var s=new XMLSerializer;var bounds=parseBounds(context,img);img.setAttribute("width",bounds.width+"px");img.setAttribute("height",bounds.height+"px");_this.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(img));_this.intrinsicWidth=img.width.baseVal.value;_this.intrinsicHeight=img.height.baseVal.value;_this.context.cache.addImage(_this.svg);return _this}return SVGElementContainer}(ElementContainer);var LIElementContainer=function(_super){__extends(LIElementContainer,_super);function LIElementContainer(context,element){var _this=_super.call(this,context,element)||this;_this.value=element.value;return _this}return LIElementContainer}(ElementContainer);var OLElementContainer=function(_super){__extends(OLElementContainer,_super);function OLElementContainer(context,element){var _this=_super.call(this,context,element)||this;_this.start=element.start;_this.reversed=typeof element.reversed==="boolean"&&element.reversed===true;return _this}return OLElementContainer}(ElementContainer);var CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}];var RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}];var reformatInputBounds=function reformatInputBounds(bounds){if(bounds.width>bounds.height){return new Bounds(bounds.left+(bounds.width-bounds.height)/2,bounds.top,bounds.height,bounds.height)}else if(bounds.width<bounds.height){return new Bounds(bounds.left,bounds.top+(bounds.height-bounds.width)/2,bounds.width,bounds.width)}return bounds};var getInputValue=function getInputValue(node){var value=node.type===PASSWORD?new Array(node.value.length+1).join("•"):node.value;return value.length===0?node.placeholder||"":value};var CHECKBOX="checkbox";var RADIO="radio";var PASSWORD="password";var INPUT_COLOR=707406591;var InputElementContainer=function(_super){__extends(InputElementContainer,_super);function InputElementContainer(context,input){var _this=_super.call(this,context,input)||this;_this.type=input.type.toLowerCase();_this.checked=input.checked;_this.value=getInputValue(input);if(_this.type===CHECKBOX||_this.type===RADIO){_this.styles.backgroundColor=3739148031;_this.styles.borderTopColor=_this.styles.borderRightColor=_this.styles.borderBottomColor=_this.styles.borderLeftColor=2779096575;_this.styles.borderTopWidth=_this.styles.borderRightWidth=_this.styles.borderBottomWidth=_this.styles.borderLeftWidth=1;_this.styles.borderTopStyle=_this.styles.borderRightStyle=_this.styles.borderBottomStyle=_this.styles.borderLeftStyle=1;_this.styles.backgroundClip=[0];_this.styles.backgroundOrigin=[0];_this.bounds=reformatInputBounds(_this.bounds)}switch(_this.type){case CHECKBOX:_this.styles.borderTopRightRadius=_this.styles.borderTopLeftRadius=_this.styles.borderBottomRightRadius=_this.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:_this.styles.borderTopRightRadius=_this.styles.borderTopLeftRadius=_this.styles.borderBottomRightRadius=_this.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return _this}return InputElementContainer}(ElementContainer);var SelectElementContainer=function(_super){__extends(SelectElementContainer,_super);function SelectElementContainer(context,element){var _this=_super.call(this,context,element)||this;var option=element.options[element.selectedIndex||0];_this.value=option?option.text||"":"";return _this}return SelectElementContainer}(ElementContainer);var TextareaElementContainer=function(_super){__extends(TextareaElementContainer,_super);function TextareaElementContainer(context,element){var _this=_super.call(this,context,element)||this;_this.value=element.value;return _this}return TextareaElementContainer}(ElementContainer);var IFrameElementContainer=function(_super){__extends(IFrameElementContainer,_super);function IFrameElementContainer(context,iframe){var _this=_super.call(this,context,iframe)||this;_this.src=iframe.src;_this.width=parseInt(iframe.width,10)||0;_this.height=parseInt(iframe.height,10)||0;_this.backgroundColor=_this.styles.backgroundColor;try{if(iframe.contentWindow&&iframe.contentWindow.document&&iframe.contentWindow.document.documentElement){_this.tree=parseTree(context,iframe.contentWindow.document.documentElement);var documentBackgroundColor=iframe.contentWindow.document.documentElement?parseColor(context,getComputedStyle(iframe.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT;var bodyBackgroundColor=iframe.contentWindow.document.body?parseColor(context,getComputedStyle(iframe.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;_this.backgroundColor=isTransparent(documentBackgroundColor)?isTransparent(bodyBackgroundColor)?_this.styles.backgroundColor:bodyBackgroundColor:documentBackgroundColor}}catch(e){}return _this}return IFrameElementContainer}(ElementContainer);var LIST_OWNERS=["OL","UL","MENU"];var parseNodeTree=function parseNodeTree(context,node,parent,root){for(var childNode=node.firstChild,nextNode=void 0;childNode;childNode=nextNode){nextNode=childNode.nextSibling;if(isTextNode(childNode)&&childNode.data.trim().length>0){parent.textNodes.push(new TextContainer(context,childNode,parent.styles))}else if(isElementNode(childNode)){if(isSlotElement(childNode)&&childNode.assignedNodes){childNode.assignedNodes().forEach(function(childNode){return parseNodeTree(context,childNode,parent,root)})}else{var container=createContainer(context,childNode);if(container.styles.isVisible()){if(createsRealStackingContext(childNode,container,root)){container.flags|=4}else if(createsStackingContext(container.styles)){container.flags|=2}if(LIST_OWNERS.indexOf(childNode.tagName)!==-1){container.flags|=8}parent.elements.push(container);childNode.slot;if(childNode.shadowRoot){parseNodeTree(context,childNode.shadowRoot,container,root)}else if(!isTextareaElement(childNode)&&!isSVGElement(childNode)&&!isSelectElement(childNode)){parseNodeTree(context,childNode,container,root)}}}}}};var createContainer=function createContainer(context,element){if(isImageElement(element)){return new ImageElementContainer(context,element)}if(isCanvasElement(element)){return new CanvasElementContainer(context,element)}if(isSVGElement(element)){return new SVGElementContainer(context,element)}if(isLIElement(element)){return new LIElementContainer(context,element)}if(isOLElement(element)){return new OLElementContainer(context,element)}if(isInputElement(element)){return new InputElementContainer(context,element)}if(isSelectElement(element)){return new SelectElementContainer(context,element)}if(isTextareaElement(element)){return new TextareaElementContainer(context,element)}if(isIFrameElement(element)){return new IFrameElementContainer(context,element)}return new ElementContainer(context,element)};var parseTree=function parseTree(context,element){var container=createContainer(context,element);container.flags|=4;parseNodeTree(context,element,container,container);return container};var createsRealStackingContext=function createsRealStackingContext(node,container,root){return container.styles.isPositionedWithZIndex()||container.styles.opacity<1||container.styles.isTransformed()||isBodyElement(node)&&root.styles.isTransparent()};var createsStackingContext=function createsStackingContext(styles){return styles.isPositioned()||styles.isFloating()};var isTextNode=function isTextNode(node){return node.nodeType===Node.TEXT_NODE};var isElementNode=function isElementNode(node){return node.nodeType===Node.ELEMENT_NODE};var isHTMLElementNode=function isHTMLElementNode(node){return isElementNode(node)&&typeof node.style!=="undefined"&&!isSVGElementNode(node)};var isSVGElementNode=function isSVGElementNode(element){return _typeof(element.className)==="object"};var isLIElement=function isLIElement(node){return node.tagName==="LI"};var isOLElement=function isOLElement(node){return node.tagName==="OL"};var isInputElement=function isInputElement(node){return node.tagName==="INPUT"};var isHTMLElement=function isHTMLElement(node){return node.tagName==="HTML"};var isSVGElement=function isSVGElement(node){return node.tagName==="svg"};var isBodyElement=function isBodyElement(node){return node.tagName==="BODY"};var isCanvasElement=function isCanvasElement(node){return node.tagName==="CANVAS"};var isVideoElement=function isVideoElement(node){return node.tagName==="VIDEO"};var isImageElement=function isImageElement(node){return node.tagName==="IMG"};var isIFrameElement=function isIFrameElement(node){return node.tagName==="IFRAME"};var isStyleElement=function isStyleElement(node){return node.tagName==="STYLE"};var isScriptElement=function isScriptElement(node){return node.tagName==="SCRIPT"};var isTextareaElement=function isTextareaElement(node){return node.tagName==="TEXTAREA"};var isSelectElement=function isSelectElement(node){return node.tagName==="SELECT"};var isSlotElement=function isSlotElement(node){return node.tagName==="SLOT"};var isCustomElement=function isCustomElement(node){return node.tagName.indexOf("-")>0};var CounterState=function(){function CounterState(){this.counters={}}CounterState.prototype.getCounterValue=function(name){var counter=this.counters[name];if(counter&&counter.length){return counter[counter.length-1]}return 1};CounterState.prototype.getCounterValues=function(name){var counter=this.counters[name];return counter?counter:[]};CounterState.prototype.pop=function(counters){var _this=this;counters.forEach(function(counter){return _this.counters[counter].pop()})};CounterState.prototype.parse=function(style){var _this=this;var counterIncrement=style.counterIncrement;var counterReset=style.counterReset;var canReset=true;if(counterIncrement!==null){counterIncrement.forEach(function(entry){var counter=_this.counters[entry.counter];if(counter&&entry.increment!==0){canReset=false;if(!counter.length){counter.push(1)}counter[Math.max(0,counter.length-1)]+=entry.increment}})}var counterNames=[];if(canReset){counterReset.forEach(function(entry){var counter=_this.counters[entry.counter];counterNames.push(entry.counter);if(!counter){counter=_this.counters[entry.counter]=[]}counter.push(entry.reset)})}return counterNames};return CounterState}();var ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]};var ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]};var HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]};var GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]};var createAdditiveCounter=function createAdditiveCounter(value,min,max,symbols,fallback,suffix){if(value<min||value>max){return createCounterText(value,fallback,suffix.length>0)}return symbols.integers.reduce(function(string,integer,index){while(value>=integer){value-=integer;string+=symbols.values[index]}return string},"")+suffix};var createCounterStyleWithSymbolResolver=function createCounterStyleWithSymbolResolver(value,codePointRangeLength,isNumeric,resolver){var string="";do{if(!isNumeric){value--}string=resolver(value)+string;value/=codePointRangeLength}while(value*codePointRangeLength>=codePointRangeLength);return string};var createCounterStyleFromRange=function createCounterStyleFromRange(value,codePointRangeStart,codePointRangeEnd,isNumeric,suffix){var codePointRangeLength=codePointRangeEnd-codePointRangeStart+1;return(value<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(value),codePointRangeLength,isNumeric,function(codePoint){return fromCodePoint$1(Math.floor(codePoint%codePointRangeLength)+codePointRangeStart)})+suffix)};var createCounterStyleFromSymbols=function createCounterStyleFromSymbols(value,symbols,suffix){if(suffix===void 0){suffix=". "}var codePointRangeLength=symbols.length;return createCounterStyleWithSymbolResolver(Math.abs(value),codePointRangeLength,false,function(codePoint){return symbols[Math.floor(codePoint%codePointRangeLength)]})+suffix};var CJK_ZEROS=1<<0;var CJK_TEN_COEFFICIENTS=1<<1;var CJK_TEN_HIGH_COEFFICIENTS=1<<2;var CJK_HUNDRED_COEFFICIENTS=1<<3;var createCJKCounter=function createCJKCounter(value,numbers,multipliers,negativeSign,suffix,flags){if(value<-9999||value>9999){return createCounterText(value,4,suffix.length>0)}var tmp=Math.abs(value);var string=suffix;if(tmp===0){return numbers[0]+string}for(var digit=0;tmp>0&&digit<=4;digit++){var coefficient=tmp%10;if(coefficient===0&&contains(flags,CJK_ZEROS)&&string!==""){string=numbers[coefficient]+string}else if(coefficient>1||coefficient===1&&digit===0||coefficient===1&&digit===1&&contains(flags,CJK_TEN_COEFFICIENTS)||coefficient===1&&digit===1&&contains(flags,CJK_TEN_HIGH_COEFFICIENTS)&&value>100||coefficient===1&&digit>1&&contains(flags,CJK_HUNDRED_COEFFICIENTS)){string=numbers[coefficient]+(digit>0?multipliers[digit-1]:"")+string}else if(coefficient===1&&digit>0){string=multipliers[digit-1]+string}tmp=Math.floor(tmp/10)}return(value<0?negativeSign:"")+string};var CHINESE_INFORMAL_MULTIPLIERS="十百千萬";var CHINESE_FORMAL_MULTIPLIERS="拾佰仟萬";var JAPANESE_NEGATIVE="マイナス";var KOREAN_NEGATIVE="마이너스";var createCounterText=function createCounterText(value,type,appendSuffix){var defaultSuffix=appendSuffix?". ":"";var cjkSuffix=appendSuffix?"、":"";var koreanSuffix=appendSuffix?", ":"";var spaceSuffix=appendSuffix?" ":"";switch(type){case 0:return"•"+spaceSuffix;case 1:return"◦"+spaceSuffix;case 2:return"◾"+spaceSuffix;case 5:var string=createCounterStyleFromRange(value,48,57,true,defaultSuffix);return string.length<4?"0"+string:string;case 4:return createCounterStyleFromSymbols(value,"〇一二三四五六七八九",cjkSuffix);case 6:return createAdditiveCounter(value,1,3999,ROMAN_UPPER,3,defaultSuffix).toLowerCase();case 7:return createAdditiveCounter(value,1,3999,ROMAN_UPPER,3,defaultSuffix);case 8:return createCounterStyleFromRange(value,945,969,false,defaultSuffix);case 9:return createCounterStyleFromRange(value,97,122,false,defaultSuffix);case 10:return createCounterStyleFromRange(value,65,90,false,defaultSuffix);case 11:return createCounterStyleFromRange(value,1632,1641,true,defaultSuffix);case 12:case 49:return createAdditiveCounter(value,1,9999,ARMENIAN,3,defaultSuffix);case 35:return createAdditiveCounter(value,1,9999,ARMENIAN,3,defaultSuffix).toLowerCase();case 13:return createCounterStyleFromRange(value,2534,2543,true,defaultSuffix);case 14:case 30:return createCounterStyleFromRange(value,6112,6121,true,defaultSuffix);case 15:return createCounterStyleFromSymbols(value,"子丑寅卯辰巳午未申酉戌亥",cjkSuffix);case 16:return createCounterStyleFromSymbols(value,"甲乙丙丁戊己庚辛壬癸",cjkSuffix);case 17:case 48:return createCJKCounter(value,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"負",cjkSuffix,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(value,"零壹貳參肆伍陸柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"負",cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(value,"零一二三四五六七八九",CHINESE_INFORMAL_MULTIPLIERS,"负",cjkSuffix,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(value,"零壹贰叁肆伍陆柒捌玖",CHINESE_FORMAL_MULTIPLIERS,"负",cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(value,"〇一二三四五六七八九","十百千万",JAPANESE_NEGATIVE,cjkSuffix,0);case 25:return createCJKCounter(value,"零壱弐参四伍六七八九","拾百千万",JAPANESE_NEGATIVE,cjkSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(value,"영일이삼사오육칠팔구","십백천만",KOREAN_NEGATIVE,koreanSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(value,"零一二三四五六七八九","十百千萬",KOREAN_NEGATIVE,koreanSuffix,0);case 32:return createCJKCounter(value,"零壹貳參四五六七八九","拾百千",KOREAN_NEGATIVE,koreanSuffix,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(value,2406,2415,true,defaultSuffix);case 20:return createAdditiveCounter(value,1,19999,GEORGIAN,3,defaultSuffix);case 21:return createCounterStyleFromRange(value,2790,2799,true,defaultSuffix);case 22:return createCounterStyleFromRange(value,2662,2671,true,defaultSuffix);case 22:return createAdditiveCounter(value,1,10999,HEBREW,3,defaultSuffix);case 23:return createCounterStyleFromSymbols(value,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return createCounterStyleFromSymbols(value,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return createCounterStyleFromRange(value,3302,3311,true,defaultSuffix);case 28:return createCounterStyleFromSymbols(value,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",cjkSuffix);case 29:return createCounterStyleFromSymbols(value,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",cjkSuffix);case 34:return createCounterStyleFromRange(value,3792,3801,true,defaultSuffix);case 37:return createCounterStyleFromRange(value,6160,6169,true,defaultSuffix);case 38:return createCounterStyleFromRange(value,4160,4169,true,defaultSuffix);case 39:return createCounterStyleFromRange(value,2918,2927,true,defaultSuffix);case 40:return createCounterStyleFromRange(value,1776,1785,true,defaultSuffix);case 43:return createCounterStyleFromRange(value,3046,3055,true,defaultSuffix);case 44:return createCounterStyleFromRange(value,3174,3183,true,defaultSuffix);case 45:return createCounterStyleFromRange(value,3664,3673,true,defaultSuffix);case 46:return createCounterStyleFromRange(value,3872,3881,true,defaultSuffix);case 3:default:return createCounterStyleFromRange(value,48,57,true,defaultSuffix)}};var IGNORE_ATTRIBUTE="data-html2canvas-ignore";var DocumentCloner=function(){function DocumentCloner(context,element,options){this.context=context;this.options=options;this.scrolledElements=[];this.referenceElement=element;this.counters=new CounterState;this.quoteDepth=0;if(!element.ownerDocument){throw new Error("Cloned element does not have an owner document")}this.documentElement=this.cloneNode(element.ownerDocument.documentElement,false)}DocumentCloner.prototype.toIFrame=function(ownerDocument,windowSize){var _this=this;var iframe=createIFrameContainer(ownerDocument,windowSize);if(!iframe.contentWindow){return Promise.reject("Unable to find iframe window")}var scrollX=ownerDocument.defaultView.pageXOffset;var scrollY=ownerDocument.defaultView.pageYOffset;var cloneWindow=iframe.contentWindow;var documentClone=cloneWindow.document;var iframeLoad=iframeLoader(iframe).then(function(){return __awaiter(_this,void 0,void 0,function(){var onclone,referenceElement;return __generator(this,function(_a){switch(_a.label){case 0:this.scrolledElements.forEach(restoreNodeScroll);if(cloneWindow){cloneWindow.scrollTo(windowSize.left,windowSize.top);if(/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(cloneWindow.scrollY!==windowSize.top||cloneWindow.scrollX!==windowSize.left)){this.context.logger.warn("Unable to restore scroll position for cloned document");this.context.windowBounds=this.context.windowBounds.add(cloneWindow.scrollX-windowSize.left,cloneWindow.scrollY-windowSize.top,0,0)}}onclone=this.options.onclone;referenceElement=this.clonedReferenceElement;if(typeof referenceElement==="undefined"){return[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]}if(!(documentClone.fonts&&documentClone.fonts.ready))return[3,2];return[4,documentClone.fonts.ready];case 1:_a.sent();_a.label=2;case 2:if(!/(AppleWebKit)/g.test(navigator.userAgent))return[3,4];return[4,imagesReady(documentClone)];case 3:_a.sent();_a.label=4;case 4:if(typeof onclone==="function"){return[2,Promise.resolve().then(function(){return onclone(documentClone,referenceElement)}).then(function(){return iframe})]}return[2,iframe]}})})});documentClone.open();documentClone.write(serializeDoctype(document.doctype)+"<html></html>");restoreOwnerScroll(this.referenceElement.ownerDocument,scrollX,scrollY);documentClone.replaceChild(documentClone.adoptNode(this.documentElement),documentClone.documentElement);documentClone.close();return iframeLoad};DocumentCloner.prototype.createElementClone=function(node){if(isDebugging(node,2)){debugger}if(isCanvasElement(node)){return this.createCanvasClone(node)}if(isVideoElement(node)){return this.createVideoClone(node)}if(isStyleElement(node)){return this.createStyleClone(node)}var clone=node.cloneNode(false);if(isImageElement(clone)){if(isImageElement(node)&&node.currentSrc&&node.currentSrc!==node.src){clone.src=node.currentSrc;clone.srcset=""}if(clone.loading==="lazy"){clone.loading="eager"}}if(isCustomElement(clone)){return this.createCustomElementClone(clone)}return clone};DocumentCloner.prototype.createCustomElementClone=function(node){var clone=document.createElement("html2canvascustomelement");copyCSSStyles(node.style,clone);return clone};DocumentCloner.prototype.createStyleClone=function(node){try{var sheet=node.sheet;if(sheet&&sheet.cssRules){var css=[].slice.call(sheet.cssRules,0).reduce(function(css,rule){if(rule&&typeof rule.cssText==="string"){return css+rule.cssText}return css},"");var style=node.cloneNode(false);style.textContent=css;return style}}catch(e){this.context.logger.error("Unable to access cssRules property",e);if(e.name!=="SecurityError"){throw e}}return node.cloneNode(false)};DocumentCloner.prototype.createCanvasClone=function(canvas){var _a;if(this.options.inlineImages&&canvas.ownerDocument){var img=canvas.ownerDocument.createElement("img");try{img.src=canvas.toDataURL();return img}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",canvas)}}var clonedCanvas=canvas.cloneNode(false);try{clonedCanvas.width=canvas.width;clonedCanvas.height=canvas.height;var ctx=canvas.getContext("2d");var clonedCtx=clonedCanvas.getContext("2d");if(clonedCtx){if(!this.options.allowTaint&&ctx){clonedCtx.putImageData(ctx.getImageData(0,0,canvas.width,canvas.height),0,0)}else{var gl=(_a=canvas.getContext("webgl2"))!==null&&_a!==void 0?_a:canvas.getContext("webgl");if(gl){var attribs=gl.getContextAttributes();if((attribs===null||attribs===void 0?void 0:attribs.preserveDrawingBuffer)===false){this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",canvas)}}clonedCtx.drawImage(canvas,0,0)}}return clonedCanvas}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",canvas)}return clonedCanvas};DocumentCloner.prototype.createVideoClone=function(video){var canvas=video.ownerDocument.createElement("canvas");canvas.width=video.offsetWidth;canvas.height=video.offsetHeight;var ctx=canvas.getContext("2d");try{if(ctx){ctx.drawImage(video,0,0,canvas.width,canvas.height);if(!this.options.allowTaint){ctx.getImageData(0,0,canvas.width,canvas.height)}}return canvas}catch(e){this.context.logger.info("Unable to clone video as it is tainted",video)}var blankCanvas=video.ownerDocument.createElement("canvas");blankCanvas.width=video.offsetWidth;blankCanvas.height=video.offsetHeight;return blankCanvas};DocumentCloner.prototype.appendChildNode=function(clone,child,copyStyles){if(!isElementNode(child)||!isScriptElement(child)&&!child.hasAttribute(IGNORE_ATTRIBUTE)&&(typeof this.options.ignoreElements!=="function"||!this.options.ignoreElements(child))){if(!this.options.copyStyles||!isElementNode(child)||!isStyleElement(child)){clone.appendChild(this.cloneNode(child,copyStyles))}}};DocumentCloner.prototype.cloneChildNodes=function(node,clone,copyStyles){var _this=this;for(var child=node.shadowRoot?node.shadowRoot.firstChild:node.firstChild;child;child=child.nextSibling){if(isElementNode(child)&&isSlotElement(child)&&typeof child.assignedNodes==="function"){var assignedNodes=child.assignedNodes();if(assignedNodes.length){assignedNodes.forEach(function(assignedNode){return _this.appendChildNode(clone,assignedNode,copyStyles)})}}else{this.appendChildNode(clone,child,copyStyles)}}};DocumentCloner.prototype.cloneNode=function(node,copyStyles){if(isTextNode(node)){return document.createTextNode(node.data)}if(!node.ownerDocument){return node.cloneNode(false)}var window=node.ownerDocument.defaultView;if(window&&isElementNode(node)&&(isHTMLElementNode(node)||isSVGElementNode(node))){var clone=this.createElementClone(node);clone.style.transitionProperty="none";var style=window.getComputedStyle(node);var styleBefore=window.getComputedStyle(node,":before");var styleAfter=window.getComputedStyle(node,":after");if(this.referenceElement===node&&isHTMLElementNode(clone)){this.clonedReferenceElement=clone}if(isBodyElement(clone)){createPseudoHideStyles(clone)}var counters=this.counters.parse(new CSSParsedCounterDeclaration(this.context,style));var before=this.resolvePseudoContent(node,clone,styleBefore,PseudoElementType.BEFORE);if(isCustomElement(node)){copyStyles=true}if(!isVideoElement(node)){this.cloneChildNodes(node,clone,copyStyles)}if(before){clone.insertBefore(before,clone.firstChild)}var after=this.resolvePseudoContent(node,clone,styleAfter,PseudoElementType.AFTER);if(after){clone.appendChild(after)}this.counters.pop(counters);if(style&&(this.options.copyStyles||isSVGElementNode(node))&&!isIFrameElement(node)||copyStyles){copyCSSStyles(style,clone)}if(node.scrollTop!==0||node.scrollLeft!==0){this.scrolledElements.push([clone,node.scrollLeft,node.scrollTop])}if((isTextareaElement(node)||isSelectElement(node))&&(isTextareaElement(clone)||isSelectElement(clone))){clone.value=node.value}return clone}return node.cloneNode(false)};DocumentCloner.prototype.resolvePseudoContent=function(node,clone,style,pseudoElt){var _this=this;if(!style){return}var value=style.content;var document=clone.ownerDocument;if(!document||!value||value==="none"||value==="-moz-alt-content"||style.display==="none"){return}this.counters.parse(new CSSParsedCounterDeclaration(this.context,style));var declaration=new CSSParsedPseudoDeclaration(this.context,style);var anonymousReplacedElement=document.createElement("html2canvaspseudoelement");copyCSSStyles(style,anonymousReplacedElement);declaration.content.forEach(function(token){if(token.type===0){anonymousReplacedElement.appendChild(document.createTextNode(token.value))}else if(token.type===22){var img=document.createElement("img");img.src=token.value;img.style.opacity="1";anonymousReplacedElement.appendChild(img)}else if(token.type===18){if(token.name==="attr"){var attr=token.values.filter(isIdentToken);if(attr.length){anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value)||""))}}else if(token.name==="counter"){var _a=token.values.filter(nonFunctionArgSeparator),counter=_a[0],counterStyle=_a[1];if(counter&&isIdentToken(counter)){var counterState=_this.counters.getCounterValue(counter.value);var counterType=counterStyle&&isIdentToken(counterStyle)?listStyleType.parse(_this.context,counterStyle.value):3;anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState,counterType,false)))}}else if(token.name==="counters"){var _b=token.values.filter(nonFunctionArgSeparator),counter=_b[0],delim=_b[1],counterStyle=_b[2];if(counter&&isIdentToken(counter)){var counterStates=_this.counters.getCounterValues(counter.value);var counterType_1=counterStyle&&isIdentToken(counterStyle)?listStyleType.parse(_this.context,counterStyle.value):3;var separator=delim&&delim.type===0?delim.value:"";var text=counterStates.map(function(value){return createCounterText(value,counterType_1,false)}).join(separator);anonymousReplacedElement.appendChild(document.createTextNode(text))}}else;}else if(token.type===20){switch(token.value){case"open-quote":anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes,_this.quoteDepth++,true)));break;case"close-quote":anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes,--_this.quoteDepth,false)));break;default:anonymousReplacedElement.appendChild(document.createTextNode(token.value))}}});anonymousReplacedElement.className=PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;var newClassName=pseudoElt===PseudoElementType.BEFORE?" "+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE:" "+PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(isSVGElementNode(clone)){clone.className.baseValue+=newClassName}else{clone.className+=newClassName}return anonymousReplacedElement};DocumentCloner.destroy=function(container){if(container.parentNode){container.parentNode.removeChild(container);return true}return false};return DocumentCloner}();var PseudoElementType;(function(PseudoElementType){PseudoElementType[PseudoElementType["BEFORE"]=0]="BEFORE";PseudoElementType[PseudoElementType["AFTER"]=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var createIFrameContainer=function createIFrameContainer(ownerDocument,bounds){var cloneIframeContainer=ownerDocument.createElement("iframe");cloneIframeContainer.className="html2canvas-container";cloneIframeContainer.style.visibility="hidden";cloneIframeContainer.style.position="fixed";cloneIframeContainer.style.left="-10000px";cloneIframeContainer.style.top="0px";cloneIframeContainer.style.border="0";cloneIframeContainer.width=bounds.width.toString();cloneIframeContainer.height=bounds.height.toString();cloneIframeContainer.scrolling="no";cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE,"true");ownerDocument.body.appendChild(cloneIframeContainer);return cloneIframeContainer};var imageReady=function imageReady(img){return new Promise(function(resolve){if(img.complete){resolve();return}if(!img.src){resolve();return}img.onload=resolve;img.onerror=resolve})};var imagesReady=function imagesReady(document){return Promise.all([].slice.call(document.images,0).map(imageReady))};var iframeLoader=function iframeLoader(iframe){return new Promise(function(resolve,reject){var cloneWindow=iframe.contentWindow;if(!cloneWindow){return reject("No window assigned for iframe")}var documentClone=cloneWindow.document;cloneWindow.onload=iframe.onload=function(){cloneWindow.onload=iframe.onload=null;var interval=setInterval(function(){if(documentClone.body.childNodes.length>0&&documentClone.readyState==="complete"){clearInterval(interval);resolve(iframe)}},50)}})};var ignoredStyleProperties=["all","d","content"];var copyCSSStyles=function copyCSSStyles(style,target){for(var i=style.length-1;i>=0;i--){var property=style.item(i);if(ignoredStyleProperties.indexOf(property)===-1){target.style.setProperty(property,style.getPropertyValue(property))}}return target};var serializeDoctype=function serializeDoctype(doctype){var str="";if(doctype){str+="<!DOCTYPE ";if(doctype.name){str+=doctype.name}if(doctype.internalSubset){str+=doctype.internalSubset}if(doctype.publicId){str+='"'+doctype.publicId+'"'}if(doctype.systemId){str+='"'+doctype.systemId+'"'}str+=">"}return str};var restoreOwnerScroll=function restoreOwnerScroll(ownerDocument,x,y){if(ownerDocument&&ownerDocument.defaultView&&(x!==ownerDocument.defaultView.pageXOffset||y!==ownerDocument.defaultView.pageYOffset)){ownerDocument.defaultView.scrollTo(x,y)}};var restoreNodeScroll=function restoreNodeScroll(_a){var element=_a[0],x=_a[1],y=_a[2];element.scrollLeft=x;element.scrollTop=y};var PSEUDO_BEFORE=":before";var PSEUDO_AFTER=":after";var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";var PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";var PSEUDO_HIDE_ELEMENT_STYLE='{\n    content: "" !important;\n    display: none !important;\n}';var createPseudoHideStyles=function createPseudoHideStyles(body){createStyles(body,"."+PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+PSEUDO_BEFORE+PSEUDO_HIDE_ELEMENT_STYLE+"\n         ."+PSEUDO_HIDE_ELEMENT_CLASS_AFTER+PSEUDO_AFTER+PSEUDO_HIDE_ELEMENT_STYLE)};var createStyles=function createStyles(body,styles){var document=body.ownerDocument;if(document){var style=document.createElement("style");style.textContent=styles;body.appendChild(style)}};var CacheStorage=function(){function CacheStorage(){}CacheStorage.getOrigin=function(url){var link=CacheStorage._link;if(!link){return"about:blank"}link.href=url;link.href=link.href;return link.protocol+link.hostname+link.port};CacheStorage.isSameOrigin=function(src){return CacheStorage.getOrigin(src)===CacheStorage._origin};CacheStorage.setContext=function(window){CacheStorage._link=window.document.createElement("a");CacheStorage._origin=CacheStorage.getOrigin(window.location.href)};CacheStorage._origin="about:blank";return CacheStorage}();var Cache=function(){function Cache(context,_options){this.context=context;this._options=_options;this._cache={}}Cache.prototype.addImage=function(src){var result=Promise.resolve();if(this.has(src)){return result}if(isBlobImage(src)||isRenderable(src)){(this._cache[src]=this.loadImage(src)).catch(function(){});return result}return result};Cache.prototype.match=function(src){return this._cache[src]};Cache.prototype.loadImage=function(key){return __awaiter(this,void 0,void 0,function(){var isSameOrigin,useCORS,useProxy,src;var _this=this;return __generator(this,function(_a){switch(_a.label){case 0:isSameOrigin=CacheStorage.isSameOrigin(key);useCORS=!isInlineImage(key)&&this._options.useCORS===true&&FEATURES.SUPPORT_CORS_IMAGES&&!isSameOrigin;useProxy=!isInlineImage(key)&&!isSameOrigin&&!isBlobImage(key)&&typeof this._options.proxy==="string"&&FEATURES.SUPPORT_CORS_XHR&&!useCORS;if(!isSameOrigin&&this._options.allowTaint===false&&!isInlineImage(key)&&!isBlobImage(key)&&!useProxy&&!useCORS){return[2]}src=key;if(!useProxy)return[3,2];return[4,this.proxy(src)];case 1:src=_a.sent();_a.label=2;case 2:this.context.logger.debug("Added image "+key.substring(0,256));return[4,new Promise(function(resolve,reject){var img=new Image;img.onload=function(){return resolve(img)};img.onerror=reject;if(isInlineBase64Image(src)||useCORS){img.crossOrigin="anonymous"}img.src=src;if(img.complete===true){setTimeout(function(){return resolve(img)},500)}if(_this._options.imageTimeout>0){setTimeout(function(){return reject("Timed out ("+_this._options.imageTimeout+"ms) loading image")},_this._options.imageTimeout)}})];case 3:return[2,_a.sent()]}})})};Cache.prototype.has=function(key){return typeof this._cache[key]!=="undefined"};Cache.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))};Cache.prototype.proxy=function(src){var _this=this;var proxy=this._options.proxy;if(!proxy){throw new Error("No proxy defined")}var key=src.substring(0,256);return new Promise(function(resolve,reject){var responseType=FEATURES.SUPPORT_RESPONSE_TYPE?"blob":"text";var xhr=new XMLHttpRequest;xhr.onload=function(){if(xhr.status===200){if(responseType==="text"){resolve(xhr.response)}else{var reader_1=new FileReader;reader_1.addEventListener("load",function(){return resolve(reader_1.result)},false);reader_1.addEventListener("error",function(e){return reject(e)},false);reader_1.readAsDataURL(xhr.response)}}else{reject("Failed to proxy resource "+key+" with status code "+xhr.status)}};xhr.onerror=reject;var queryString=proxy.indexOf("?")>-1?"&":"?";xhr.open("GET",""+proxy+queryString+"url="+encodeURIComponent(src)+"&responseType="+responseType);if(responseType!=="text"&&xhr instanceof XMLHttpRequest){xhr.responseType=responseType}if(_this._options.imageTimeout){var timeout_1=_this._options.imageTimeout;xhr.timeout=timeout_1;xhr.ontimeout=function(){return reject("Timed out ("+timeout_1+"ms) proxying "+key)}}xhr.send()})};return Cache}();var INLINE_SVG=/^data:image\/svg\+xml/i;var INLINE_BASE64=/^data:image\/.*;base64,/i;var INLINE_IMG=/^data:image\/.*/i;var isRenderable=function isRenderable(src){return FEATURES.SUPPORT_SVG_DRAWING||!isSVG(src)};var isInlineImage=function isInlineImage(src){return INLINE_IMG.test(src)};var isInlineBase64Image=function isInlineBase64Image(src){return INLINE_BASE64.test(src)};var isBlobImage=function isBlobImage(src){return src.substr(0,4)==="blob"};var isSVG=function isSVG(src){return src.substr(-3).toLowerCase()==="svg"||INLINE_SVG.test(src)};var Vector=function(){function Vector(x,y){this.type=0;this.x=x;this.y=y}Vector.prototype.add=function(deltaX,deltaY){return new Vector(this.x+deltaX,this.y+deltaY)};return Vector}();var lerp=function lerp(a,b,t){return new Vector(a.x+(b.x-a.x)*t,a.y+(b.y-a.y)*t)};var BezierCurve=function(){function BezierCurve(start,startControl,endControl,end){this.type=1;this.start=start;this.startControl=startControl;this.endControl=endControl;this.end=end}BezierCurve.prototype.subdivide=function(t,firstHalf){var ab=lerp(this.start,this.startControl,t);var bc=lerp(this.startControl,this.endControl,t);var cd=lerp(this.endControl,this.end,t);var abbc=lerp(ab,bc,t);var bccd=lerp(bc,cd,t);var dest=lerp(abbc,bccd,t);return firstHalf?new BezierCurve(this.start,ab,abbc,dest):new BezierCurve(dest,bccd,cd,this.end)};BezierCurve.prototype.add=function(deltaX,deltaY){return new BezierCurve(this.start.add(deltaX,deltaY),this.startControl.add(deltaX,deltaY),this.endControl.add(deltaX,deltaY),this.end.add(deltaX,deltaY))};BezierCurve.prototype.reverse=function(){return new BezierCurve(this.end,this.endControl,this.startControl,this.start)};return BezierCurve}();var isBezierCurve=function isBezierCurve(path){return path.type===1};var BoundCurves=function(){function BoundCurves(element){var styles=element.styles;var bounds=element.bounds;var _a=getAbsoluteValueForTuple(styles.borderTopLeftRadius,bounds.width,bounds.height),tlh=_a[0],tlv=_a[1];var _b=getAbsoluteValueForTuple(styles.borderTopRightRadius,bounds.width,bounds.height),trh=_b[0],trv=_b[1];var _c=getAbsoluteValueForTuple(styles.borderBottomRightRadius,bounds.width,bounds.height),brh=_c[0],brv=_c[1];var _d=getAbsoluteValueForTuple(styles.borderBottomLeftRadius,bounds.width,bounds.height),blh=_d[0],blv=_d[1];var factors=[];factors.push((tlh+trh)/bounds.width);factors.push((blh+brh)/bounds.width);factors.push((tlv+blv)/bounds.height);factors.push((trv+brv)/bounds.height);var maxFactor=Math.max.apply(Math,factors);if(maxFactor>1){tlh/=maxFactor;tlv/=maxFactor;trh/=maxFactor;trv/=maxFactor;brh/=maxFactor;brv/=maxFactor;blh/=maxFactor;blv/=maxFactor}var topWidth=bounds.width-trh;var rightHeight=bounds.height-brv;var bottomWidth=bounds.width-brh;var leftHeight=bounds.height-blv;var borderTopWidth=styles.borderTopWidth;var borderRightWidth=styles.borderRightWidth;var borderBottomWidth=styles.borderBottomWidth;var borderLeftWidth=styles.borderLeftWidth;var paddingTop=getAbsoluteValue(styles.paddingTop,element.bounds.width);var paddingRight=getAbsoluteValue(styles.paddingRight,element.bounds.width);var paddingBottom=getAbsoluteValue(styles.paddingBottom,element.bounds.width);var paddingLeft=getAbsoluteValue(styles.paddingLeft,element.bounds.width);this.topLeftBorderDoubleOuterBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth/3,bounds.top+borderTopWidth/3,tlh-borderLeftWidth/3,tlv-borderTopWidth/3,CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth/3,bounds.top+borderTopWidth/3);this.topRightBorderDoubleOuterBox=tlh>0||tlv>0?getCurvePoints(bounds.left+topWidth,bounds.top+borderTopWidth/3,trh-borderRightWidth/3,trv-borderTopWidth/3,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth/3,bounds.top+borderTopWidth/3);this.bottomRightBorderDoubleOuterBox=brh>0||brv>0?getCurvePoints(bounds.left+bottomWidth,bounds.top+rightHeight,brh-borderRightWidth/3,brv-borderBottomWidth/3,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth/3,bounds.top+bounds.height-borderBottomWidth/3);this.bottomLeftBorderDoubleOuterBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth/3,bounds.top+leftHeight,blh-borderLeftWidth/3,blv-borderBottomWidth/3,CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth/3,bounds.top+bounds.height-borderBottomWidth/3);this.topLeftBorderDoubleInnerBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth*2/3,bounds.top+borderTopWidth*2/3,tlh-borderLeftWidth*2/3,tlv-borderTopWidth*2/3,CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth*2/3,bounds.top+borderTopWidth*2/3);this.topRightBorderDoubleInnerBox=tlh>0||tlv>0?getCurvePoints(bounds.left+topWidth,bounds.top+borderTopWidth*2/3,trh-borderRightWidth*2/3,trv-borderTopWidth*2/3,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth*2/3,bounds.top+borderTopWidth*2/3);this.bottomRightBorderDoubleInnerBox=brh>0||brv>0?getCurvePoints(bounds.left+bottomWidth,bounds.top+rightHeight,brh-borderRightWidth*2/3,brv-borderBottomWidth*2/3,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth*2/3,bounds.top+bounds.height-borderBottomWidth*2/3);this.bottomLeftBorderDoubleInnerBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth*2/3,bounds.top+leftHeight,blh-borderLeftWidth*2/3,blv-borderBottomWidth*2/3,CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth*2/3,bounds.top+bounds.height-borderBottomWidth*2/3);this.topLeftBorderStroke=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth/2,bounds.top+borderTopWidth/2,tlh-borderLeftWidth/2,tlv-borderTopWidth/2,CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth/2,bounds.top+borderTopWidth/2);this.topRightBorderStroke=tlh>0||tlv>0?getCurvePoints(bounds.left+topWidth,bounds.top+borderTopWidth/2,trh-borderRightWidth/2,trv-borderTopWidth/2,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth/2,bounds.top+borderTopWidth/2);this.bottomRightBorderStroke=brh>0||brv>0?getCurvePoints(bounds.left+bottomWidth,bounds.top+rightHeight,brh-borderRightWidth/2,brv-borderBottomWidth/2,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth/2,bounds.top+bounds.height-borderBottomWidth/2);this.bottomLeftBorderStroke=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth/2,bounds.top+leftHeight,blh-borderLeftWidth/2,blv-borderBottomWidth/2,CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth/2,bounds.top+bounds.height-borderBottomWidth/2);this.topLeftBorderBox=tlh>0||tlv>0?getCurvePoints(bounds.left,bounds.top,tlh,tlv,CORNER.TOP_LEFT):new Vector(bounds.left,bounds.top);this.topRightBorderBox=trh>0||trv>0?getCurvePoints(bounds.left+topWidth,bounds.top,trh,trv,CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width,bounds.top);this.bottomRightBorderBox=brh>0||brv>0?getCurvePoints(bounds.left+bottomWidth,bounds.top+rightHeight,brh,brv,CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width,bounds.top+bounds.height);this.bottomLeftBorderBox=blh>0||blv>0?getCurvePoints(bounds.left,bounds.top+leftHeight,blh,blv,CORNER.BOTTOM_LEFT):new Vector(bounds.left,bounds.top+bounds.height);this.topLeftPaddingBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth,bounds.top+borderTopWidth,Math.max(0,tlh-borderLeftWidth),Math.max(0,tlv-borderTopWidth),CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth,bounds.top+borderTopWidth);this.topRightPaddingBox=trh>0||trv>0?getCurvePoints(bounds.left+Math.min(topWidth,bounds.width-borderRightWidth),bounds.top+borderTopWidth,topWidth>bounds.width+borderRightWidth?0:Math.max(0,trh-borderRightWidth),Math.max(0,trv-borderTopWidth),CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth,bounds.top+borderTopWidth);this.bottomRightPaddingBox=brh>0||brv>0?getCurvePoints(bounds.left+Math.min(bottomWidth,bounds.width-borderLeftWidth),bounds.top+Math.min(rightHeight,bounds.height-borderBottomWidth),Math.max(0,brh-borderRightWidth),Math.max(0,brv-borderBottomWidth),CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-borderRightWidth,bounds.top+bounds.height-borderBottomWidth);this.bottomLeftPaddingBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth,bounds.top+Math.min(leftHeight,bounds.height-borderBottomWidth),Math.max(0,blh-borderLeftWidth),Math.max(0,blv-borderBottomWidth),CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth,bounds.top+bounds.height-borderBottomWidth);this.topLeftContentBox=tlh>0||tlv>0?getCurvePoints(bounds.left+borderLeftWidth+paddingLeft,bounds.top+borderTopWidth+paddingTop,Math.max(0,tlh-(borderLeftWidth+paddingLeft)),Math.max(0,tlv-(borderTopWidth+paddingTop)),CORNER.TOP_LEFT):new Vector(bounds.left+borderLeftWidth+paddingLeft,bounds.top+borderTopWidth+paddingTop);this.topRightContentBox=trh>0||trv>0?getCurvePoints(bounds.left+Math.min(topWidth,bounds.width+borderLeftWidth+paddingLeft),bounds.top+borderTopWidth+paddingTop,topWidth>bounds.width+borderLeftWidth+paddingLeft?0:trh-borderLeftWidth+paddingLeft,trv-(borderTopWidth+paddingTop),CORNER.TOP_RIGHT):new Vector(bounds.left+bounds.width-(borderRightWidth+paddingRight),bounds.top+borderTopWidth+paddingTop);this.bottomRightContentBox=brh>0||brv>0?getCurvePoints(bounds.left+Math.min(bottomWidth,bounds.width-(borderLeftWidth+paddingLeft)),bounds.top+Math.min(rightHeight,bounds.height+borderTopWidth+paddingTop),Math.max(0,brh-(borderRightWidth+paddingRight)),brv-(borderBottomWidth+paddingBottom),CORNER.BOTTOM_RIGHT):new Vector(bounds.left+bounds.width-(borderRightWidth+paddingRight),bounds.top+bounds.height-(borderBottomWidth+paddingBottom));this.bottomLeftContentBox=blh>0||blv>0?getCurvePoints(bounds.left+borderLeftWidth+paddingLeft,bounds.top+leftHeight,Math.max(0,blh-(borderLeftWidth+paddingLeft)),blv-(borderBottomWidth+paddingBottom),CORNER.BOTTOM_LEFT):new Vector(bounds.left+borderLeftWidth+paddingLeft,bounds.top+bounds.height-(borderBottomWidth+paddingBottom))}return BoundCurves}();var CORNER;(function(CORNER){CORNER[CORNER["TOP_LEFT"]=0]="TOP_LEFT";CORNER[CORNER["TOP_RIGHT"]=1]="TOP_RIGHT";CORNER[CORNER["BOTTOM_RIGHT"]=2]="BOTTOM_RIGHT";CORNER[CORNER["BOTTOM_LEFT"]=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function getCurvePoints(x,y,r1,r2,position){var kappa=4*((Math.sqrt(2)-1)/3);var ox=r1*kappa;var oy=r2*kappa;var xm=x+r1;var ym=y+r2;switch(position){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(x,ym),new Vector(x,ym-oy),new Vector(xm-ox,y),new Vector(xm,y));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(x,y),new Vector(x+ox,y),new Vector(xm,ym-oy),new Vector(xm,ym));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(xm,y),new Vector(xm,y+oy),new Vector(x+ox,ym),new Vector(x,ym));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(xm,ym),new Vector(xm-ox,ym),new Vector(x,y+oy),new Vector(x,y))}};var calculateBorderBoxPath=function calculateBorderBoxPath(curves){return[curves.topLeftBorderBox,curves.topRightBorderBox,curves.bottomRightBorderBox,curves.bottomLeftBorderBox]};var calculateContentBoxPath=function calculateContentBoxPath(curves){return[curves.topLeftContentBox,curves.topRightContentBox,curves.bottomRightContentBox,curves.bottomLeftContentBox]};var calculatePaddingBoxPath=function calculatePaddingBoxPath(curves){return[curves.topLeftPaddingBox,curves.topRightPaddingBox,curves.bottomRightPaddingBox,curves.bottomLeftPaddingBox]};var TransformEffect=function(){function TransformEffect(offsetX,offsetY,matrix){this.offsetX=offsetX;this.offsetY=offsetY;this.matrix=matrix;this.type=0;this.target=2|4}return TransformEffect}();var ClipEffect=function(){function ClipEffect(path,target){this.path=path;this.target=target;this.type=1}return ClipEffect}();var OpacityEffect=function(){function OpacityEffect(opacity){this.opacity=opacity;this.type=2;this.target=2|4}return OpacityEffect}();var isTransformEffect=function isTransformEffect(effect){return effect.type===0};var isClipEffect=function isClipEffect(effect){return effect.type===1};var isOpacityEffect=function isOpacityEffect(effect){return effect.type===2};var equalPath=function equalPath(a,b){if(a.length===b.length){return a.some(function(v,i){return v===b[i]})}return false};var transformPath=function transformPath(path,deltaX,deltaY,deltaW,deltaH){return path.map(function(point,index){switch(index){case 0:return point.add(deltaX,deltaY);case 1:return point.add(deltaX+deltaW,deltaY);case 2:return point.add(deltaX+deltaW,deltaY+deltaH);case 3:return point.add(deltaX,deltaY+deltaH)}return point})};var StackingContext=function(){function StackingContext(container){this.element=container;this.inlineLevel=[];this.nonInlineLevel=[];this.negativeZIndex=[];this.zeroOrAutoZIndexOrTransformedOrOpacity=[];this.positiveZIndex=[];this.nonPositionedFloats=[];this.nonPositionedInlineLevel=[]}return StackingContext}();var ElementPaint=function(){function ElementPaint(container,parent){this.container=container;this.parent=parent;this.effects=[];this.curves=new BoundCurves(this.container);if(this.container.styles.opacity<1){this.effects.push(new OpacityEffect(this.container.styles.opacity))}if(this.container.styles.transform!==null){var offsetX=this.container.bounds.left+this.container.styles.transformOrigin[0].number;var offsetY=this.container.bounds.top+this.container.styles.transformOrigin[1].number;var matrix=this.container.styles.transform;this.effects.push(new TransformEffect(offsetX,offsetY,matrix))}if(this.container.styles.overflowX!==0){var borderBox=calculateBorderBoxPath(this.curves);var paddingBox=calculatePaddingBoxPath(this.curves);if(equalPath(borderBox,paddingBox)){this.effects.push(new ClipEffect(borderBox,2|4))}else{this.effects.push(new ClipEffect(borderBox,2));this.effects.push(new ClipEffect(paddingBox,4))}}}ElementPaint.prototype.getEffects=function(target){var inFlow=[2,3].indexOf(this.container.styles.position)===-1;var parent=this.parent;var effects=this.effects.slice(0);while(parent){var croplessEffects=parent.effects.filter(function(effect){return!isClipEffect(effect)});if(inFlow||parent.container.styles.position!==0||!parent.parent){effects.unshift.apply(effects,croplessEffects);inFlow=[2,3].indexOf(parent.container.styles.position)===-1;if(parent.container.styles.overflowX!==0){var borderBox=calculateBorderBoxPath(parent.curves);var paddingBox=calculatePaddingBoxPath(parent.curves);if(!equalPath(borderBox,paddingBox)){effects.unshift(new ClipEffect(paddingBox,2|4))}}}else{effects.unshift.apply(effects,croplessEffects)}parent=parent.parent}return effects.filter(function(effect){return contains(effect.target,target)})};return ElementPaint}();var parseStackTree=function parseStackTree(parent,stackingContext,realStackingContext,listItems){parent.container.elements.forEach(function(child){var treatAsRealStackingContext=contains(child.flags,4);var createsStackingContext=contains(child.flags,2);var paintContainer=new ElementPaint(child,parent);if(contains(child.styles.display,2048)){listItems.push(paintContainer)}var listOwnerItems=contains(child.flags,8)?[]:listItems;if(treatAsRealStackingContext||createsStackingContext){var parentStack=treatAsRealStackingContext||child.styles.isPositioned()?realStackingContext:stackingContext;var stack=new StackingContext(paintContainer);if(child.styles.isPositioned()||child.styles.opacity<1||child.styles.isTransformed()){var order_1=child.styles.zIndex.order;if(order_1<0){var index_1=0;parentStack.negativeZIndex.some(function(current,i){if(order_1>current.element.container.styles.zIndex.order){index_1=i;return false}else if(index_1>0){return true}return false});parentStack.negativeZIndex.splice(index_1,0,stack)}else if(order_1>0){var index_2=0;parentStack.positiveZIndex.some(function(current,i){if(order_1>=current.element.container.styles.zIndex.order){index_2=i+1;return false}else if(index_2>0){return true}return false});parentStack.positiveZIndex.splice(index_2,0,stack)}else{parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack)}}else{if(child.styles.isFloating()){parentStack.nonPositionedFloats.push(stack)}else{parentStack.nonPositionedInlineLevel.push(stack)}}parseStackTree(paintContainer,stack,treatAsRealStackingContext?stack:realStackingContext,listOwnerItems)}else{if(child.styles.isInlineLevel()){stackingContext.inlineLevel.push(paintContainer)}else{stackingContext.nonInlineLevel.push(paintContainer)}parseStackTree(paintContainer,stackingContext,realStackingContext,listOwnerItems)}if(contains(child.flags,8)){processListItems(child,listOwnerItems)}})};var processListItems=function processListItems(owner,elements){var numbering=owner instanceof OLElementContainer?owner.start:1;var reversed=owner instanceof OLElementContainer?owner.reversed:false;for(var i=0;i<elements.length;i++){var item=elements[i];if(item.container instanceof LIElementContainer&&typeof item.container.value==="number"&&item.container.value!==0){numbering=item.container.value}item.listValue=createCounterText(numbering,item.container.styles.listStyleType,true);numbering+=reversed?-1:1}};var parseStackingContexts=function parseStackingContexts(container){var paintContainer=new ElementPaint(container,null);var root=new StackingContext(paintContainer);var listItems=[];parseStackTree(paintContainer,root,root,listItems);processListItems(paintContainer.container,listItems);return root};var parsePathForBorder=function parsePathForBorder(curves,borderSide){switch(borderSide){case 0:return createPathFromCurves(curves.topLeftBorderBox,curves.topLeftPaddingBox,curves.topRightBorderBox,curves.topRightPaddingBox);case 1:return createPathFromCurves(curves.topRightBorderBox,curves.topRightPaddingBox,curves.bottomRightBorderBox,curves.bottomRightPaddingBox);case 2:return createPathFromCurves(curves.bottomRightBorderBox,curves.bottomRightPaddingBox,curves.bottomLeftBorderBox,curves.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(curves.bottomLeftBorderBox,curves.bottomLeftPaddingBox,curves.topLeftBorderBox,curves.topLeftPaddingBox)}};var parsePathForBorderDoubleOuter=function parsePathForBorderDoubleOuter(curves,borderSide){switch(borderSide){case 0:return createPathFromCurves(curves.topLeftBorderBox,curves.topLeftBorderDoubleOuterBox,curves.topRightBorderBox,curves.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(curves.topRightBorderBox,curves.topRightBorderDoubleOuterBox,curves.bottomRightBorderBox,curves.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(curves.bottomRightBorderBox,curves.bottomRightBorderDoubleOuterBox,curves.bottomLeftBorderBox,curves.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(curves.bottomLeftBorderBox,curves.bottomLeftBorderDoubleOuterBox,curves.topLeftBorderBox,curves.topLeftBorderDoubleOuterBox)}};var parsePathForBorderDoubleInner=function parsePathForBorderDoubleInner(curves,borderSide){switch(borderSide){case 0:return createPathFromCurves(curves.topLeftBorderDoubleInnerBox,curves.topLeftPaddingBox,curves.topRightBorderDoubleInnerBox,curves.topRightPaddingBox);case 1:return createPathFromCurves(curves.topRightBorderDoubleInnerBox,curves.topRightPaddingBox,curves.bottomRightBorderDoubleInnerBox,curves.bottomRightPaddingBox);case 2:return createPathFromCurves(curves.bottomRightBorderDoubleInnerBox,curves.bottomRightPaddingBox,curves.bottomLeftBorderDoubleInnerBox,curves.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(curves.bottomLeftBorderDoubleInnerBox,curves.bottomLeftPaddingBox,curves.topLeftBorderDoubleInnerBox,curves.topLeftPaddingBox)}};var parsePathForBorderStroke=function parsePathForBorderStroke(curves,borderSide){switch(borderSide){case 0:return createStrokePathFromCurves(curves.topLeftBorderStroke,curves.topRightBorderStroke);case 1:return createStrokePathFromCurves(curves.topRightBorderStroke,curves.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(curves.bottomRightBorderStroke,curves.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(curves.bottomLeftBorderStroke,curves.topLeftBorderStroke)}};var createStrokePathFromCurves=function createStrokePathFromCurves(outer1,outer2){var path=[];if(isBezierCurve(outer1)){path.push(outer1.subdivide(.5,false))}else{path.push(outer1)}if(isBezierCurve(outer2)){path.push(outer2.subdivide(.5,true))}else{path.push(outer2)}return path};var createPathFromCurves=function createPathFromCurves(outer1,inner1,outer2,inner2){var path=[];if(isBezierCurve(outer1)){path.push(outer1.subdivide(.5,false))}else{path.push(outer1)}if(isBezierCurve(outer2)){path.push(outer2.subdivide(.5,true))}else{path.push(outer2)}if(isBezierCurve(inner2)){path.push(inner2.subdivide(.5,true).reverse())}else{path.push(inner2)}if(isBezierCurve(inner1)){path.push(inner1.subdivide(.5,false).reverse())}else{path.push(inner1)}return path};var paddingBox=function paddingBox(element){var bounds=element.bounds;var styles=element.styles;return bounds.add(styles.borderLeftWidth,styles.borderTopWidth,-(styles.borderRightWidth+styles.borderLeftWidth),-(styles.borderTopWidth+styles.borderBottomWidth))};var contentBox=function contentBox(element){var styles=element.styles;var bounds=element.bounds;var paddingLeft=getAbsoluteValue(styles.paddingLeft,bounds.width);var paddingRight=getAbsoluteValue(styles.paddingRight,bounds.width);var paddingTop=getAbsoluteValue(styles.paddingTop,bounds.width);var paddingBottom=getAbsoluteValue(styles.paddingBottom,bounds.width);return bounds.add(paddingLeft+styles.borderLeftWidth,paddingTop+styles.borderTopWidth,-(styles.borderRightWidth+styles.borderLeftWidth+paddingLeft+paddingRight),-(styles.borderTopWidth+styles.borderBottomWidth+paddingTop+paddingBottom))};var calculateBackgroundPositioningArea=function calculateBackgroundPositioningArea(backgroundOrigin,element){if(backgroundOrigin===0){return element.bounds}if(backgroundOrigin===2){return contentBox(element)}return paddingBox(element)};var calculateBackgroundPaintingArea=function calculateBackgroundPaintingArea(backgroundClip,element){if(backgroundClip===0){return element.bounds}if(backgroundClip===2){return contentBox(element)}return paddingBox(element)};var calculateBackgroundRendering=function calculateBackgroundRendering(container,index,intrinsicSize){var backgroundPositioningArea=calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin,index),container);var backgroundPaintingArea=calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip,index),container);var backgroundImageSize=calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize,index),intrinsicSize,backgroundPositioningArea);var sizeWidth=backgroundImageSize[0],sizeHeight=backgroundImageSize[1];var position=getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition,index),backgroundPositioningArea.width-sizeWidth,backgroundPositioningArea.height-sizeHeight);var path=calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat,index),position,backgroundImageSize,backgroundPositioningArea,backgroundPaintingArea);var offsetX=Math.round(backgroundPositioningArea.left+position[0]);var offsetY=Math.round(backgroundPositioningArea.top+position[1]);return[path,offsetX,offsetY,sizeWidth,sizeHeight]};var isAuto=function isAuto(token){return isIdentToken(token)&&token.value===BACKGROUND_SIZE.AUTO};var hasIntrinsicValue=function hasIntrinsicValue(value){return typeof value==="number"};var calculateBackgroundSize=function calculateBackgroundSize(size,_a,bounds){var intrinsicWidth=_a[0],intrinsicHeight=_a[1],intrinsicProportion=_a[2];var first=size[0],second=size[1];if(!first){return[0,0]}if(isLengthPercentage(first)&&second&&isLengthPercentage(second)){return[getAbsoluteValue(first,bounds.width),getAbsoluteValue(second,bounds.height)]}var hasIntrinsicProportion=hasIntrinsicValue(intrinsicProportion);if(isIdentToken(first)&&(first.value===BACKGROUND_SIZE.CONTAIN||first.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(intrinsicProportion)){var targetRatio=bounds.width/bounds.height;return targetRatio<intrinsicProportion!==(first.value===BACKGROUND_SIZE.COVER)?[bounds.width,bounds.width/intrinsicProportion]:[bounds.height*intrinsicProportion,bounds.height]}return[bounds.width,bounds.height]}var hasIntrinsicWidth=hasIntrinsicValue(intrinsicWidth);var hasIntrinsicHeight=hasIntrinsicValue(intrinsicHeight);var hasIntrinsicDimensions=hasIntrinsicWidth||hasIntrinsicHeight;if(isAuto(first)&&(!second||isAuto(second))){if(hasIntrinsicWidth&&hasIntrinsicHeight){return[intrinsicWidth,intrinsicHeight]}if(!hasIntrinsicProportion&&!hasIntrinsicDimensions){return[bounds.width,bounds.height]}if(hasIntrinsicDimensions&&hasIntrinsicProportion){var width_1=hasIntrinsicWidth?intrinsicWidth:intrinsicHeight*intrinsicProportion;var height_1=hasIntrinsicHeight?intrinsicHeight:intrinsicWidth/intrinsicProportion;return[width_1,height_1]}var width_2=hasIntrinsicWidth?intrinsicWidth:bounds.width;var height_2=hasIntrinsicHeight?intrinsicHeight:bounds.height;return[width_2,height_2]}if(hasIntrinsicProportion){var width_3=0;var height_3=0;if(isLengthPercentage(first)){width_3=getAbsoluteValue(first,bounds.width)}else if(isLengthPercentage(second)){height_3=getAbsoluteValue(second,bounds.height)}if(isAuto(first)){width_3=height_3*intrinsicProportion}else if(!second||isAuto(second)){height_3=width_3/intrinsicProportion}return[width_3,height_3]}var width=null;var height=null;if(isLengthPercentage(first)){width=getAbsoluteValue(first,bounds.width)}else if(second&&isLengthPercentage(second)){height=getAbsoluteValue(second,bounds.height)}if(width!==null&&(!second||isAuto(second))){height=hasIntrinsicWidth&&hasIntrinsicHeight?width/intrinsicWidth*intrinsicHeight:bounds.height}if(height!==null&&isAuto(first)){width=hasIntrinsicWidth&&hasIntrinsicHeight?height/intrinsicHeight*intrinsicWidth:bounds.width}if(width!==null&&height!==null){return[width,height]}throw new Error("Unable to calculate background-size for element")};var getBackgroundValueForIndex=function getBackgroundValueForIndex(values,index){var value=values[index];if(typeof value==="undefined"){return values[0]}return value};var calculateBackgroundRepeatPath=function calculateBackgroundRepeatPath(repeat,_a,_b,backgroundPositioningArea,backgroundPaintingArea){var x=_a[0],y=_a[1];var width=_b[0],height=_b[1];switch(repeat){case 2:return[new Vector(Math.round(backgroundPositioningArea.left),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+backgroundPositioningArea.width),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+backgroundPositioningArea.width),Math.round(height+backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left),Math.round(height+backgroundPositioningArea.top+y))];case 3:return[new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.height+backgroundPositioningArea.top)),new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.height+backgroundPositioningArea.top))];case 1:return[new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top+y)),new Vector(Math.round(backgroundPositioningArea.left+x+width),Math.round(backgroundPositioningArea.top+y+height)),new Vector(Math.round(backgroundPositioningArea.left+x),Math.round(backgroundPositioningArea.top+y+height))];default:return[new Vector(Math.round(backgroundPaintingArea.left),Math.round(backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left+backgroundPaintingArea.width),Math.round(backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left+backgroundPaintingArea.width),Math.round(backgroundPaintingArea.height+backgroundPaintingArea.top)),new Vector(Math.round(backgroundPaintingArea.left),Math.round(backgroundPaintingArea.height+backgroundPaintingArea.top))]}};var SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";var SAMPLE_TEXT="Hidden Text";var FontMetrics=function(){function FontMetrics(document){this._data={};this._document=document}FontMetrics.prototype.parseMetrics=function(fontFamily,fontSize){var container=this._document.createElement("div");var img=this._document.createElement("img");var span=this._document.createElement("span");var body=this._document.body;container.style.visibility="hidden";container.style.fontFamily=fontFamily;container.style.fontSize=fontSize;container.style.margin="0";container.style.padding="0";container.style.whiteSpace="nowrap";body.appendChild(container);img.src=SMALL_IMAGE;img.width=1;img.height=1;img.style.margin="0";img.style.padding="0";img.style.verticalAlign="baseline";span.style.fontFamily=fontFamily;span.style.fontSize=fontSize;span.style.margin="0";span.style.padding="0";span.appendChild(this._document.createTextNode(SAMPLE_TEXT));container.appendChild(span);container.appendChild(img);var baseline=img.offsetTop-span.offsetTop+2;container.removeChild(span);container.appendChild(this._document.createTextNode(SAMPLE_TEXT));container.style.lineHeight="normal";img.style.verticalAlign="super";var middle=img.offsetTop-container.offsetTop+2;body.removeChild(container);return{baseline:baseline,middle:middle}};FontMetrics.prototype.getMetrics=function(fontFamily,fontSize){var key=fontFamily+" "+fontSize;if(typeof this._data[key]==="undefined"){this._data[key]=this.parseMetrics(fontFamily,fontSize)}return this._data[key]};return FontMetrics}();var Renderer=function(){function Renderer(context,options){this.context=context;this.options=options}return Renderer}();var MASK_OFFSET=1e4;var CanvasRenderer=function(_super){__extends(CanvasRenderer,_super);function CanvasRenderer(context,options){var _this=_super.call(this,context,options)||this;_this._activeEffects=[];_this.canvas=options.canvas?options.canvas:document.createElement("canvas");_this.ctx=_this.canvas.getContext("2d");if(!options.canvas){_this.canvas.width=Math.floor(options.width*options.scale);_this.canvas.height=Math.floor(options.height*options.scale);_this.canvas.style.width=options.width+"px";_this.canvas.style.height=options.height+"px"}_this.fontMetrics=new FontMetrics(document);_this.ctx.scale(_this.options.scale,_this.options.scale);_this.ctx.translate(-options.x,-options.y);_this.ctx.textBaseline="bottom";_this._activeEffects=[];_this.context.logger.debug("Canvas renderer initialized ("+options.width+"x"+options.height+") with scale "+options.scale);return _this}CanvasRenderer.prototype.applyEffects=function(effects){var _this=this;while(this._activeEffects.length){this.popEffect()}effects.forEach(function(effect){return _this.applyEffect(effect)})};CanvasRenderer.prototype.applyEffect=function(effect){this.ctx.save();if(isOpacityEffect(effect)){this.ctx.globalAlpha=effect.opacity}if(isTransformEffect(effect)){this.ctx.translate(effect.offsetX,effect.offsetY);this.ctx.transform(effect.matrix[0],effect.matrix[1],effect.matrix[2],effect.matrix[3],effect.matrix[4],effect.matrix[5]);this.ctx.translate(-effect.offsetX,-effect.offsetY)}if(isClipEffect(effect)){this.path(effect.path);this.ctx.clip()}this._activeEffects.push(effect)};CanvasRenderer.prototype.popEffect=function(){this._activeEffects.pop();this.ctx.restore()};CanvasRenderer.prototype.renderStack=function(stack){return __awaiter(this,void 0,void 0,function(){var styles;return __generator(this,function(_a){switch(_a.label){case 0:styles=stack.element.container.styles;if(!styles.isVisible())return[3,2];return[4,this.renderStackContent(stack)];case 1:_a.sent();_a.label=2;case 2:return[2]}})})};CanvasRenderer.prototype.renderNode=function(paint){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:if(contains(paint.container.flags,16)){debugger}if(!paint.container.styles.isVisible())return[3,3];return[4,this.renderNodeBackgroundAndBorders(paint)];case 1:_a.sent();return[4,this.renderNodeContent(paint)];case 2:_a.sent();_a.label=3;case 3:return[2]}})})};CanvasRenderer.prototype.renderTextWithLetterSpacing=function(text,letterSpacing,baseline){var _this=this;if(letterSpacing===0){this.ctx.fillText(text.text,text.bounds.left,text.bounds.top+baseline)}else{var letters=segmentGraphemes(text.text);letters.reduce(function(left,letter){_this.ctx.fillText(letter,left,text.bounds.top+baseline);return left+_this.ctx.measureText(letter).width},text.bounds.left)}};CanvasRenderer.prototype.createFontStyle=function(styles){var fontVariant=styles.fontVariant.filter(function(variant){return variant==="normal"||variant==="small-caps"}).join("");var fontFamily=fixIOSSystemFonts(styles.fontFamily).join(", ");var fontSize=isDimensionToken(styles.fontSize)?""+styles.fontSize.number+styles.fontSize.unit:styles.fontSize.number+"px";return[[styles.fontStyle,fontVariant,styles.fontWeight,fontSize,fontFamily].join(" "),fontFamily,fontSize]};CanvasRenderer.prototype.renderTextNode=function(text,styles){return __awaiter(this,void 0,void 0,function(){var _a,font,fontFamily,fontSize,_b,baseline,middle,paintOrder;var _this=this;return __generator(this,function(_c){_a=this.createFontStyle(styles),font=_a[0],fontFamily=_a[1],fontSize=_a[2];this.ctx.font=font;this.ctx.direction=styles.direction===1?"rtl":"ltr";this.ctx.textAlign="left";this.ctx.textBaseline="alphabetic";_b=this.fontMetrics.getMetrics(fontFamily,fontSize),baseline=_b.baseline,middle=_b.middle;paintOrder=styles.paintOrder;text.textBounds.forEach(function(text){paintOrder.forEach(function(paintOrderLayer){switch(paintOrderLayer){case 0:_this.ctx.fillStyle=asString(styles.color);_this.renderTextWithLetterSpacing(text,styles.letterSpacing,baseline);var textShadows=styles.textShadow;if(textShadows.length&&text.text.trim().length){textShadows.slice(0).reverse().forEach(function(textShadow){_this.ctx.shadowColor=asString(textShadow.color);_this.ctx.shadowOffsetX=textShadow.offsetX.number*_this.options.scale;_this.ctx.shadowOffsetY=textShadow.offsetY.number*_this.options.scale;_this.ctx.shadowBlur=textShadow.blur.number;_this.renderTextWithLetterSpacing(text,styles.letterSpacing,baseline)});_this.ctx.shadowColor="";_this.ctx.shadowOffsetX=0;_this.ctx.shadowOffsetY=0;_this.ctx.shadowBlur=0}if(styles.textDecorationLine.length){_this.ctx.fillStyle=asString(styles.textDecorationColor||styles.color);styles.textDecorationLine.forEach(function(textDecorationLine){switch(textDecorationLine){case 1:_this.ctx.fillRect(text.bounds.left,Math.round(text.bounds.top+baseline),text.bounds.width,1);break;case 2:_this.ctx.fillRect(text.bounds.left,Math.round(text.bounds.top),text.bounds.width,1);break;case 3:_this.ctx.fillRect(text.bounds.left,Math.ceil(text.bounds.top+middle),text.bounds.width,1);break}})}break;case 1:if(styles.webkitTextStrokeWidth&&text.text.trim().length){_this.ctx.strokeStyle=asString(styles.webkitTextStrokeColor);_this.ctx.lineWidth=styles.webkitTextStrokeWidth;_this.ctx.lineJoin=!!window.chrome?"miter":"round";_this.ctx.strokeText(text.text,text.bounds.left,text.bounds.top+baseline)}_this.ctx.strokeStyle="";_this.ctx.lineWidth=0;_this.ctx.lineJoin="miter";break}})});return[2]})})};CanvasRenderer.prototype.renderReplacedElement=function(container,curves,image){if(image&&container.intrinsicWidth>0&&container.intrinsicHeight>0){var box=contentBox(container);var path=calculatePaddingBoxPath(curves);this.path(path);this.ctx.save();this.ctx.clip();this.ctx.drawImage(image,0,0,container.intrinsicWidth,container.intrinsicHeight,box.left,box.top,box.width,box.height);this.ctx.restore()}};CanvasRenderer.prototype.renderNodeContent=function(paint){return __awaiter(this,void 0,void 0,function(){var container,curves,styles,_i,_a,child,image,image,iframeRenderer,canvas,size,_b,fontFamily,fontSize,baseline,bounds,x,textBounds,img,image,url,fontFamily,bounds;return __generator(this,function(_c){switch(_c.label){case 0:this.applyEffects(paint.getEffects(4));container=paint.container;curves=paint.curves;styles=container.styles;_i=0,_a=container.textNodes;_c.label=1;case 1:if(!(_i<_a.length))return[3,4];child=_a[_i];return[4,this.renderTextNode(child,styles)];case 2:_c.sent();_c.label=3;case 3:_i++;return[3,1];case 4:if(!(container instanceof ImageElementContainer))return[3,8];_c.label=5;case 5:_c.trys.push([5,7,,8]);return[4,this.context.cache.match(container.src)];case 6:image=_c.sent();this.renderReplacedElement(container,curves,image);return[3,8];case 7:_c.sent();this.context.logger.error("Error loading image "+container.src);return[3,8];case 8:if(container instanceof CanvasElementContainer){this.renderReplacedElement(container,curves,container.canvas)}if(!(container instanceof SVGElementContainer))return[3,12];_c.label=9;case 9:_c.trys.push([9,11,,12]);return[4,this.context.cache.match(container.svg)];case 10:image=_c.sent();this.renderReplacedElement(container,curves,image);return[3,12];case 11:_c.sent();this.context.logger.error("Error loading svg "+container.svg.substring(0,255));return[3,12];case 12:if(!(container instanceof IFrameElementContainer&&container.tree))return[3,14];iframeRenderer=new CanvasRenderer(this.context,{scale:this.options.scale,backgroundColor:container.backgroundColor,x:0,y:0,width:container.width,height:container.height});return[4,iframeRenderer.render(container.tree)];case 13:canvas=_c.sent();if(container.width&&container.height){this.ctx.drawImage(canvas,0,0,container.width,container.height,container.bounds.left,container.bounds.top,container.bounds.width,container.bounds.height)}_c.label=14;case 14:if(container instanceof InputElementContainer){size=Math.min(container.bounds.width,container.bounds.height);if(container.type===CHECKBOX){if(container.checked){this.ctx.save();this.path([new Vector(container.bounds.left+size*.39363,container.bounds.top+size*.79),new Vector(container.bounds.left+size*.16,container.bounds.top+size*.5549),new Vector(container.bounds.left+size*.27347,container.bounds.top+size*.44071),new Vector(container.bounds.left+size*.39694,container.bounds.top+size*.5649),new Vector(container.bounds.left+size*.72983,container.bounds.top+size*.23),new Vector(container.bounds.left+size*.84,container.bounds.top+size*.34085),new Vector(container.bounds.left+size*.39363,container.bounds.top+size*.79)]);this.ctx.fillStyle=asString(INPUT_COLOR);this.ctx.fill();this.ctx.restore()}}else if(container.type===RADIO){if(container.checked){this.ctx.save();this.ctx.beginPath();this.ctx.arc(container.bounds.left+size/2,container.bounds.top+size/2,size/4,0,Math.PI*2,true);this.ctx.fillStyle=asString(INPUT_COLOR);this.ctx.fill();this.ctx.restore()}}}if(isTextInputElement(container)&&container.value.length){_b=this.createFontStyle(styles),fontFamily=_b[0],fontSize=_b[1];baseline=this.fontMetrics.getMetrics(fontFamily,fontSize).baseline;this.ctx.font=fontFamily;this.ctx.fillStyle=asString(styles.color);this.ctx.textBaseline="alphabetic";this.ctx.textAlign=canvasTextAlign(container.styles.textAlign);bounds=contentBox(container);x=0;switch(container.styles.textAlign){case 1:x+=bounds.width/2;break;case 2:x+=bounds.width;break}textBounds=bounds.add(x,0,0,-bounds.height/2+1);this.ctx.save();this.path([new Vector(bounds.left,bounds.top),new Vector(bounds.left+bounds.width,bounds.top),new Vector(bounds.left+bounds.width,bounds.top+bounds.height),new Vector(bounds.left,bounds.top+bounds.height)]);this.ctx.clip();this.renderTextWithLetterSpacing(new TextBounds(container.value,textBounds),styles.letterSpacing,baseline);this.ctx.restore();this.ctx.textBaseline="alphabetic";this.ctx.textAlign="left"}if(!contains(container.styles.display,2048))return[3,20];if(!(container.styles.listStyleImage!==null))return[3,19];img=container.styles.listStyleImage;if(!(img.type===0))return[3,18];image=void 0;url=img.url;_c.label=15;case 15:_c.trys.push([15,17,,18]);return[4,this.context.cache.match(url)];case 16:image=_c.sent();this.ctx.drawImage(image,container.bounds.left-(image.width+10),container.bounds.top);return[3,18];case 17:_c.sent();this.context.logger.error("Error loading list-style-image "+url);return[3,18];case 18:return[3,20];case 19:if(paint.listValue&&container.styles.listStyleType!==-1){fontFamily=this.createFontStyle(styles)[0];this.ctx.font=fontFamily;this.ctx.fillStyle=asString(styles.color);this.ctx.textBaseline="middle";this.ctx.textAlign="right";bounds=new Bounds(container.bounds.left,container.bounds.top+getAbsoluteValue(container.styles.paddingTop,container.bounds.width),container.bounds.width,computeLineHeight(styles.lineHeight,styles.fontSize.number)/2+1);this.renderTextWithLetterSpacing(new TextBounds(paint.listValue,bounds),styles.letterSpacing,computeLineHeight(styles.lineHeight,styles.fontSize.number)/2+2);this.ctx.textBaseline="bottom";this.ctx.textAlign="left"}_c.label=20;case 20:return[2]}})})};CanvasRenderer.prototype.renderStackContent=function(stack){return __awaiter(this,void 0,void 0,function(){var _i,_a,child,_b,_c,child,_d,_e,child,_f,_g,child,_h,_j,child,_k,_l,child,_m,_o,child;return __generator(this,function(_p){switch(_p.label){case 0:if(contains(stack.element.container.flags,16)){debugger}return[4,this.renderNodeBackgroundAndBorders(stack.element)];case 1:_p.sent();_i=0,_a=stack.negativeZIndex;_p.label=2;case 2:if(!(_i<_a.length))return[3,5];child=_a[_i];return[4,this.renderStack(child)];case 3:_p.sent();_p.label=4;case 4:_i++;return[3,2];case 5:return[4,this.renderNodeContent(stack.element)];case 6:_p.sent();_b=0,_c=stack.nonInlineLevel;_p.label=7;case 7:if(!(_b<_c.length))return[3,10];child=_c[_b];return[4,this.renderNode(child)];case 8:_p.sent();_p.label=9;case 9:_b++;return[3,7];case 10:_d=0,_e=stack.nonPositionedFloats;_p.label=11;case 11:if(!(_d<_e.length))return[3,14];child=_e[_d];return[4,this.renderStack(child)];case 12:_p.sent();_p.label=13;case 13:_d++;return[3,11];case 14:_f=0,_g=stack.nonPositionedInlineLevel;_p.label=15;case 15:if(!(_f<_g.length))return[3,18];child=_g[_f];return[4,this.renderStack(child)];case 16:_p.sent();_p.label=17;case 17:_f++;return[3,15];case 18:_h=0,_j=stack.inlineLevel;_p.label=19;case 19:if(!(_h<_j.length))return[3,22];child=_j[_h];return[4,this.renderNode(child)];case 20:_p.sent();_p.label=21;case 21:_h++;return[3,19];case 22:_k=0,_l=stack.zeroOrAutoZIndexOrTransformedOrOpacity;_p.label=23;case 23:if(!(_k<_l.length))return[3,26];child=_l[_k];return[4,this.renderStack(child)];case 24:_p.sent();_p.label=25;case 25:_k++;return[3,23];case 26:_m=0,_o=stack.positiveZIndex;_p.label=27;case 27:if(!(_m<_o.length))return[3,30];child=_o[_m];return[4,this.renderStack(child)];case 28:_p.sent();_p.label=29;case 29:_m++;return[3,27];case 30:return[2]}})})};CanvasRenderer.prototype.mask=function(paths){this.ctx.beginPath();this.ctx.moveTo(0,0);this.ctx.lineTo(this.canvas.width,0);this.ctx.lineTo(this.canvas.width,this.canvas.height);this.ctx.lineTo(0,this.canvas.height);this.ctx.lineTo(0,0);this.formatPath(paths.slice(0).reverse());this.ctx.closePath()};CanvasRenderer.prototype.path=function(paths){this.ctx.beginPath();this.formatPath(paths);this.ctx.closePath()};CanvasRenderer.prototype.formatPath=function(paths){var _this=this;paths.forEach(function(point,index){var start=isBezierCurve(point)?point.start:point;if(index===0){_this.ctx.moveTo(start.x,start.y)}else{_this.ctx.lineTo(start.x,start.y)}if(isBezierCurve(point)){_this.ctx.bezierCurveTo(point.startControl.x,point.startControl.y,point.endControl.x,point.endControl.y,point.end.x,point.end.y)}})};CanvasRenderer.prototype.renderRepeat=function(path,pattern,offsetX,offsetY){this.path(path);this.ctx.fillStyle=pattern;this.ctx.translate(offsetX,offsetY);this.ctx.fill();this.ctx.translate(-offsetX,-offsetY)};CanvasRenderer.prototype.resizeImage=function(image,width,height){var _a;if(image.width===width&&image.height===height){return image}var ownerDocument=(_a=this.canvas.ownerDocument)!==null&&_a!==void 0?_a:document;var canvas=ownerDocument.createElement("canvas");canvas.width=Math.max(1,width);canvas.height=Math.max(1,height);var ctx=canvas.getContext("2d");ctx.drawImage(image,0,0,image.width,image.height,0,0,width,height);return canvas};CanvasRenderer.prototype.renderBackgroundImage=function(container){return __awaiter(this,void 0,void 0,function(){var index,_loop_1,this_1,_i,_a,backgroundImage;return __generator(this,function(_b){switch(_b.label){case 0:index=container.styles.backgroundImage.length-1;_loop_1=function _loop_1(backgroundImage){var image,url,_c,path,x,y,width,height,pattern,_d,path,x,y,width,height,_e,lineLength,x0,x1,y0,y1,canvas,ctx,gradient_1,pattern,_f,path,left,top_1,width,height,position,x,y,_g,rx,ry,radialGradient_1,midX,midY,f,invF;return __generator(this,function(_h){switch(_h.label){case 0:if(!(backgroundImage.type===0))return[3,5];image=void 0;url=backgroundImage.url;_h.label=1;case 1:_h.trys.push([1,3,,4]);return[4,this_1.context.cache.match(url)];case 2:image=_h.sent();return[3,4];case 3:_h.sent();this_1.context.logger.error("Error loading background-image "+url);return[3,4];case 4:if(image){_c=calculateBackgroundRendering(container,index,[image.width,image.height,image.width/image.height]),path=_c[0],x=_c[1],y=_c[2],width=_c[3],height=_c[4];pattern=this_1.ctx.createPattern(this_1.resizeImage(image,width,height),"repeat");this_1.renderRepeat(path,pattern,x,y)}return[3,6];case 5:if(isLinearGradient(backgroundImage)){_d=calculateBackgroundRendering(container,index,[null,null,null]),path=_d[0],x=_d[1],y=_d[2],width=_d[3],height=_d[4];_e=calculateGradientDirection(backgroundImage.angle,width,height),lineLength=_e[0],x0=_e[1],x1=_e[2],y0=_e[3],y1=_e[4];canvas=document.createElement("canvas");canvas.width=width;canvas.height=height;ctx=canvas.getContext("2d");gradient_1=ctx.createLinearGradient(x0,y0,x1,y1);processColorStops(backgroundImage.stops,lineLength).forEach(function(colorStop){return gradient_1.addColorStop(colorStop.stop,asString(colorStop.color))});ctx.fillStyle=gradient_1;ctx.fillRect(0,0,width,height);if(width>0&&height>0){pattern=this_1.ctx.createPattern(canvas,"repeat");this_1.renderRepeat(path,pattern,x,y)}}else if(isRadialGradient(backgroundImage)){_f=calculateBackgroundRendering(container,index,[null,null,null]),path=_f[0],left=_f[1],top_1=_f[2],width=_f[3],height=_f[4];position=backgroundImage.position.length===0?[FIFTY_PERCENT]:backgroundImage.position;x=getAbsoluteValue(position[0],width);y=getAbsoluteValue(position[position.length-1],height);_g=calculateRadius(backgroundImage,x,y,width,height),rx=_g[0],ry=_g[1];if(rx>0&&ry>0){radialGradient_1=this_1.ctx.createRadialGradient(left+x,top_1+y,0,left+x,top_1+y,rx);processColorStops(backgroundImage.stops,rx*2).forEach(function(colorStop){return radialGradient_1.addColorStop(colorStop.stop,asString(colorStop.color))});this_1.path(path);this_1.ctx.fillStyle=radialGradient_1;if(rx!==ry){midX=container.bounds.left+.5*container.bounds.width;midY=container.bounds.top+.5*container.bounds.height;f=ry/rx;invF=1/f;this_1.ctx.save();this_1.ctx.translate(midX,midY);this_1.ctx.transform(1,0,0,f,0,0);this_1.ctx.translate(-midX,-midY);this_1.ctx.fillRect(left,invF*(top_1-midY)+midY,width,height*invF);this_1.ctx.restore()}else{this_1.ctx.fill()}}}_h.label=6;case 6:index--;return[2]}})};this_1=this;_i=0,_a=container.styles.backgroundImage.slice(0).reverse();_b.label=1;case 1:if(!(_i<_a.length))return[3,4];backgroundImage=_a[_i];return[5,_loop_1(backgroundImage)];case 2:_b.sent();_b.label=3;case 3:_i++;return[3,1];case 4:return[2]}})})};CanvasRenderer.prototype.renderSolidBorder=function(color,side,curvePoints){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){this.path(parsePathForBorder(curvePoints,side));this.ctx.fillStyle=asString(color);this.ctx.fill();return[2]})})};CanvasRenderer.prototype.renderDoubleBorder=function(color,width,side,curvePoints){return __awaiter(this,void 0,void 0,function(){var outerPaths,innerPaths;return __generator(this,function(_a){switch(_a.label){case 0:if(!(width<3))return[3,2];return[4,this.renderSolidBorder(color,side,curvePoints)];case 1:_a.sent();return[2];case 2:outerPaths=parsePathForBorderDoubleOuter(curvePoints,side);this.path(outerPaths);this.ctx.fillStyle=asString(color);this.ctx.fill();innerPaths=parsePathForBorderDoubleInner(curvePoints,side);this.path(innerPaths);this.ctx.fill();return[2]}})})};CanvasRenderer.prototype.renderNodeBackgroundAndBorders=function(paint){return __awaiter(this,void 0,void 0,function(){var styles,hasBackground,borders,backgroundPaintingArea,side,_i,borders_1,border;var _this=this;return __generator(this,function(_a){switch(_a.label){case 0:this.applyEffects(paint.getEffects(2));styles=paint.container.styles;hasBackground=!isTransparent(styles.backgroundColor)||styles.backgroundImage.length;borders=[{style:styles.borderTopStyle,color:styles.borderTopColor,width:styles.borderTopWidth},{style:styles.borderRightStyle,color:styles.borderRightColor,width:styles.borderRightWidth},{style:styles.borderBottomStyle,color:styles.borderBottomColor,width:styles.borderBottomWidth},{style:styles.borderLeftStyle,color:styles.borderLeftColor,width:styles.borderLeftWidth}];backgroundPaintingArea=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip,0),paint.curves);if(!(hasBackground||styles.boxShadow.length))return[3,2];this.ctx.save();this.path(backgroundPaintingArea);this.ctx.clip();if(!isTransparent(styles.backgroundColor)){this.ctx.fillStyle=asString(styles.backgroundColor);this.ctx.fill()}return[4,this.renderBackgroundImage(paint.container)];case 1:_a.sent();this.ctx.restore();styles.boxShadow.slice(0).reverse().forEach(function(shadow){_this.ctx.save();var borderBoxArea=calculateBorderBoxPath(paint.curves);var maskOffset=shadow.inset?0:MASK_OFFSET;var shadowPaintingArea=transformPath(borderBoxArea,-maskOffset+(shadow.inset?1:-1)*shadow.spread.number,(shadow.inset?1:-1)*shadow.spread.number,shadow.spread.number*(shadow.inset?-2:2),shadow.spread.number*(shadow.inset?-2:2));if(shadow.inset){_this.path(borderBoxArea);_this.ctx.clip();_this.mask(shadowPaintingArea)}else{_this.mask(borderBoxArea);_this.ctx.clip();_this.path(shadowPaintingArea)}_this.ctx.shadowOffsetX=shadow.offsetX.number+maskOffset;_this.ctx.shadowOffsetY=shadow.offsetY.number;_this.ctx.shadowColor=asString(shadow.color);_this.ctx.shadowBlur=shadow.blur.number;_this.ctx.fillStyle=shadow.inset?asString(shadow.color):"rgba(0,0,0,1)";_this.ctx.fill();_this.ctx.restore()});_a.label=2;case 2:side=0;_i=0,borders_1=borders;_a.label=3;case 3:if(!(_i<borders_1.length))return[3,13];border=borders_1[_i];if(!(border.style!==0&&!isTransparent(border.color)&&border.width>0))return[3,11];if(!(border.style===2))return[3,5];return[4,this.renderDashedDottedBorder(border.color,border.width,side,paint.curves,2)];case 4:_a.sent();return[3,11];case 5:if(!(border.style===3))return[3,7];return[4,this.renderDashedDottedBorder(border.color,border.width,side,paint.curves,3)];case 6:_a.sent();return[3,11];case 7:if(!(border.style===4))return[3,9];return[4,this.renderDoubleBorder(border.color,border.width,side,paint.curves)];case 8:_a.sent();return[3,11];case 9:return[4,this.renderSolidBorder(border.color,side,paint.curves)];case 10:_a.sent();_a.label=11;case 11:side++;_a.label=12;case 12:_i++;return[3,3];case 13:return[2]}})})};CanvasRenderer.prototype.renderDashedDottedBorder=function(color,width,side,curvePoints,style){return __awaiter(this,void 0,void 0,function(){var strokePaths,boxPaths,startX,startY,endX,endY,length,dashLength,spaceLength,useLineDash,multiplier,numberOfDashes,minSpace,maxSpace,path1,path2,path1,path2;return __generator(this,function(_a){this.ctx.save();strokePaths=parsePathForBorderStroke(curvePoints,side);boxPaths=parsePathForBorder(curvePoints,side);if(style===2){this.path(boxPaths);this.ctx.clip()}if(isBezierCurve(boxPaths[0])){startX=boxPaths[0].start.x;startY=boxPaths[0].start.y}else{startX=boxPaths[0].x;startY=boxPaths[0].y}if(isBezierCurve(boxPaths[1])){endX=boxPaths[1].end.x;endY=boxPaths[1].end.y}else{endX=boxPaths[1].x;endY=boxPaths[1].y}if(side===0||side===2){length=Math.abs(startX-endX)}else{length=Math.abs(startY-endY)}this.ctx.beginPath();if(style===3){this.formatPath(strokePaths)}else{this.formatPath(boxPaths.slice(0,2))}dashLength=width<3?width*3:width*2;spaceLength=width<3?width*2:width;if(style===3){dashLength=width;spaceLength=width}useLineDash=true;if(length<=dashLength*2){useLineDash=false}else if(length<=dashLength*2+spaceLength){multiplier=length/(2*dashLength+spaceLength);dashLength*=multiplier;spaceLength*=multiplier}else{numberOfDashes=Math.floor((length+spaceLength)/(dashLength+spaceLength));minSpace=(length-numberOfDashes*dashLength)/(numberOfDashes-1);maxSpace=(length-(numberOfDashes+1)*dashLength)/numberOfDashes;spaceLength=maxSpace<=0||Math.abs(spaceLength-minSpace)<Math.abs(spaceLength-maxSpace)?minSpace:maxSpace}if(useLineDash){if(style===3){this.ctx.setLineDash([0,dashLength+spaceLength])}else{this.ctx.setLineDash([dashLength,spaceLength])}}if(style===3){this.ctx.lineCap="round";this.ctx.lineWidth=width}else{this.ctx.lineWidth=width*2+1.1}this.ctx.strokeStyle=asString(color);this.ctx.stroke();this.ctx.setLineDash([]);if(style===2){if(isBezierCurve(boxPaths[0])){path1=boxPaths[3];path2=boxPaths[0];this.ctx.beginPath();this.formatPath([new Vector(path1.end.x,path1.end.y),new Vector(path2.start.x,path2.start.y)]);this.ctx.stroke()}if(isBezierCurve(boxPaths[1])){path1=boxPaths[1];path2=boxPaths[2];this.ctx.beginPath();this.formatPath([new Vector(path1.end.x,path1.end.y),new Vector(path2.start.x,path2.start.y)]);this.ctx.stroke()}}this.ctx.restore();return[2]})})};CanvasRenderer.prototype.render=function(element){return __awaiter(this,void 0,void 0,function(){var stack;return __generator(this,function(_a){switch(_a.label){case 0:if(this.options.backgroundColor){this.ctx.fillStyle=asString(this.options.backgroundColor);this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)}stack=parseStackingContexts(element);return[4,this.renderStack(stack)];case 1:_a.sent();this.applyEffects([]);return[2,this.canvas]}})})};return CanvasRenderer}(Renderer);var isTextInputElement=function isTextInputElement(container){if(container instanceof TextareaElementContainer){return true}else if(container instanceof SelectElementContainer){return true}else if(container instanceof InputElementContainer&&container.type!==RADIO&&container.type!==CHECKBOX){return true}return false};var calculateBackgroundCurvedPaintingArea=function calculateBackgroundCurvedPaintingArea(clip,curves){switch(clip){case 0:return calculateBorderBoxPath(curves);case 2:return calculateContentBoxPath(curves);case 1:default:return calculatePaddingBoxPath(curves)}};var canvasTextAlign=function canvasTextAlign(textAlign){switch(textAlign){case 1:return"center";case 2:return"right";case 0:default:return"left"}};var iOSBrokenFonts=["-apple-system","system-ui"];var fixIOSSystemFonts=function fixIOSSystemFonts(fontFamilies){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?fontFamilies.filter(function(fontFamily){return iOSBrokenFonts.indexOf(fontFamily)===-1}):fontFamilies};var ForeignObjectRenderer=function(_super){__extends(ForeignObjectRenderer,_super);function ForeignObjectRenderer(context,options){var _this=_super.call(this,context,options)||this;_this.canvas=options.canvas?options.canvas:document.createElement("canvas");_this.ctx=_this.canvas.getContext("2d");_this.options=options;_this.canvas.width=Math.floor(options.width*options.scale);_this.canvas.height=Math.floor(options.height*options.scale);_this.canvas.style.width=options.width+"px";_this.canvas.style.height=options.height+"px";_this.ctx.scale(_this.options.scale,_this.options.scale);_this.ctx.translate(-options.x,-options.y);_this.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+options.width+"x"+options.height+" at "+options.x+","+options.y+") with scale "+options.scale);return _this}ForeignObjectRenderer.prototype.render=function(element){return __awaiter(this,void 0,void 0,function(){var svg,img;return __generator(this,function(_a){switch(_a.label){case 0:svg=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,element);return[4,loadSerializedSVG(svg)];case 1:img=_a.sent();if(this.options.backgroundColor){this.ctx.fillStyle=asString(this.options.backgroundColor);this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)}this.ctx.drawImage(img,-this.options.x*this.options.scale,-this.options.y*this.options.scale);return[2,this.canvas]}})})};return ForeignObjectRenderer}(Renderer);var loadSerializedSVG=function loadSerializedSVG(svg){return new Promise(function(resolve,reject){var img=new Image;img.onload=function(){resolve(img)};img.onerror=reject;img.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(svg))})};var Logger=function(){function Logger(_a){var id=_a.id,enabled=_a.enabled;this.id=id;this.enabled=enabled;this.start=Date.now()}Logger.prototype.debug=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(this.enabled){if(typeof window!=="undefined"&&window.console&&typeof console.debug==="function"){console.debug.apply(console,__spreadArray([this.id,this.getTime()+"ms"],args))}else{this.info.apply(this,args)}}};Logger.prototype.getTime=function(){return Date.now()-this.start};Logger.prototype.info=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(this.enabled){if(typeof window!=="undefined"&&window.console&&typeof console.info==="function"){console.info.apply(console,__spreadArray([this.id,this.getTime()+"ms"],args))}}};Logger.prototype.warn=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(this.enabled){if(typeof window!=="undefined"&&window.console&&typeof console.warn==="function"){console.warn.apply(console,__spreadArray([this.id,this.getTime()+"ms"],args))}else{this.info.apply(this,args)}}};Logger.prototype.error=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(this.enabled){if(typeof window!=="undefined"&&window.console&&typeof console.error==="function"){console.error.apply(console,__spreadArray([this.id,this.getTime()+"ms"],args))}else{this.info.apply(this,args)}}};Logger.instances={};return Logger}();var Context=function(){function Context(options,windowBounds){var _a;this.windowBounds=windowBounds;this.instanceName="#"+Context.instanceCount++;this.logger=new Logger({id:this.instanceName,enabled:options.logging});this.cache=(_a=options.cache)!==null&&_a!==void 0?_a:new Cache(this,options)}Context.instanceCount=1;return Context}();var html2canvas=function html2canvas(element,options){if(options===void 0){options={}}return renderElement(element,options)};if(typeof window!=="undefined"){CacheStorage.setContext(window)}var renderElement=function renderElement(element,opts){return __awaiter(void 0,void 0,void 0,function(){var ownerDocument,defaultView,resourceOptions,contextOptions,windowOptions,windowBounds,context,foreignObjectRendering,cloneOptions,documentCloner,clonedElement,container,_a,width,height,left,top,backgroundColor,renderOptions,canvas,renderer,root,renderer;var _b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t;return __generator(this,function(_u){switch(_u.label){case 0:if(!element||(typeof element==="undefined"?"undefined":_typeof(element))!=="object"){return[2,Promise.reject("Invalid element provided as first argument")]}ownerDocument=element.ownerDocument;if(!ownerDocument){throw new Error("Element is not attached to a Document")}defaultView=ownerDocument.defaultView;if(!defaultView){throw new Error("Document is not attached to a Window")}resourceOptions={allowTaint:(_b=opts.allowTaint)!==null&&_b!==void 0?_b:false,imageTimeout:(_c=opts.imageTimeout)!==null&&_c!==void 0?_c:15e3,proxy:opts.proxy,useCORS:(_d=opts.useCORS)!==null&&_d!==void 0?_d:false};contextOptions=_assign({logging:(_e=opts.logging)!==null&&_e!==void 0?_e:true,cache:opts.cache},resourceOptions);windowOptions={windowWidth:(_f=opts.windowWidth)!==null&&_f!==void 0?_f:defaultView.innerWidth,windowHeight:(_g=opts.windowHeight)!==null&&_g!==void 0?_g:defaultView.innerHeight,scrollX:(_h=opts.scrollX)!==null&&_h!==void 0?_h:defaultView.pageXOffset,scrollY:(_j=opts.scrollY)!==null&&_j!==void 0?_j:defaultView.pageYOffset};windowBounds=new Bounds(windowOptions.scrollX,windowOptions.scrollY,windowOptions.windowWidth,windowOptions.windowHeight);context=new Context(contextOptions,windowBounds);foreignObjectRendering=(_k=opts.foreignObjectRendering)!==null&&_k!==void 0?_k:false;cloneOptions={allowTaint:(_l=opts.allowTaint)!==null&&_l!==void 0?_l:false,onclone:opts.onclone,ignoreElements:opts.ignoreElements,inlineImages:foreignObjectRendering,copyStyles:foreignObjectRendering};context.logger.debug("Starting document clone with size "+windowBounds.width+"x"+windowBounds.height+" scrolled to "+-windowBounds.left+","+-windowBounds.top);documentCloner=new DocumentCloner(context,element,cloneOptions);clonedElement=documentCloner.clonedReferenceElement;if(!clonedElement){return[2,Promise.reject("Unable to find element in cloned iframe")]}return[4,documentCloner.toIFrame(ownerDocument,windowBounds)];case 1:container=_u.sent();_a=isBodyElement(clonedElement)||isHTMLElement(clonedElement)?parseDocumentSize(clonedElement.ownerDocument):parseBounds(context,clonedElement),width=_a.width,height=_a.height,left=_a.left,top=_a.top;backgroundColor=parseBackgroundColor(context,clonedElement,opts.backgroundColor);renderOptions={canvas:opts.canvas,backgroundColor:backgroundColor,scale:(_o=(_m=opts.scale)!==null&&_m!==void 0?_m:defaultView.devicePixelRatio)!==null&&_o!==void 0?_o:1,x:((_p=opts.x)!==null&&_p!==void 0?_p:0)+left,y:((_q=opts.y)!==null&&_q!==void 0?_q:0)+top,width:(_r=opts.width)!==null&&_r!==void 0?_r:Math.ceil(width),height:(_s=opts.height)!==null&&_s!==void 0?_s:Math.ceil(height)};if(!foreignObjectRendering)return[3,3];context.logger.debug("Document cloned, using foreign object rendering");renderer=new ForeignObjectRenderer(context,renderOptions);return[4,renderer.render(clonedElement)];case 2:canvas=_u.sent();return[3,5];case 3:context.logger.debug("Document cloned, element located at "+left+","+top+" with size "+width+"x"+height+" using computed rendering");context.logger.debug("Starting DOM parsing");root=parseTree(context,clonedElement);if(backgroundColor===root.styles.backgroundColor){root.styles.backgroundColor=COLORS.TRANSPARENT}context.logger.debug("Starting renderer for element at "+renderOptions.x+","+renderOptions.y+" with size "+renderOptions.width+"x"+renderOptions.height);renderer=new CanvasRenderer(context,renderOptions);return[4,renderer.render(root)];case 4:canvas=_u.sent();_u.label=5;case 5:if((_t=opts.removeContainer)!==null&&_t!==void 0?_t:true){if(!DocumentCloner.destroy(container)){context.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")}}context.logger.debug("Finished rendering");return[2,canvas]}})})};var parseBackgroundColor=function parseBackgroundColor(context,element,backgroundColorOverride){var ownerDocument=element.ownerDocument;var documentBackgroundColor=ownerDocument.documentElement?parseColor(context,getComputedStyle(ownerDocument.documentElement).backgroundColor):COLORS.TRANSPARENT;var bodyBackgroundColor=ownerDocument.body?parseColor(context,getComputedStyle(ownerDocument.body).backgroundColor):COLORS.TRANSPARENT;var defaultBackgroundColor=typeof backgroundColorOverride==="string"?parseColor(context,backgroundColorOverride):backgroundColorOverride===null?COLORS.TRANSPARENT:4294967295;return element===ownerDocument.documentElement?isTransparent(documentBackgroundColor)?isTransparent(bodyBackgroundColor)?defaultBackgroundColor:bodyBackgroundColor:documentBackgroundColor:defaultBackgroundColor};return html2canvas})},function(module,exports){"use strict";var CanvasPrototype=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,hasBlobConstructor=window.Blob&&function(){try{return Boolean(new Blob)}catch(e){return false}}(),hasArrayBufferViewSupport=hasBlobConstructor&&window.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}}(),BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,dataURLtoBlob=(hasBlobConstructor||BlobBuilder)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(dataURI){var byteString,arrayBuffer,intArray,i,mimeString,bb;if(dataURI.split(",")[0].indexOf("base64")>=0){byteString=atob(dataURI.split(",")[1])}else{byteString=decodeURIComponent(dataURI.split(",")[1])}arrayBuffer=new ArrayBuffer(byteString.length);intArray=new Uint8Array(arrayBuffer);for(i=0;i<byteString.length;i+=1){intArray[i]=byteString.charCodeAt(i)}mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0];if(hasBlobConstructor){return new Blob([hasArrayBufferViewSupport?intArray:arrayBuffer],{type:mimeString})}bb=new BlobBuilder;bb.append(arrayBuffer);return bb.getBlob(mimeString)};if(window.HTMLCanvasElement&&!CanvasPrototype.toBlob){if(CanvasPrototype.mozGetAsFile){CanvasPrototype.toBlob=function(callback,type,quality){if(quality&&CanvasPrototype.toDataURL&&dataURLtoBlob){callback(dataURLtoBlob(this.toDataURL(type,quality)))}else{callback(this.mozGetAsFile("blob",type))}}}else if(CanvasPrototype.toDataURL&&dataURLtoBlob){CanvasPrototype.toBlob=function(callback,type,quality){callback(dataURLtoBlob(this.toDataURL(type,quality)))}}}module.exports=dataURLtoBlob},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(a,b){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=b,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else if("undefined"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(undefined,function(){"use strict";function b(a,b){return"undefined"==typeof b?b={autoBom:!1}:"object"!=(typeof b==="undefined"?"undefined":_typeof(b))&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\ufeff",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error("could not download file")},d.send()}function d(a){var b=new XMLHttpRequest;b.open("HEAD",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(c){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f="object"==(typeof window==="undefined"?"undefined":_typeof(window))&&window.window===window?window:"object"==(typeof self==="undefined"?"undefined":_typeof(self))&&self.self===self?self:"object"==(typeof global==="undefined"?"undefined":_typeof(global))&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||("object"!=(typeof window==="undefined"?"undefined":_typeof(window))||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement("a");g=g||b.name||"download",j.download=g,j.rel="noopener","string"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target="_blank")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4e4),setTimeout(function(){e(j)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,h){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement("a");i.href=f,i.target="_blank",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof b)return c(b,d,e);var h="application/octet-stream"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\/[\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&"undefined"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof module&&(module.exports=g)})}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.exporter=exports.file=exports.seqgen=exports.proxy=exports.bmath=undefined;var _bmath2=__webpack_require__(117);var _bmath3=_interopRequireDefault(_bmath2);var _proxy2=__webpack_require__(123);var _proxy3=_interopRequireDefault(_proxy2);var _seqgen2=__webpack_require__(124);var _seqgen3=_interopRequireDefault(_seqgen2);var _file2=__webpack_require__(113);var _file3=_interopRequireDefault(_file2);var _exporter2=__webpack_require__(118);var _exporter3=_interopRequireDefault(_exporter2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.bmath=_bmath3.default;exports.proxy=_proxy3.default;exports.seqgen=_seqgen3.default;exports.file=_file3.default;exports.exporter=_exporter3.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _lodash=__webpack_require__(3);var ProxyHelper=function ProxyHelper(opts){this.g=opts.g;return this};var proxyFun={corsURL:function corsURL(url){if(document.URL.indexOf("localhost")>=0&&url[0]==="/"){return url}if(url.charAt(0)==="."||url.charAt(0)==="/"){return url}if(this.g.config.get("importProxyStripHttp")){url=url.replace("http://","");url=url.replace("https://","")}url=this.g.config.get("importProxy")+url;return url}};(0,_lodash.extend)(ProxyHelper.prototype,proxyFun);exports.default=ProxyHelper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _bmath=__webpack_require__(117);var _bmath2=_interopRequireDefault(_bmath);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Sequence=__webpack_require__(125).seq;var Stat=__webpack_require__(127);var SeqGen={_generateSequence:function _generateSequence(len){var text="";var end=len-1;for(var i=0;0<end?i<=end:i>=end;0<end?i++:i--){text+=SeqGen.getRandomChar()}return text},getDummySequences:function getDummySequences(len,seqLen){var seqs=[];if(!(typeof len!=="undefined"&&len!==null)){len=_bmath2.default.getRandomInt(3,5)}if(!(typeof seqLen!=="undefined"&&seqLen!==null)){seqLen=_bmath2.default.getRandomInt(50,200)}for(var i=1;1<len?i<=len:i>=len;1<len?i++:i--){seqs.push(new Sequence(SeqGen._generateSequence(seqLen),"seq"+i,"r"+i))}return seqs},getRandomChar:function getRandomChar(dict){var possible=dict||"ABCDEFGHIJKLMNOPQRSTUVWXYZ";return possible.charAt(Math.floor(Math.random()*possible.length))},genConservedSequences:function genConservedSequences(len,seqLen,dict){var seqs=[];if(!(typeof len!=="undefined"&&len!==null)){len=_bmath2.default.getRandomInt(3,5)}if(!(typeof seqLen!=="undefined"&&seqLen!==null)){seqLen=_bmath2.default.getRandomInt(50,200)}dict=dict||"ACDEFGHIKLMNPQRSTVWY---";for(var _i=1;1<len?_i<=len:_i>=len;1<len?_i++:_i--){seqs[_i-1]=""}var tolerance=.2;var conservAim=1;var end=seqLen-1;for(var _i2=0;0<end?_i2<=end:_i2>=end;0<end?_i2++:_i2--){if(_i2%3===0){conservAim=_bmath2.default.getRandomInt(50,100)/100}var observed=[];var end1=len-1;for(var j=0;0<end1?j<=end1:j>=end1;0<end1?j++:j--){var counter=0;var c=void 0;while(counter<100){c=SeqGen.getRandomChar(dict);var cConserv=Stat(observed);cConserv.addSeq(c);counter++;if(Math.abs(conservAim-cConserv.scale(cConserv.conservation())[0])<tolerance){break}}seqs[j]+=c;observed.push(c)}}var pseqs=[];for(var i=1;1<len?i<=len:i>=len;1<len?i++:i--){pseqs.push(new Sequence(seqs[i-1],"seq"+i,"r"+i))}return pseqs}};exports.default=SeqGen},function(module,exports,__webpack_require__){"use strict";module.exports.seq=__webpack_require__(126)},function(module,exports){"use strict";module.exports=function(seq,name,id){this.seq=seq;this.name=name;this.id=id;this.meta={}}},function(module,exports,__webpack_require__){"use strict";var _=__webpack_require__(11);var Collection=__webpack_require__(6).Collection;var stat=function stat(seqs,opts){if(!this||this.constructor!==stat){return new stat(seqs)}if(seqs===undefined||typeof seqs==="string"){throw new TypeError("you need to give the seq stat an array")}this.resetSeqs(seqs);this.alphabetSize=4;this._useBackground=false;this.useGaps=false;this.ignoredChars=["-","*"];_.extend(this,opts)};stat.prototype.addSeq=function addSeq(seq){this.seqs.push(seq);this._reset()};stat.prototype.removeSeq=function addSeq(seq){if(typeof seq==="number"){this.seqs.splice(seq,1)}else{_.each(this.seqs,function(s,i){if(seq===s){this.seqs.splice(i,1)}}.bind(this))}this._reset()};stat.prototype.addSeqs=function addSeqs(seqs){seqs.forEach(function(seq){this.addSeq(seq)}.bind(this))};stat.prototype.resetSeqs=function reset(seqs){this.seqs=[];if(!seqs instanceof Array||seqs instanceof Collection){this.mseqs=seqs;var mSeqsPluck=function mSeqsPluck(){var seqArr=this.mseqs.pluck("seq");this.resetSeqs(seqArr)};seqs.on("add change reset ",mSeqsPluck,this);mSeqsPluck.call(this)}else{this.addSeqs(seqs);this._reset();this.trigger("reset")}};var calcValues=["consensus","frequency","maxLength","ic","gaps"];stat.prototype._reset=function _reset(){for(var i=0;i<calcValues.length;i++){this["_"+calcValues[i]]=undefined}this._identity=undefined;this._background=undefined};stat.prototype.setBackground=function setBackground(b){this._useBackground=b;this._reset()};stat.prototype.useBackground=function useBackground(){this.setBackground(true)};stat.prototype.setDNA=function setNucleotide(){this.alphabetSize=4};stat.prototype.setProtein=function setDNA(){this.alphabetSize=20};calcValues.forEach(function(key){stat.prototype[key]=function(){if(this["_"+key]===undefined){this["_"+key]=this[key+"Calc"]()}return this["_"+key]}});stat.prototype.identity=function identitiy(seq){var ident;if(this._identity===undefined||seq){ident=this.identityCalc(seq);this._identity=undefined}return this._identity||ident};stat.prototype.background=function background(){if(this.bg!==undefined){return this.bg}if(this._background===undefined){this.backgroundCalc()}return this._background};stat.prototype.frequencyCalc=function frequencyCalc(opts){var occs,totalPerPos;occs=new Array(this.maxLength());totalPerPos=new Array(this.seqs.length);var ignoredChars=this.ignoredChars;if(opts!==undefined&&opts.all){ignoredChars=[]}_.each(this.seqs,function(el){_.each(el,function(c,pos){if(ignoredChars.indexOf(c)>=0)return;if(occs[pos]===undefined){occs[pos]={}}if(occs[pos][c]===undefined){occs[pos][c]=0}occs[pos][c]++;if(totalPerPos[pos]===undefined){totalPerPos[pos]=0}totalPerPos[pos]++})});_.each(occs,function(el,pos){return _.each(el,function(val,c){return occs[pos][c]=val/totalPerPos[pos]})});this._frequency=occs;return occs};stat.prototype.backgroundCalc=function backgroundCalc(){var occ={};var total=0;_.each(this.seqs,function(el){_.each(el,function(c){if(occ[c]===undefined){occ[c]=0}occ[c]++;return total++})});occ=_.mapValues(occ,function(val){return val/total});this._background=occ;return occ};stat.prototype.icCalc=function icCalc(){var f=this.frequency();if(this._useBackground){var b=this.background()}var ignoredChars=this.ignoredChars;var useBackground=this._useBackground;var ic=_.map(f,function(el){return _.reduce(el,function(memo,val,c){if(ignoredChars.indexOf(c)>=0)return memo;if(useBackground){val=val/b[c]}return memo-val*(Math.log(val)/Math.log(2))},0)});this._ic=ic;return ic};stat.prototype.conservation=function conservation(alphabetSize){var ic=this.ic();var gaps=this.gaps();var self=this;alphabetSize=alphabetSize||this.alphabetSize;var icMax=Math.log(alphabetSize)/Math.log(2);var i=0;var conserv=_.map(ic,function(el){var ret=icMax-el;if(self.useGaps){ret=ret*(1-gaps[i++])}return ret});return conserv};stat.prototype.conservResidue=function conservation(input){var alphabetSize=input?input.alphabetSize:undefined;var ic;var ignoredChars=this.ignoredChars;if(input!==undefined&&input.scaled){ic=this.scale(this.conservation(alphabetSize))}else{ic=this.conservation(alphabetSize)}var f=this.frequency();var keys;var conserv=_.map(f,function(el,i){keys=_.reject(_.keys(el),function(c){return ignoredChars.indexOf(c)>=0});var obj={};_.each(keys,function(key){obj[key]=el[key]*ic[i]});return obj});return conserv};stat.prototype.conservResidue2=function conservation(alphabetSize){var f=this.frequency();var ic=this.conservation(alphabetSize);var b=this.background();var conserv=_.map(f,function(el,i){return _.map(el,function(val){var sum=_.reduce(f[i],function(memo,e){return memo+e/b[i]},0);return val/b[i]/sum*ic[i]},0)});return conserv};stat.prototype.scale=function conservation(ic,alphabetSize){alphabetSize=alphabetSize||this.alphabetSize;var icMax=Math.log(alphabetSize)/Math.log(2);var conserv=_.map(ic,function(el){return el/icMax});return conserv};stat.prototype.maxLengthCalc=function(){if(this.seqs.length===0){return 0}return _.max(this.seqs,function(seq){return seq.length}).length};stat.prototype.consensusCalc=function consensusCal(){var occs=new Array(this.maxLength());_.each(this.seqs,function(el){_.each(el,function(c,pos){if(occs[pos]===undefined){occs[pos]={}}if(occs[pos][c]===undefined){occs[pos][c]=0}occs[pos][c]++})});this._consensus=_.reduce(occs,function(memo,occ){var keys;keys=_.keys(occ);return memo+=_.max(keys,function(key){return occ[key]})},"");return this._consensus};stat.prototype.identityCalc=function identitiyCalc(compareSeq){var consensus=compareSeq||this.consensus();this._identity=this.seqs.map(function(seq){var matches=0;var total=0;for(var i=0;i<seq.length;i++){if(seq[i]!=="-"&&consensus[i]!=="-"){total++;if(seq[i]===consensus[i]){matches++}}}return matches/total});return this._identity};stat.prototype.gapsCalc=function gapsCount(){var mLength=this.maxLength();if(mLength<=1||typeof mLength==="undefined"){return[]}var occs=new Array(this.maxLength());_.each(this.seqs,function(el){_.each(el,function(c,pos){if(occs[pos]===undefined){occs[pos]={g:0,t:0}}c=c==="-"?"g":"t";occs[pos][c]++})});this._gaps=_.map(occs,function(el){return el.g/(el.g+el.t)});return this._gaps};_.mixin({mapValues:function mapValues(obj,f_val){return _.object(_.keys(obj),_.map(obj,f_val))}});__webpack_require__(57).mixin(stat.prototype);module.exports=stat},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _Sequence=__webpack_require__(19);Object.defineProperty(exports,"seq",{enumerable:true,get:function get(){return _interopRequireDefault(_Sequence).default}});var _SeqCollection=__webpack_require__(18);Object.defineProperty(exports,"seqcol",{enumerable:true,get:function get(){return _interopRequireDefault(_SeqCollection).default}});var _Feature=__webpack_require__(21);Object.defineProperty(exports,"feature",{enumerable:true,get:function get(){return _interopRequireDefault(_Feature).default}});var _FeatureCol=__webpack_require__(20);Object.defineProperty(exports,"featurecol",{enumerable:true,get:function get(){return _interopRequireDefault(_FeatureCol).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports){"use strict";var st={};module.exports=st;st.getMeta=function(label){var full_id=false,full_desc=false;var name,ids={},details={},description;var label_parts=label.split(" ");if(label_parts.length>=1){full_id=label_parts.shift();full_desc=label_parts.join(" ")}else{full_id=label}if(full_id){var id_parts=full_id.split("|");name=id_parts.pop();details.en=name;while(id_parts.length!=0){var db=id_parts.shift();var id=id_parts.shift();ids[db]=id}}else{name=full_id}if(full_desc){var kv_parts=full_desc.split("=");if(kv_parts.length>1){var current_key,next_key;var kv;var kv_idx_max=kv_parts.length-1;var kv_idx=0;kv_parts.forEach(function(value_and_maybe_next_key){value_and_maybe_next_key=value_and_maybe_next_key.trim();var value_parts=value_and_maybe_next_key.split(" ");var value;if(value_parts.length>1){next_key=value_parts.pop();value=value_parts.join(" ")}else{value=value_and_maybe_next_key}if(current_key){var key=current_key.toLowerCase();details[key]=value}else{description=value}current_key=next_key})}else{description=kv_parts.shift()}}var meta={name:name,ids:ids,details:details};if(description){meta.desc=description}return meta};var findSepInArr=function findSepInArr(arr,sep){for(var i=0;i<arr.lenght;i++){if(arr[i].indexOf(i)){return i}}return arr.length-1};var strToDict=function strToDict(str,sep,toJoin){toJoin=toJoin||{};var entries=str.split(sep);toJoin[entries[0].toLowerCase()]=entries[1];return toJoin};var identDB={sp:{link:"http://www.uniprot.org/%s",name:"Uniprot"},tr:{link:"http://www.uniprot.org/%s",name:"Trembl"},gb:{link:"http://www.ncbi.nlm.nih.gov/nuccore/%s",name:"Genbank"},pdb:{link:"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s",name:"PDB"}};st.buildLinks=function(meta){var links={};meta=meta||{};Object.keys(meta).forEach(function(id){if(id in identDB){var entry=identDB[id];var link=entry.link.replace("%s",meta[id]);links[entry.name]=link}});return links};st.contains=function(text,search){return"".indexOf.call(text,search,0)!==-1};st.splitNChars=function(txt,num){var i,_ref;num=num||80;var result=[];for(i=0,_ref=txt.length-1;i<=_ref;i+=num){result.push(txt.substr(i,num))}return result};st.reverse=function(seq){return seq.split("").reverse().join("")};st.complement=function(seq){var newSeq=seq+"";var replacements=[[/g/g,"0"],[/c/g,"1"],[/0/g,"c"],[/1/g,"g"],[/G/g,"0"],[/C/g,"1"],[/0/g,"C"],[/1/g,"G"],[/a/g,"0"],[/t/g,"1"],[/0/g,"t"],[/1/g,"a"],[/A/g,"0"],[/T/g,"1"],[/0/g,"T"],[/1/g,"A"]];for(var rep in replacements){newSeq=newSeq.replace(replacements[rep][0],replacements[rep][1])}return newSeq};st.reverseComplement=function(seq){return st.reverse(st.complement(seq))};st.model=function Seq(seq,name,id){this.seq=seq;this.name=name;this.id=id;this.ids={}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _defaultmenu=__webpack_require__(131);Object.defineProperty(exports,"defaultmenu",{enumerable:true,get:function get(){return _interopRequireDefault(_defaultmenu).default}});var _menubuilder=__webpack_require__(85);Object.defineProperty(exports,"menubuilder",{enumerable:true,get:function get(){return _interopRequireDefault(_menubuilder).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _ImportMenu=__webpack_require__(132);var _ImportMenu2=_interopRequireDefault(_ImportMenu);var _FilterMenu=__webpack_require__(133);var _FilterMenu2=_interopRequireDefault(_FilterMenu);var _SelectionMenu=__webpack_require__(134);var _SelectionMenu2=_interopRequireDefault(_SelectionMenu);var _VisMenu=__webpack_require__(135);var _VisMenu2=_interopRequireDefault(_VisMenu);var _ColorMenu=__webpack_require__(136);var _ColorMenu2=_interopRequireDefault(_ColorMenu);var _OrderingMenu=__webpack_require__(137);var _OrderingMenu2=_interopRequireDefault(_OrderingMenu);var _ExtraMenu=__webpack_require__(138);var _ExtraMenu2=_interopRequireDefault(_ExtraMenu);var _ExportMenu=__webpack_require__(139);var _ExportMenu2=_interopRequireDefault(_ExportMenu);var _HelpMenu=__webpack_require__(140);var _HelpMenu2=_interopRequireDefault(_HelpMenu);var _DebugMenu=__webpack_require__(141);var _DebugMenu2=_interopRequireDefault(_DebugMenu);var _settings=__webpack_require__(142);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var boneView=__webpack_require__(16);var MenuView=boneView.extend({initialize:function initialize(data){if(!data.msa){throw new Error("No msa instance provided. Please provide .msa")}this.msa=data.msa;this.msa.g.menuconfig=new _settings2.default(data.menu);this.addView("10_import",new _ImportMenu2.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa}));this.addView("15_ordering",new _OrderingMenu2.default({model:this.msa.seqs,g:this.msa.g}));this.addView("20_filter",new _FilterMenu2.default({model:this.msa.seqs,g:this.msa.g}));this.addView("30_selection",new _SelectionMenu2.default({model:this.msa.seqs,g:this.msa.g}));this.addView("40_vis",new _VisMenu2.default({model:this.msa.seqs,g:this.msa.g}));this.addView("50_color",new _ColorMenu2.default({model:this.msa.seqs,g:this.msa.g}));this.addView("70_extra",new _ExtraMenu2.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa}));this.addView("80_export",new _ExportMenu2.default({model:this.msa.seqs,g:this.msa.g,msa:this.msa}));this.addView("90_help",new _HelpMenu2.default({g:this.msa.g}));if(this.msa.g.config.get("debug")){return this.addView("95_debug",new _DebugMenu2.default({g:this.msa.g}))}},render:function render(){this.renderSubviews();this.el.setAttribute("class","smenubar");return this.el.appendChild(document.createElement("p"))}});exports.default=MenuView},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var k=__webpack_require__(44);var ImportMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.el.style.display="inline-block";return this.msa=data.msa},render:function render(){var _this=this;var msa=this.msa;var uploader=k.mk("input");uploader.type="file";uploader.style.display="none";uploader.multiple=true;uploader.addEventListener("change",function(){var files=uploader.files||[];return msa.u.file.importFiles(files)});this.el.appendChild(uploader);var filetypes="(Fasta, Clustal, GFF, Jalview features, Newick)";this.setName("Import");this.addNode("URL",function(e){var url=prompt("URL "+filetypes,"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw");if(url.length>5){return _this.msa.u.file.importURL(url,function(){})}});this.addNode("From file "+filetypes,function(){return uploader.click()});this.el.appendChild(this.buildDOM());return this}});exports.default=ImportMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var FilterMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;return this.el.style.display="inline-block"},render:function render(){var _this=this;this.setName("Filter");this.addNode("Hide columns by threshold",function(e){var threshold=prompt("Enter threshold (in percent)",20);threshold=threshold/100;var maxLen=_this.model.getMaxLength();var hidden=[];var conserv=_this.g.stats.scale(_this.g.stats.conservation());var end=maxLen-1;for(var i=0;i<=end;i++){if(conserv[i]<threshold){hidden.push(i)}}return _this.g.columns.set("hidden",hidden)});this.addNode("Hide columns by selection",function(){var hiddenOld=_this.g.columns.get("hidden");var hidden=hiddenOld.concat(_this.g.selcol.getAllColumnBlocks({maxLen:_this.model.getMaxLength(),withPos:true}));_this.g.selcol.reset([]);return _this.g.columns.set("hidden",hidden)});this.addNode("Hide columns by gaps",function(){var threshold=prompt("Enter threshold (in percent)",20);threshold=threshold/100;var maxLen=_this.model.getMaxLength();var hidden=[];var end=maxLen-1;var _loop=function _loop(i){var gaps=0;var total=0;_this.model.each(function(el){if(el.get("seq")[i]==="-"){gaps++}return total++});var gapContent=gaps/total;if(gapContent>threshold){hidden.push(i)}};for(var i=0;i<=end;i++){_loop(i)}return _this.g.columns.set("hidden",hidden)});this.addNode("Hide seqs by identity",function(){var threshold=prompt("Enter threshold (in percent)",20);threshold=threshold/100;return _this.model.each(function(el){if(_this.g.stats.identity()[el.id]<threshold){return el.set("hidden",true)}})});this.addNode("Hide seqs by selection",function(){var hidden=_this.g.selcol.where({type:"row"});var ids=hidden.map(function(el){return el.get("seqId")});_this.g.selcol.reset([]);return _this.model.each(function(el){if(ids.indexOf(el.get("id"))>=0){return el.set("hidden",true)}})});this.addNode("Hide seqs by gaps",function(){var threshold=prompt("Enter threshold (in percent)",40);return _this.model.each(function(el,i){var seq=el.get("seq");var gaps=[].concat(_toConsumableArray(seq)).reduce(function(memo,c){return c==="-"?++memo:memo},0);if(gaps>threshold){return el.set("hidden",true)}})});this.addNode("Reset",function(){_this.g.columns.set("hidden",[]);return _this.model.each(function(el){if(el.get("hidden")){return el.set("hidden",false)}})});this.el.appendChild(this.buildDOM());return this}});exports.default=FilterMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SelectionMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;return this.el.style.display="inline-block"},render:function render(){var _this=this;this.setName("Selection");this.addNode("Find Motif (supports RegEx)",function(){var search=prompt("your search","D");return _this.g.user.set("searchText",search)});this.addNode("Invert columns",function(){return _this.g.selcol.invertCol(function(){var result=[];var end=_this.model.getMaxLength();var i=0;if(0<=end){while(i<=end){result.push(i++)}}else{while(i>=end){result.push(i--)}}return result}())});this.addNode("Invert rows",function(){return _this.g.selcol.invertRow(_this.model.pluck("id"))});this.addNode("Reset",function(){return _this.g.selcol.reset()});this.el.appendChild(this.buildDOM());return this}});exports.default=SelectionMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dom=__webpack_require__(65);var VisMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.el.style.display="inline-block";return this.listenTo(this.g.vis,"change",this.render)},render:function render(){var _this=this;this.removeAllNodes();this.setName("Vis.elements");var visElements=this.getVisElements();for(var i=0,visEl;i<visElements.length;i++){visEl=visElements[i];this._addVisEl(visEl)}this.addNode("Reset",function(){_this.g.vis.set("labels",true);_this.g.vis.set("sequences",true);_this.g.vis.set("metacell",true);_this.g.vis.set("conserv",true);_this.g.vis.set("labelId",true);_this.g.vis.set("labelName",true);_this.g.vis.set("labelCheckbox",false);_this.g.vis.set("seqlogo",false);_this.g.vis.set("gapHeader",false);_this.g.vis.set("leftHeader",true);_this.g.vis.set("metaGaps",true);_this.g.vis.set("metaIdentity",true);return _this.g.vis.set("metaLinks",true)});dom.removeAllChilds(this.el);this.el.appendChild(this.buildDOM());return this},_addVisEl:function _addVisEl(visEl){var _this2=this;var style={};if(this.g.vis.get(visEl.id)){var pre="Hide ";style.color="red"}else{pre="Show ";style.color="green"}return this.addNode(pre+visEl.name,function(){return _this2.g.vis.set(visEl.id,!_this2.g.vis.get(visEl.id))},{style:style})},getVisElements:function getVisElements(){var vis=[];vis.push({name:"residues indices",id:"markers"});vis.push({name:"ID/Label",id:"labels"});vis.push({name:"meta info (Gaps/Ident)",id:"metacell"});vis.push({name:"overview panel",id:"overviewbox"});vis.push({name:"sequence logo",id:"seqlogo"});vis.push({name:"gap weights",id:"gapHeader"});vis.push({name:"conservation weights",id:"conserv"});vis.push({name:"scale slider",id:"scaleslider"});vis.push({name:"Label",id:"labelName"});vis.push({name:"ID",id:"labelId"});vis.push({name:"gaps %",id:"metaGaps"});vis.push({name:"identity score",id:"metaIdentity"});return vis}});exports.default=VisMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dom=__webpack_require__(65);var ColorMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.el.style.display="inline-block";return this.listenTo(this.g.colorscheme,"change",function(){return this.render()})},render:function render(){var menuColor=this.setName("Color scheme");this.removeAllNodes();var colorschemes=this.getColorschemes();for(var i=0,scheme;i<colorschemes.length;i++){scheme=colorschemes[i];this.addScheme(menuColor,scheme)}this.grey(menuColor);dom.removeAllChilds(this.el);this.el.appendChild(this.buildDOM());return this},addScheme:function addScheme(menuColor,scheme){var _this=this;var style={};var current=this.g.colorscheme.get("scheme");if(current===scheme.id){style.backgroundColor="#77ED80"}return this.addNode(scheme.name,function(){_this.g.colorscheme.set("scheme",scheme.id)},{style:style})},getColorschemes:function getColorschemes(){var schemes=[];schemes.push({name:"Taylor",id:"taylor"});schemes.push({name:"Buried",id:"buried"});schemes.push({name:"Cinema",id:"cinema"});schemes.push({name:"Clustal",id:"clustal"});schemes.push({name:"Clustal2",id:"clustal2"});schemes.push({name:"Helix",id:"helix"});schemes.push({name:"Hydrophobicity",id:"hydro"});schemes.push({name:"Lesk",id:"lesk"});schemes.push({name:"MAE",id:"mae"});schemes.push({name:"Nucleotide",id:"nucleotide"});schemes.push({name:"Purine",id:"purine"});schemes.push({name:"PID",id:"pid"});schemes.push({name:"Strand",id:"strand"});schemes.push({name:"Turn",id:"turn"});schemes.push({name:"Zappo",id:"zappo"});schemes.push({name:"No color",id:"foo"});return schemes},grey:function grey(menuColor){}});exports.default=ColorMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dom=__webpack_require__(65);var arrowUp="↑";var arrowDown="↓";var OrderingMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.order="ID";return this.el.style.display="inline-block"},setOrder:function setOrder(order){this.order=order;return this.render()},render:function render(){this.setName("Sorting");this.removeAllNodes();var comps=this.getComparators();for(var i=0,m;i<comps.length;i++){m=comps[i];this._addNode(m)}var el=this.buildDOM();dom.removeAllChilds(this.el);this.el.appendChild(el);return this},_addNode:function _addNode(m){var _this=this;var text=m.text;var style={};if(text===this.order){style.backgroundColor="#77ED80"}return this.addNode(text,function(){if(m.precode!=null){m.precode()}_this.model.comparator=m.comparator;_this.model.sort();return _this.setOrder(m.text)},{style:style})},getComparators:function getComparators(){var _this2=this;var models=[];models.push({text:"ID "+arrowUp,comparator:"id"});models.push({text:"ID "+arrowDown,comparator:function comparator(a,b){return-(""+a.get("id")).localeCompare(""+b.get("id"),[],{numeric:true})}});models.push({text:"Label "+arrowUp,comparator:"name"});models.push({text:"Label "+arrowDown,comparator:function comparator(a,b){return-a.get("name").localeCompare(b.get("name"))}});models.push({text:"Seq "+arrowUp,comparator:"seq"});models.push({text:"Seq "+arrowDown,comparator:function comparator(a,b){return-a.get("seq").localeCompare(b.get("seq"))}});var setIdent=function setIdent(){return _this2.ident=_this2.g.stats.identity()};var setGaps=function setGaps(){_this2.gaps={};return _this2.model.each(function(el){var seq=el.attributes.seq;return _this2.gaps[el.id]=(seq.reduce(function(memo,c){return c==="-"?++memo:undefined}),0)/seq.length})};models.push({text:"Identity "+arrowUp,comparator:function comparator(a,b){var val=_this2.ident[a.id]-_this2.ident[b.id];console.log(_this2.ident[a.id],_this2.ident[b.id]);if(val>0){return 1}if(val<0){return-1}return 0},precode:setIdent});models.push({text:"Identity "+arrowDown,comparator:function comparator(a,b){var val=_this2.ident[a.id]-_this2.ident[b.id];if(val>0){return-1}if(val<0){return 1}return 0},precode:setIdent});models.push({text:"Consensus to top",comparator:function comparator(seq){return!seq.get("ref")}});return models}});exports.default=OrderingMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);var _Sequence=__webpack_require__(19);var _Sequence2=_interopRequireDefault(_Sequence);var _loader=__webpack_require__(43);var _loader2=_interopRequireDefault(_loader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var xhr=__webpack_require__(70);var ExtraMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.el.style.display="inline-block";return this.msa=data.msa},render:function render(){var _this=this;this.setName("Extras");var stats=this.g.stats;var msa=this.msa;this.addNode("Add consensus seq",function(){var con=stats.consensus();var seq=new _Sequence2.default({seq:con,id:"0c",name:"Consenus"});_this.model.add(seq);_this.model.setRef(seq);_this.model.comparator=function(seq){return!seq.get("ref")};return _this.model.sort()});this.addNode("Jump to a column",function(){var offset=prompt("Column","20");if(offset<0||offset>_this.model.getMaxLength()||isNaN(offset)){alert("invalid column");return}return _this.g.zoomer.setLeftOffset(offset)});this.el.appendChild(this.buildDOM());return this}});exports.default=ExtraMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);var _exporter=__webpack_require__(118);var _exporter2=_interopRequireDefault(_exporter);var _bio=__webpack_require__(67);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FastaExporter=_bio.fasta.write;var ShareSym="↪";var ExportMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;this.msa=data.msa;return this.el.style.display="inline-block"},render:function render(){var _this=this;this.setName("Export");this.addNode("Export alignment (FASTA)",function(){return _exporter2.default.saveAsFile(_this.msa,"all.fasta")});this.addNode("Export selected sequences (FASTA)",function(){return _exporter2.default.saveSelection(_this.msa,"selection.fasta")});this.addNode("Export MSA image (PNG)",function(){return _exporter2.default.saveAsImg(_this.msa,"biojs-msa.png")});this.el.appendChild(this.buildDOM());return this}});exports.default=ExportMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HelpMenu=_menubuilder2.default.extend({initialize:function initialize(data){return this.g=data.g},render:function render(){this.setName("Help");this.addNode("About the project",function(){return window.open("https://github.com/wilzbach/msa")});this.addNode("Report issues",function(){return window.open("https://github.com/wilzbach/msa/issues")});this.addNode("User manual",function(){return window.open("https://github.com/wilzbach/msa/wiki/User-manual")});this.el.style.display="inline-block";this.el.appendChild(this.buildDOM());return this}});exports.default=HelpMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _menubuilder=__webpack_require__(85);var _menubuilder2=_interopRequireDefault(_menubuilder);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DebugMenu=_menubuilder2.default.extend({initialize:function initialize(data){this.g=data.g;return this.el.style.display="inline-block"},render:function render(){var _this=this;this.setName("Debug");this.addNode("Get the code",function(){return window.open("https://github.com/wilzbach/msa")});this.addNode("Toggle mouseover events",function(){_this.g.config.set("registerMouseHover",!_this.g.config.get("registerMouseHover"));return _this.g.onAll(function(){return console.log(arguments)})});this.addNode("Minimized width",function(){return _this.g.zoomer.set("alignmentWidth",600)});this.addNode("Minimized height",function(){return _this.g.zoomer.set("alignmentHeight",120)});this.el.appendChild(this.buildDOM());return this}});exports.default=DebugMenu},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Model=__webpack_require__(6).Model;var MenuSettings=Model.extend({constructor:function constructor(attributes,options){if(attributes=="small"){attributes=this.small}return Model.apply(this,[attributes])},small:{menuFontsize:"12px"},defaults:{menuFontsize:"14px",menuItemFontsize:"14px",menuItemLineHeight:"14px",menuMarginLeft:"3px",menuPadding:"3px 4px 3px 4px"}});exports.default=MenuSettings},function(module,exports,__webpack_require__){var api=__webpack_require__(144);var content=__webpack_require__(145);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.id,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=typeof __webpack_nonce__!=="undefined"?__webpack_nonce__:null;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach(function(key){style.setAttribute(key,attributes[key])});if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&typeof btoa!=="undefined"){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(146)();exports.push([module.id,'/* BASIC */\n\n.biojs_msa_stage {\n    cursor: default;\n    line-height: normal;\n    font-family: Helvetica;\n}\n\n.biojs_msa_seqblock {\n    cursor: move;\n}\n\n.biojs_msa_layer{\n    display: block;\n    white-space: nowrap;\n}\n\n.biojs_msa_labels {\n    color:black;\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    vertical-align:middle;\n    overflow: hidden;\n    text-overflow: clip;\n    /*margin:auto; */\n    text-align: left;\n\n    text-overflow: ellipsis;\n}\n\n.biojs_msa_header {\n    white-space: nowrap;\n    text-align: left;\n}\n\n.biojs_msa_labelrow:before {\n    content: \'\';\n    display: inline-block;\n    width: 0;\n    height: 100%;\n    vertical-align: middle;\n}\n\n.biojs_msa_labelrow{\n    height: 100%;\n}\n\n.biojs_msa_labelblock::-webkit-scrollbar, .biojs_msa_rheader::-webkit-scrollbar{\n    // FIX scrollbars on Mac\n    -webkit-appearance: none;\n    width: 7px;\n    height: 7px;\n}\n.biojs_msa_labelblock::-webkit-scrollbar-thumb, .biojs_msa_rheader::-webkit-scrollbar-thumb{\n    border-radius: 4px;\n    background-color: rgba(0,0,0,.5);\n    box-shadow: 0 0 1px rgba(255,255,255,.5);\n}\n\n/* END BASIC */\n/* Marker */\n\n.biojs_msa_marker {\n  color: #999;\n  white-space: nowrap;\n}\n\n.biojs_msa_marker .msa-col-header {\n  cursor: pointer;\n  cursor: pointer;\n  text-align: center;\n}\n\n.biojs_msa_marker .msa-col-header:hover {\n  color: #f00;\n}\n\n/* END Marker */\n/* Menubar */\n\n/*.btn {*/\n/*    display: inline-block;*/\n/*    font-weight: 400;*/\n/*    line-height: 1.5;*/\n/*    color: #212529;*/\n/*    text-align: center;*/\n/*    text-decoration: none;*/\n/*    vertical-align: middle;*/\n/*    cursor: pointer;*/\n/*    -webkit-user-select: none;*/\n/*    -moz-user-select: none;*/\n/*    user-select: none;*/\n/*    background-color: transparent;*/\n/*    border: 1px solid transparent;*/\n/*    padding: .375rem .75rem;*/\n/*    font-size: 1rem;*/\n/*    border-radius: .25rem;*/\n/*    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;*/\n/*}*/\n\n/*.btn-secondary {*/\n/*    color: #fff;*/\n/*    background-color: #6c757d;*/\n/*    border-color: #6c757d;*/\n/*}*/\n\n/*.dropup,*/\n/*.dropright,*/\n/*.dropdown,*/\n/*.dropleft {*/\n/*  position: relative; }*/\n\n/*.dropdown-toggle {*/\n/*  white-space: nowrap; }*/\n/*  .dropdown-toggle::after {*/\n/*    display: inline-block;*/\n/*    margin-left: 0.255em;*/\n/*    vertical-align: 0.255em;*/\n/*    content: "";*/\n/*    border-top: 0.3em solid;*/\n/*    border-right: 0.3em solid transparent;*/\n/*    border-bottom: 0;*/\n/*    border-left: 0.3em solid transparent; }*/\n/*  .dropdown-toggle:empty::after {*/\n/*    margin-left: 0; }*/\n\n/*.dropdown-menu {*/\n/*  position: absolute;*/\n/*  top: 100%;*/\n/*  left: 0;*/\n/*  z-index: 1000;*/\n/*  display: none;*/\n/*  float: left;*/\n/*  min-width: 10rem;*/\n/*  padding: 0.5rem 0;*/\n/*  margin: 0.125rem 0 0;*/\n/*  font-size: 1rem;*/\n/*  color: #1b1b1b;*/\n/*  text-align: left;*/\n/*  list-style: none;*/\n/*  background-color: #fff;*/\n/*  background-clip: padding-box;*/\n/*  border: 1px solid rgba(0, 0, 0, 0.15);*/\n/*  border-radius: 0.25rem; }*/\n\n/*.dropdown-menu-left {*/\n/*  right: auto;*/\n/*  left: 0; }*/\n\n/*.dropdown-menu-right {*/\n/*  right: 0;*/\n/*  left: auto; }*/\n\n/*@media (min-width: 576px) {*/\n/*  .dropdown-menu-sm-left {*/\n/*    right: auto;*/\n/*    left: 0; }*/\n/*  .dropdown-menu-sm-right {*/\n/*    right: 0;*/\n/*    left: auto; } }*/\n\n/*@media (min-width: 768px) {*/\n/*  .dropdown-menu-md-left {*/\n/*    right: auto;*/\n/*    left: 0; }*/\n/*  .dropdown-menu-md-right {*/\n/*    right: 0;*/\n/*    left: auto; } }*/\n\n/*@media (min-width: 992px) {*/\n/*  .dropdown-menu-lg-left {*/\n/*    right: auto;*/\n/*    left: 0; }*/\n/*  .dropdown-menu-lg-right {*/\n/*    right: 0;*/\n/*    left: auto; } }*/\n\n/*@media (min-width: 1200px) {*/\n/*  .dropdown-menu-xl-left {*/\n/*    right: auto;*/\n/*    left: 0; }*/\n/*  .dropdown-menu-xl-right {*/\n/*    right: 0;*/\n/*    left: auto; } }*/\n\n/*.dropup .dropdown-menu {*/\n/*  top: auto;*/\n/*  bottom: 100%;*/\n/*  margin-top: 0;*/\n/*  margin-bottom: 0.125rem; }*/\n\n/*.dropup .dropdown-toggle::after {*/\n/*  display: inline-block;*/\n/*  margin-left: 0.255em;*/\n/*  vertical-align: 0.255em;*/\n/*  content: "";*/\n/*  border-top: 0;*/\n/*  border-right: 0.3em solid transparent;*/\n/*  border-bottom: 0.3em solid;*/\n/*  border-left: 0.3em solid transparent; }*/\n\n/*.dropup .dropdown-toggle:empty::after {*/\n/*  margin-left: 0; }*/\n\n/*.dropright .dropdown-menu {*/\n/*  top: 0;*/\n/*  right: auto;*/\n/*  left: 100%;*/\n/*  margin-top: 0;*/\n/*  margin-left: 0.125rem; }*/\n\n/*.dropright .dropdown-toggle::after {*/\n/*  display: inline-block;*/\n/*  margin-left: 0.255em;*/\n/*  vertical-align: 0.255em;*/\n/*  content: "";*/\n/*  border-top: 0.3em solid transparent;*/\n/*  border-right: 0;*/\n/*  border-bottom: 0.3em solid transparent;*/\n/*  border-left: 0.3em solid; }*/\n\n/*.dropright .dropdown-toggle:empty::after {*/\n/*  margin-left: 0; }*/\n\n/*.dropright .dropdown-toggle::after {*/\n/*  vertical-align: 0; }*/\n\n/*.dropleft .dropdown-menu {*/\n/*  top: 0;*/\n/*  right: 100%;*/\n/*  left: auto;*/\n/*  margin-top: 0;*/\n/*  margin-right: 0.125rem; }*/\n\n/*.dropleft .dropdown-toggle::after {*/\n/*  display: inline-block;*/\n/*  margin-left: 0.255em;*/\n/*  vertical-align: 0.255em;*/\n/*  content: ""; }*/\n\n/*.dropleft .dropdown-toggle::after {*/\n/*  display: none; }*/\n\n/*.dropleft .dropdown-toggle::before {*/\n/*  display: inline-block;*/\n/*  margin-right: 0.255em;*/\n/*  vertical-align: 0.255em;*/\n/*  content: "";*/\n/*  border-top: 0.3em solid transparent;*/\n/*  border-right: 0.3em solid;*/\n/*  border-bottom: 0.3em solid transparent; }*/\n\n/*.dropleft .dropdown-toggle:empty::after {*/\n/*  margin-left: 0; }*/\n\n/*.dropleft .dropdown-toggle::before {*/\n/*  vertical-align: 0; }*/\n\n/*.dropdown-menu[x-placement^="top"], .dropdown-menu[x-placement^="right"], .dropdown-menu[x-placement^="bottom"], .dropdown-menu[x-placement^="left"] {*/\n/*  right: auto;*/\n/*  bottom: auto; }*/\n\n/*.dropdown-divider {*/\n/*  height: 0;*/\n/*  margin: 0.5rem 0;*/\n/*  overflow: hidden;*/\n/*  border-top: 1px solid #e6e6e6; }*/\n\n/*.dropdown-item {*/\n/*  display: block;*/\n/*  padding: 0.25rem 1.5rem;*/\n/*  clear: both;*/\n/*  font-weight: 400;*/\n/*  color: #1b1b1b;*/\n/*  text-align: inherit;*/\n/*  white-space: nowrap;*/\n/*  background-color: transparent;*/\n/*  border: 0; }*/\n/*  .dropdown-item:hover, .dropdown-item:focus {*/\n/*    color: #0e0e0e;*/\n/*    text-decoration: none;*/\n/*    background-color: #f0f0f0; }*/\n/*  .dropdown-item.active, .dropdown-item:active {*/\n/*    color: #fff;*/\n/*    text-decoration: none;*/\n/*    background-color: #0050d8; }*/\n/*  .dropdown-item.disabled, .dropdown-item:disabled {*/\n/*    color: #5c5c5c;*/\n/*    pointer-events: none;*/\n/*    background-color: transparent; }*/\n\n/*.dropdown-menu.show {*/\n/*  display: block; }*/\n\n/*.dropdown-header {*/\n/*  display: block;*/\n/*  padding: 0.5rem 1.5rem;*/\n/*  margin-bottom: 0;*/\n/*  font-size: 0.875rem;*/\n/*  color: #5c5c5c;*/\n/*  white-space: nowrap; }*/\n\n/*.dropdown-item-text {*/\n/*  display: block;*/\n/*  padding: 0.25rem 1.5rem;*/\n/*  color: #1b1b1b; }*/\n\n.smenubar .smenubar_alink {\n    background: #3498db;\n    background-image: -webkit-linear-gradient(top, #3498db, #2980b9);\n    background-image: -moz-linear-gradient(top, #3498db, #2980b9);\n    background-image: -ms-linear-gradient(top, #3498db, #2980b9);\n    background-image: -o-linear-gradient(top, #3498db, #2980b9);\n    background-image: linear-gradient(to bottom, #3498db, #2980b9);\n    -webkit-border-radius: 28;\n    -moz-border-radius: 28;\n    border-radius: 28px;\n    font-family: Arial;\n    color: #ffffff;\n    padding: 3px 10px 3px 10px;\n    margin-left: 10px;\n    text-decoration: none;\n}\n.smenubar {\n    display: inline-block;\n}\n\n.smenubar .smenubar_alink:hover {\n    cursor: pointer;\n}\n\n\n/* END Menubar */\n\n.biojs_msa_div {\n  position: relative;\n}\n\n.biojs_msa_scale {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  background-color: #fff;\n  box-shadow: 0 2px 3px #999;\n  border-radius: 3px;\n  margin: 5px 0 0 auto;\n  padding: 5px;\n  text-align: center;\n}\n.biojs_msa_scale .msa-btngroup {\n  margin: 5px auto 0;\n}\n.biojs_msa_scale [type="range"] {\n  cursor: pointer;\n}\n\n.biojs_msa_scale .msa-scale-minimised {\n}\n.biojs_msa_scale .msa-scale-minimised {\n}\n.biojs_msa_scale .msa-btn-close {\n  text-align: right;\n  font-size: 0.8em;\n  padding: 2px;\n}\n.biojs_msa_scale .msa-btn-open {\n  background-color: #fff;\n}\n\n.biojs_msa_scale .msa-hide {\n  display: none;\n}\n\n.msa-btn {\n  cursor: pointer;\n  font-size: 1.1em;\n  display: inline-block;\n  padding: 2px 8px;\n  margin-bottom: 0;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.msa-btn:hover {\n  background-color: #ddd;\n}\n',""])},function(module,exports){"use strict";module.exports=function(){var list=[];list.toString=function toString(){var result=[];for(var i=0;i<this.length;i++){var item=this[i];if(item[2]){result.push("@media "+item[2]+"{"+item[1]+"}")}else{result.push(item[1])}}return result.join("")};list.i=function(modules,mediaQuery){if(typeof modules==="string")modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if(typeof id==="number")alreadyImportedModules[id]=true}for(i=0;i<modules.length;i++){var item=modules[i];if(typeof item[0]!=="number"||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2]){item[2]=mediaQuery}else if(mediaQuery){item[2]="("+item[2]+") and ("+mediaQuery+")"}list.push(item)}}};return list}}]);